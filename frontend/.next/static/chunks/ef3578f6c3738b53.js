(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60403,(e,t,n)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function i(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function a(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function s(e,...t){if(!a(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function c(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function l(e,t){s(e);let n=t.outputLen;if(e.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(n,"__esModule",{value:!0}),n.output=n.exists=n.hash=n.bytes=n.bool=n.number=n.isBytes=void 0,n.number=r,n.bool=i,n.isBytes=a,n.bytes=s,n.hash=o,n.exists=c,n.output=l,n.default={number:r,bool:i,bytes:s,hash:o,exists:c,output:l}},415020,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.add5L=n.add5H=n.add4H=n.add4L=n.add3H=n.add3L=n.add=n.rotlBL=n.rotlBH=n.rotlSL=n.rotlSH=n.rotr32L=n.rotr32H=n.rotrBL=n.rotrBH=n.rotrSL=n.rotrSH=n.shrSL=n.shrSH=n.toBig=n.split=n.fromBig=void 0;let r=BigInt(0x100000000-1),i=BigInt(32);function a(e,t=!1){return t?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function s(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:o}=a(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}n.fromBig=a,n.split=s;let o=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);n.toBig=o;let c=(e,t,n)=>e>>>n;n.shrSH=c;let l=(e,t,n)=>e<<32-n|t>>>n;n.shrSL=l;let u=(e,t,n)=>e>>>n|t<<32-n;n.rotrSH=u;let d=(e,t,n)=>e<<32-n|t>>>n;n.rotrSL=d;let f=(e,t,n)=>e<<64-n|t>>>n-32;n.rotrBH=f;let h=(e,t,n)=>e>>>n-32|t<<64-n;n.rotrBL=h;let p=(e,t)=>t;n.rotr32H=p;let m=(e,t)=>e;n.rotr32L=m;let b=(e,t,n)=>e<<n|t>>>32-n;n.rotlSH=b;let g=(e,t,n)=>t<<n|e>>>32-n;n.rotlSL=g;let y=(e,t,n)=>t<<n-32|e>>>64-n;n.rotlBH=y;let w=(e,t,n)=>e<<n-32|t>>>64-n;function v(e,t,n,r){let i=(t>>>0)+(r>>>0);return{h:e+n+(i/0x100000000|0)|0,l:0|i}}n.rotlBL=w,n.add=v;let x=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);n.add3L=x;let k=(e,t,n,r)=>t+n+r+(e/0x100000000|0)|0;n.add3H=k;let E=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);n.add4L=E;let A=(e,t,n,r,i)=>t+n+r+i+(e/0x100000000|0)|0;n.add4H=A;let S=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);n.add5L=S;let I=(e,t,n,r,i,a)=>t+n+r+i+a+(e/0x100000000|0)|0;n.add5H=I,n.default={fromBig:a,split:s,toBig:o,shrSH:c,shrSL:l,rotrSH:u,rotrSL:d,rotrBH:f,rotrBL:h,rotr32H:p,rotr32L:m,rotlSH:b,rotlSL:g,rotlBH:y,rotlBL:w,add:v,add3L:x,add3H:k,add4L:E,add4H:A,add5H:I,add5L:S}},9771,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.crypto=void 0,n.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},108542,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.randomBytes=n.wrapXOFConstructorWithOpts=n.wrapConstructorWithOpts=n.wrapConstructor=n.checkOpts=n.Hash=n.concatBytes=n.toBytes=n.utf8ToBytes=n.asyncLoop=n.nextTick=n.hexToBytes=n.bytesToHex=n.byteSwap32=n.byteSwapIfBE=n.byteSwap=n.isLE=n.rotl=n.rotr=n.createView=n.u32=n.u8=n.isBytes=void 0;let r=e.r(9771),i=e.r(60403);n.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name},n.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),n.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),n.rotr=(e,t)=>e<<32-t|e>>>t,n.rotl=(e,t)=>e<<t|e>>>32-t>>>0,n.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],n.byteSwap=e=>e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255,n.byteSwapIfBE=n.isLE?e=>e:e=>(0,n.byteSwap)(e),n.byteSwap32=function(e){for(let t=0;t<e.length;t++)e[t]=(0,n.byteSwap)(e[t])};let a=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));n.bytesToHex=function(e){(0,i.bytes)(e);let t="";for(let n=0;n<e.length;n++)t+=a[e[n]];return t};function s(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}async function o(e,t,r){let i=Date.now();for(let a=0;a<e;a++){r(a);let e=Date.now()-i;e>=0&&e<t||(await (0,n.nextTick)(),i+=e)}}function c(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function l(e){return"string"==typeof e&&(e=c(e)),(0,i.bytes)(e),e}n.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,n=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){let n=s(e.charCodeAt(i)),a=s(e.charCodeAt(i+1));if(void 0===n||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);r[t]=16*n+a}return r},n.nextTick=async()=>{},n.asyncLoop=o,n.utf8ToBytes=c,n.toBytes=l,n.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){let r=e[n];(0,i.bytes)(r),t+=r.length}let n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){let i=e[t];n.set(i,r),r+=i.length}return n},n.Hash=class{clone(){return this._cloneInto()}};let u={}.toString;n.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==u.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)},n.wrapConstructor=function(e){let t=t=>e().update(l(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},n.wrapConstructorWithOpts=function(e){let t=(t,n)=>e(n).update(l(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},n.wrapXOFConstructorWithOpts=function(e){let t=(t,n)=>e(n).update(l(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},n.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}},225170,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shake256=n.shake128=n.keccak_512=n.keccak_384=n.keccak_256=n.keccak_224=n.sha3_512=n.sha3_384=n.sha3_256=n.sha3_224=n.Keccak=n.keccakP=void 0;let r=e.r(60403),i=e.r(415020),a=e.r(108542),s=[],o=[],c=[],l=BigInt(0),u=BigInt(1),d=BigInt(2),f=BigInt(7),h=BigInt(256),p=BigInt(113);for(let e=0,t=u,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],s.push(2*(5*r+n)),o.push((e+1)*(e+2)/2%64);let i=l;for(let e=0;e<7;e++)(t=(t<<u^(t>>f)*p)%h)&d&&(i^=u<<(u<<BigInt(e))-u);c.push(i)}let[m,b]=(0,i.split)(c,!0),g=(e,t,n)=>n>32?(0,i.rotlBH)(e,t,n):(0,i.rotlSH)(e,t,n),y=(e,t,n)=>n>32?(0,i.rotlBL)(e,t,n):(0,i.rotlSL)(e,t,n);function w(e,t=24){let n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let r=(t+8)%10,i=(t+2)%10,a=n[i],s=n[i+1],o=g(a,s,1)^n[r],c=y(a,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){let r=o[n],a=g(t,i,r),c=y(t,i,r),l=s[n];t=e[l],i=e[l+1],e[l]=a,e[l+1]=c}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=m[r],e[1]^=b[r]}n.fill(0)}n.keccakP=w;class v extends a.Hash{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,r.number)(n),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,a.u32)(this.state)}keccak(){a.isLE||(0,a.byteSwap32)(this.state32),w(this.state32,this.rounds),a.isLE||(0,a.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,r.exists)(this);let{blockLen:t,state:n}=this,i=(e=(0,a.toBytes)(e)).length;for(let r=0;r<i;){let a=Math.min(t-this.pos,i-r);for(let t=0;t<a;t++)n[this.pos++]^=e[r++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,(128&t)!=0&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,r.exists)(this,!1),(0,r.bytes)(e),this.finish();let t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,r.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,r.output)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:a}=this;return e||(e=new v(t,n,r,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}n.Keccak=v;let x=(e,t,n)=>(0,a.wrapConstructor)(()=>new v(t,e,n));n.sha3_224=x(6,144,28),n.sha3_256=x(6,136,32),n.sha3_384=x(6,104,48),n.sha3_512=x(6,72,64),n.keccak_224=x(1,144,28),n.keccak_256=x(1,136,32),n.keccak_384=x(1,104,48),n.keccak_512=x(1,72,64);let k=(e,t,n)=>(0,a.wrapXOFConstructorWithOpts)((r={})=>new v(t,e,void 0===r.dkLen?n:r.dkLen,!0));n.shake128=k(31,168,16),n.shake256=k(31,136,32)},321629,(e,t,n)=>{var r=e.i(467034);let{keccak_256:i}=e.r(225170);function a(e){return r.Buffer.allocUnsafe(e).fill(0)}function s(e,t){let n=e.toString(16);n.length%2!=0&&(n="0"+n);let i=n.match(/.{1,2}/g).map(e=>parseInt(e,16));for(;i.length<t;)i.unshift(0);return r.Buffer.from(i)}function o(e,t,n){let r=a(t);return(e=c(e),n)?e.length<t?(e.copy(r),r):e.slice(0,t):e.length<t?(e.copy(r,t-e.length),r):e.slice(-t)}function c(e){if(!r.Buffer.isBuffer(e))if(Array.isArray(e))e=r.Buffer.from(e);else if("string"==typeof e)e=u(e)?r.Buffer.from(l(d(e)),"hex"):r.Buffer.from(e);else if("number"==typeof e){let t,n;n=(t=e.toString(16),`0x${t}`),e=new r.Buffer(l(n.slice(2)),"hex")}else if(null==e)e=r.Buffer.allocUnsafe(0);else if("bigint"==typeof e)e=s(e);else if(e.toArray)e=r.Buffer.from(e.toArray());else throw Error("invalid type");return e}function l(e){return e.length%2?"0"+e:e}function u(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function d(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}t.exports={zeros:a,setLength:o,setLengthRight:function(e,t){return o(e,t,!0)},isHexString:u,stripHexPrefix:d,toBuffer:c,bufferToHex:function(e){return"0x"+(e=c(e)).toString("hex")},keccak:function(e,t){if(e=c(e),t||(t=256),256!==t)throw Error("unsupported");return r.Buffer.from(i(new Uint8Array(e)))},bitLengthFromBigInt:function(e){return e.toString(2).length},bufferBEFromBigInt:s,twosFromBigInt:function(e,t){return(e<0n?(~e&(1n<<BigInt(t))-1n)+1n:e)&(1n<<BigInt(t))-1n}}},132144,(e,t,n)=>{var r=e.i(467034);let i=e.r(321629);function a(e){if(e.startsWith("int["))return"int256"+e.slice(3);if("int"===e)return"int256";if(e.startsWith("uint["))return"uint256"+e.slice(4);if("uint"===e)return"uint256";if(e.startsWith("fixed["))return"fixed128x128"+e.slice(5);else if("fixed"===e)return"fixed128x128";else if(e.startsWith("ufixed["))return"ufixed128x128"+e.slice(6);else if("ufixed"===e)return"ufixed128x128";return e}function s(e){return Number.parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function o(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[Number.parseInt(t[1],10),Number.parseInt(t[2],10)]}function c(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":Number.parseInt(t[2],10):null}function l(e){var t=typeof e;if("string"===t||"number"===t)return BigInt(e);if("bigint"===t)return e;throw Error("Argument is not a number")}function u(e,t){if("address"===e)return u("uint160",l(t));if("bool"===e)return u("uint8",+!!t);if("string"===e)return u("bytes",new r.Buffer(t,"utf8"));if((h=e).lastIndexOf("]")===h.length-1){if(void 0===t.length)throw Error("Not an array?");if("dynamic"!==(n=c(e))&&0!==n&&t.length>n)throw Error("Elements exceed array size: "+n);for(f in d=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)d.push(u(e,t[f]));if("dynamic"===n){var n,a,d,f,h,p=u("uint256",t.length);d.unshift(p)}return r.Buffer.concat(d)}else if("bytes"===e)return t=new r.Buffer(t),d=r.Buffer.concat([u("uint256",t.length),t]),t.length%32!=0&&(d=r.Buffer.concat([d,i.zeros(32-t.length%32)])),d;else if(e.startsWith("bytes")){if((n=s(e))<1||n>32)throw Error("Invalid bytes<N> width: "+n);return i.setLengthRight(t,32)}else if(e.startsWith("uint")){if((n=s(e))%8||n<8||n>256)throw Error("Invalid uint<N> width: "+n);a=l(t);let r=i.bitLengthFromBigInt(a);if(r>n)throw Error("Supplied uint exceeds width: "+n+" vs "+r);if(a<0)throw Error("Supplied uint is negative");return i.bufferBEFromBigInt(a,32)}else if(e.startsWith("int")){if((n=s(e))%8||n<8||n>256)throw Error("Invalid int<N> width: "+n);a=l(t);let r=i.bitLengthFromBigInt(a);if(r>n)throw Error("Supplied int exceeds width: "+n+" vs "+r);let o=i.twosFromBigInt(a,256);return i.bufferBEFromBigInt(o,32)}else if(e.startsWith("ufixed")){if(n=o(e),(a=l(t))<0)throw Error("Supplied ufixed is negative");return u("uint256",a*BigInt(2)**BigInt(n[1]))}else if(e.startsWith("fixed"))return n=o(e),u("int256",l(t)*BigInt(2)**BigInt(n[1]));throw Error("Unsupported or invalid type: "+e)}function d(e,t){if(e.length!==t.length)throw Error("Number of types are not matching the values");for(var n,o,c=[],u=0;u<e.length;u++){var d=a(e[u]),f=t[u];if("bytes"===d)c.push(f);else if("string"===d)c.push(new r.Buffer(f,"utf8"));else if("bool"===d)c.push(new r.Buffer(f?"01":"00","hex"));else if("address"===d)c.push(i.setLength(f,20));else if(d.startsWith("bytes")){if((n=s(d))<1||n>32)throw Error("Invalid bytes<N> width: "+n);c.push(i.setLengthRight(f,n))}else if(d.startsWith("uint")){if((n=s(d))%8||n<8||n>256)throw Error("Invalid uint<N> width: "+n);o=l(f);let e=i.bitLengthFromBigInt(o);if(e>n)throw Error("Supplied uint exceeds width: "+n+" vs "+e);c.push(i.bufferBEFromBigInt(o,n/8))}else if(d.startsWith("int")){if((n=s(d))%8||n<8||n>256)throw Error("Invalid int<N> width: "+n);o=l(f);let e=i.bitLengthFromBigInt(o);if(e>n)throw Error("Supplied int exceeds width: "+n+" vs "+e);let t=i.twosFromBigInt(o,n);c.push(i.bufferBEFromBigInt(t,n/8))}else throw Error("Unsupported or invalid type: "+d)}return r.Buffer.concat(c)}t.exports={rawEncode:function(e,t){var n=[],i=[],s=32*e.length;for(var o in e){var l=a(e[o]),d=u(l,t[o]);"string"===l||"bytes"===l||"dynamic"===c(l)?(n.push(u("uint256",s)),i.push(d),s+=d.length):n.push(d)}return r.Buffer.concat(n.concat(i))},solidityPack:d,soliditySHA3:function(e,t){return i.keccak(d(e,t))}}},980423,(e,t,n)=>{var r=e.i(467034);let i=e.r(321629),a=e.r(132144),s={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},o={encodeData(e,t,n,s=!0){let o=["bytes32"],c=[this.hashType(e,n)];if(s){let l=(e,t,o)=>{if(void 0!==n[t])return["bytes32",null==o?"0x0000000000000000000000000000000000000000000000000000000000000000":i.keccak(this.encodeData(t,o,n,s))];if(void 0===o)throw Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",i.keccak(o)];if("string"===t)return"string"==typeof o&&(o=r.Buffer.from(o,"utf8")),["bytes32",i.keccak(o)];if(t.lastIndexOf("]")===t.length-1){let n=t.slice(0,t.lastIndexOf("[")),r=o.map(t=>l(e,n,t));return["bytes32",i.keccak(a.rawEncode(r.map(([e])=>e),r.map(([,e])=>e)))]}return[t,o]};for(let r of n[e]){let[e,n]=l(r.name,r.type,t[r.name]);o.push(e),c.push(n)}}else for(let a of n[e]){let e=t[a.name];if(void 0!==e)if("bytes"===a.type)o.push("bytes32"),e=i.keccak(e),c.push(e);else if("string"===a.type)o.push("bytes32"),"string"==typeof e&&(e=r.Buffer.from(e,"utf8")),e=i.keccak(e),c.push(e);else if(void 0!==n[a.type])o.push("bytes32"),e=i.keccak(this.encodeData(a.type,e,n,s)),c.push(e);else if(a.type.lastIndexOf("]")===a.type.length-1)throw Error("Arrays currently unimplemented in encodeData");else o.push(a.type),c.push(e)}return a.rawEncode(o,c)},encodeType(e,t){let n="",r=this.findTypeDependencies(e,t).filter(t=>t!==e);for(let i of r=[e].concat(r.sort())){if(!t[i])throw Error("No type definition specified: "+i);n+=i+"("+t[i].map(({name:e,type:t})=>t+" "+e).join(",")+")"}return n},findTypeDependencies(e,t,n=[]){if(e=e.match(/^\w*/)[0],n.includes(e)||void 0===t[e])return n;for(let r of(n.push(e),t[e]))for(let e of this.findTypeDependencies(r.type,t,n))n.includes(e)||n.push(e);return n},hashStruct(e,t,n,r=!0){return i.keccak(this.encodeData(e,t,n,r))},hashType(e,t){return i.keccak(this.encodeType(e,t))},sanitizeData(e){let t={};for(let n in s.properties)e[n]&&(t[n]=e[n]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){let n=this.sanitizeData(e),a=[r.Buffer.from("1901","hex")];return a.push(this.hashStruct("EIP712Domain",n.domain,n.types,t)),"EIP712Domain"!==n.primaryType&&a.push(this.hashStruct(n.primaryType,n.message,n.types,t)),i.keccak(r.Buffer.concat(a))}};t.exports={TYPED_MESSAGE_SCHEMA:s,TypedDataUtils:o,hashForSignTypedDataLegacy:function(e){return function(e){let t=Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;let n=e.map(function(e){return"bytes"===e.type?i.toBuffer(e.value):e.value}),r=e.map(function(e){return e.type}),s=e.map(function(e){if(!e.name)throw t;return e.type+" "+e.name});return a.soliditySHA3(["bytes32","bytes32"],[a.soliditySHA3(Array(e.length).fill("string"),s),a.soliditySHA3(r,n)])}(e.data)},hashForSignTypedData_v3:function(e){return o.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return o.hash(e.data)}}},471554,e=>{"use strict";let t,n,r,i,a,s;var o,c,l,u,d,f,h,p,m,b,g,y=e.i(579473),w=e.i(408155);let v="4.3.6",x="@coinbase/wallet-sdk",k=(0,w.createStore)((0,y.persist)((...e)=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(()=>({chains:[]}))(...e)),(()=>({keys:{}}))(...e)),(()=>({account:{}}))(...e)),(()=>({subAccount:void 0}))(...e)),(()=>({spendPermissions:[]}))(...e)),(()=>({config:{version:v}}))(...e)),(()=>({subAccountConfig:{}}))(...e)),{name:"cbwsdk.store",storage:(0,y.createJSONStorage)(()=>localStorage),partialize:e=>({chains:e.chains,keys:e.keys,account:e.account,subAccount:e.subAccount,spendPermissions:e.spendPermissions,config:e.config})})),E={get:()=>k.getState().config,set:e=>{k.setState(t=>({config:Object.assign(Object.assign({},t.config),e)}))}},A=Object.assign(Object.assign({},k),{subAccounts:{get:()=>k.getState().subAccount,set:e=>{k.setState(t=>({subAccount:t.subAccount?Object.assign(Object.assign({},t.subAccount),e):Object.assign({address:e.address},e)}))},clear:()=>{k.setState({subAccount:void 0})}},subAccountsConfig:{get:()=>k.getState().subAccountConfig,set:e=>{k.setState(t=>({subAccountConfig:Object.assign(Object.assign({},t.subAccountConfig),e)}))},clear:()=>{k.setState({subAccountConfig:{}})}},spendPermissions:{get:()=>k.getState().spendPermissions,set:e=>{k.setState({spendPermissions:e})},clear:()=>{k.setState({spendPermissions:[]})}},account:{get:()=>k.getState().account,set:e=>{k.setState(t=>({account:Object.assign(Object.assign({},t.account),e)}))},clear:()=>{k.setState({account:{}})}},chains:{get:()=>k.getState().chains,set:e=>{k.setState({chains:e})},clear:()=>{k.setState({chains:[]})}},keys:{get:e=>k.getState().keys[e],set:(e,t)=>{k.setState(n=>({keys:Object.assign(Object.assign({},n.keys),{[e]:t})}))},clear:()=>{k.setState({keys:{}})}},config:E}),S=()=>new Promise((e,t)=>{if(window.ClientAnalytics)return e();try{let t=document.createElement("script");t.textContent='!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClientAnalytics=t():e.ClientAnalytics=t()}(this,(function(){return(()=>{var e={792:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},562:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},335:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},762:(e,t,n)=>{var r,i,a,o,s;r=n(562),i=n(792).utf8,a=n(335),o=n(792).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):i.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,d=-1732584194,p=271733878,m=0;m<n.length;m++)n[m]=16711935&(n[m]<<8|n[m]>>>24)|4278255360&(n[m]<<24|n[m]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var f=s._ff,v=s._gg,g=s._hh,b=s._ii;for(m=0;m<n.length;m+=16){var h=u,w=l,y=d,T=p;u=f(u,l,d,p,n[m+0],7,-680876936),p=f(p,u,l,d,n[m+1],12,-389564586),d=f(d,p,u,l,n[m+2],17,606105819),l=f(l,d,p,u,n[m+3],22,-1044525330),u=f(u,l,d,p,n[m+4],7,-176418897),p=f(p,u,l,d,n[m+5],12,1200080426),d=f(d,p,u,l,n[m+6],17,-1473231341),l=f(l,d,p,u,n[m+7],22,-45705983),u=f(u,l,d,p,n[m+8],7,1770035416),p=f(p,u,l,d,n[m+9],12,-1958414417),d=f(d,p,u,l,n[m+10],17,-42063),l=f(l,d,p,u,n[m+11],22,-1990404162),u=f(u,l,d,p,n[m+12],7,1804603682),p=f(p,u,l,d,n[m+13],12,-40341101),d=f(d,p,u,l,n[m+14],17,-1502002290),u=v(u,l=f(l,d,p,u,n[m+15],22,1236535329),d,p,n[m+1],5,-165796510),p=v(p,u,l,d,n[m+6],9,-1069501632),d=v(d,p,u,l,n[m+11],14,643717713),l=v(l,d,p,u,n[m+0],20,-373897302),u=v(u,l,d,p,n[m+5],5,-701558691),p=v(p,u,l,d,n[m+10],9,38016083),d=v(d,p,u,l,n[m+15],14,-660478335),l=v(l,d,p,u,n[m+4],20,-405537848),u=v(u,l,d,p,n[m+9],5,568446438),p=v(p,u,l,d,n[m+14],9,-1019803690),d=v(d,p,u,l,n[m+3],14,-187363961),l=v(l,d,p,u,n[m+8],20,1163531501),u=v(u,l,d,p,n[m+13],5,-1444681467),p=v(p,u,l,d,n[m+2],9,-51403784),d=v(d,p,u,l,n[m+7],14,1735328473),u=g(u,l=v(l,d,p,u,n[m+12],20,-1926607734),d,p,n[m+5],4,-378558),p=g(p,u,l,d,n[m+8],11,-2022574463),d=g(d,p,u,l,n[m+11],16,1839030562),l=g(l,d,p,u,n[m+14],23,-35309556),u=g(u,l,d,p,n[m+1],4,-1530992060),p=g(p,u,l,d,n[m+4],11,1272893353),d=g(d,p,u,l,n[m+7],16,-155497632),l=g(l,d,p,u,n[m+10],23,-1094730640),u=g(u,l,d,p,n[m+13],4,681279174),p=g(p,u,l,d,n[m+0],11,-358537222),d=g(d,p,u,l,n[m+3],16,-722521979),l=g(l,d,p,u,n[m+6],23,76029189),u=g(u,l,d,p,n[m+9],4,-640364487),p=g(p,u,l,d,n[m+12],11,-421815835),d=g(d,p,u,l,n[m+15],16,530742520),u=b(u,l=g(l,d,p,u,n[m+2],23,-995338651),d,p,n[m+0],6,-198630844),p=b(p,u,l,d,n[m+7],10,1126891415),d=b(d,p,u,l,n[m+14],15,-1416354905),l=b(l,d,p,u,n[m+5],21,-57434055),u=b(u,l,d,p,n[m+12],6,1700485571),p=b(p,u,l,d,n[m+3],10,-1894986606),d=b(d,p,u,l,n[m+10],15,-1051523),l=b(l,d,p,u,n[m+1],21,-2054922799),u=b(u,l,d,p,n[m+8],6,1873313359),p=b(p,u,l,d,n[m+15],10,-30611744),d=b(d,p,u,l,n[m+6],15,-1560198380),l=b(l,d,p,u,n[m+13],21,1309151649),u=b(u,l,d,p,n[m+4],6,-145523070),p=b(p,u,l,d,n[m+11],10,-1120210379),d=b(d,p,u,l,n[m+2],15,718787259),l=b(l,d,p,u,n[m+9],21,-343485551),u=u+h>>>0,l=l+w>>>0,d=d+y>>>0,p=p+T>>>0}return r.endian([u,l,d,p])})._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)}},2:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Perfume:()=>ze,incrementUjNavigation:()=>Le,markStep:()=>Re,markStepOnce:()=>qe});var r,i,a={isResourceTiming:!1,isElementTiming:!1,maxTime:3e4,reportOptions:{},enableNavigationTracking:!0},o=window,s=o.console,c=o.navigator,u=o.performance,l=function(){return c.deviceMemory},d=function(){return c.hardwareConcurrency},p="mark.",m=function(){return u&&!!u.getEntriesByType&&!!u.now&&!!u.mark},f="4g",v=!1,g={},b={value:0},h={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},w={value:0},y={value:0},T={},k={isHidden:!1,didChange:!1},_=function(){k.isHidden=!1,document.hidden&&(k.isHidden=document.hidden,k.didChange=!0)},S=function(e,t){try{var n=new PerformanceObserver((function(e){t(e.getEntries())}));return n.observe({type:e,buffered:!0}),n}catch(e){s.warn("Perfume.js:",e)}return null},E=function(){return!!(d()&&d()<=4)||!!(l()&&l()<=4)},x=function(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return E()||t}},O=function(e){return parseFloat(e.toFixed(4))},j=function(e){return"number"!=typeof e?null:O(e/Math.pow(1024,2))},N=function(e,t,n,r,i){var s,u=function(){a.analyticsTracker&&(k.isHidden&&!["CLS","INP"].includes(e)||a.analyticsTracker({attribution:r,metricName:e,data:t,navigatorInformation:c?{deviceMemory:l()||0,hardwareConcurrency:d()||0,serviceWorkerStatus:"serviceWorker"in c?c.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:E(),isLowEndExperience:x(f,v)}:{},rating:n,navigationType:i}))};["CLS","INP"].includes(e)?u():(s=u,"requestIdleCallback"in o?o.requestIdleCallback(s,{timeout:3e3}):s())},I=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<b.value)){var t=e.duration-50;t>0&&(w.value+=t,y.value+=t)}}))};!function(e){e.instant="instant",e.quick="quick",e.moderate="moderate",e.slow="slow",e.unavoidable="unavoidable"}(r||(r={}));var P,M,B,C,D,A=((i={})[r.instant]={vitalsThresholds:[100,200],maxOutlierThreshold:1e4},i[r.quick]={vitalsThresholds:[200,500],maxOutlierThreshold:1e4},i[r.moderate]={vitalsThresholds:[500,1e3],maxOutlierThreshold:1e4},i[r.slow]={vitalsThresholds:[1e3,2e3],maxOutlierThreshold:1e4},i[r.unavoidable]={vitalsThresholds:[2e3,5e3],maxOutlierThreshold:2e4},i),L={RT:[100,200],TBT:[200,600],NTBT:[200,600]},U=function(e,t){return L[e]?t<=L[e][0]?"good":t<=L[e][1]?"needsImprovement":"poor":null},R=function(e,t,n){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=O(t[e]))})),N(e,t,null,n||{})},q=function(e){var t=e.attribution,n=e.name,r=e.rating,i=e.value,o=e.navigationType;"FCP"===n&&(b.value=i),["FCP","LCP"].includes(n)&&!T[0]&&(T[0]=S("longtask",I)),"FID"===n&&setTimeout((function(){k.didChange||(q({attribution:t,name:"TBT",rating:U("TBT",w.value),value:w.value,navigationType:o}),R("dataConsumption",h.value))}),1e4);var s=O(i);s<=a.maxTime&&s>=0&&N(n,s,r,t,o)},F=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},z=function(e){if("loading"===document.readyState)return"loading";var t=F();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},K=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},$=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:K(r)+(r.className&&r.className.length?"."+r.className.replace(/\\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},Q=-1,W=function(){return Q},H=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Q=t.timeStamp,e(t))}),!0)},V=function(){var e=F();return e&&e.activationStart||0},J=function(e,t){var n=F(),r="navigate";return W()>=0?r="back-forward-cache":n&&(r=document.prerendering||V()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},X=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},G=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Z=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Y=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},ee=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},te=-1,ne=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},re=function(e){"hidden"===document.visibilityState&&te>-1&&(te="visibilitychange"===e.type?e.timeStamp:0,ae())},ie=function(){addEventListener("visibilitychange",re,!0),addEventListener("prerenderingchange",re,!0)},ae=function(){removeEventListener("visibilitychange",re,!0),removeEventListener("prerenderingchange",re,!0)},oe=function(){return te<0&&(te=ne(),ie(),H((function(){setTimeout((function(){te=ne(),ie()}),0)}))),{get firstHiddenTime(){return te}}},se=function(e,t){t=t||{},ee((function(){var n,r=[1800,3e3],i=oe(),a=J("FCP"),o=X("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<i.firstHiddenTime&&(a.value=Math.max(e.startTime-V(),0),a.entries.push(e),n(!0)))}))}));o&&(n=Z(e,a,r,t.reportAllChanges),H((function(i){a=J("FCP"),n=Z(e,a,r,t.reportAllChanges),Y((function(){a.value=performance.now()-i.timeStamp,n(!0)}))})))}))},ce={passive:!0,capture:!0},ue=new Date,le=function(e,t){P||(P=t,M=e,B=new Date,me(removeEventListener),de())},de=function(){if(M>=0&&M<B-ue){var e={entryType:"first-input",name:P.type,target:P.target,cancelable:P.cancelable,startTime:P.timeStamp,processingStart:P.timeStamp+M};C.forEach((function(t){t(e)})),C=[]}},pe=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){le(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,ce),removeEventListener("pointercancel",r,ce)};addEventListener("pointerup",n,ce),addEventListener("pointercancel",r,ce)}(t,e):le(t,e)}},me=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,pe,ce)}))},fe=0,ve=1/0,ge=0,be=function(e){e.forEach((function(e){e.interactionId&&(ve=Math.min(ve,e.interactionId),ge=Math.max(ge,e.interactionId),fe=ge?(ge-ve)/7+1:0)}))},he=function(){return D?fe:performance.interactionCount||0},we=0,ye=function(){return he()-we},Te=[],ke={},_e=function(e){var t=Te[Te.length-1],n=ke[e.interactionId];if(n||Te.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};ke[r.id]=r,Te.push(r)}Te.sort((function(e,t){return t.latency-e.latency})),Te.splice(10).forEach((function(e){delete ke[e.id]}))}},Se={},Ee=function e(t){document.prerendering?ee((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},xe=function(e,t){t=t||{};var n=[800,1800],r=J("TTFB"),i=Z(e,r,n,t.reportAllChanges);Ee((function(){var a=F();if(a){var o=a.responseStart;if(o<=0||o>performance.now())return;r.value=Math.max(o-V(),0),r.entries=[a],i(!0),H((function(){r=J("TTFB",0),(i=Z(e,r,n,t.reportAllChanges))(!0)}))}}))},Oe=function(e){e.forEach((function(e){e.identifier&&q({attribution:{identifier:e.identifier},name:"ET",rating:null,value:e.startTime})}))},je=function(e){e.forEach((function(e){if(a.isResourceTiming&&R("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;h.value[e.initiatorType]+=t,h.value.total+=t}}))},Ne=function(){!function(e,t){xe((function(e){!function(e){if(e.entries.length){var t=e.entries[0],n=t.activationStart||0,r=Math.max(t.domainLookupStart-n,0),i=Math.max(t.connectStart-n,0),a=Math.max(t.requestStart-n,0);e.attribution={waitingTime:r,dnsTime:i-r,connectionTime:a-i,requestTime:e.value-a,navigationEntry:t}}else e.attribution={waitingTime:0,dnsTime:0,connectionTime:0,requestTime:0}}(e),function(e){e.value>0&&q(e)}(e)}),t)}(0,a.reportOptions.ttfb),function(e,t){!function(e,t){t=t||{},ee((function(){var e,n=[.1,.25],r=J("CLS"),i=-1,a=0,o=[],s=function(e){i>-1&&function(e){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var n=(r=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||r[0];if(n)return void(e.attribution={largestShiftTarget:$(n.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:n,largestShiftEntry:t,loadState:z(t.startTime)})}}var r;e.attribution={}}(e),function(e){q(e)}(e)}(e)},c=function(t){t.forEach((function(t){if(!t.hadRecentInput){var n=o[0],i=o[o.length-1];a&&t.startTime-i.startTime<1e3&&t.startTime-n.startTime<5e3?(a+=t.value,o.push(t)):(a=t.value,o=[t]),a>r.value&&(r.value=a,r.entries=o,e())}}))},u=X("layout-shift",c);u&&(e=Z(s,r,n,t.reportAllChanges),se((function(t){i=t.value,r.value<0&&(r.value=0,e())})),G((function(){c(u.takeRecords()),e(!0)})),H((function(){a=0,i=-1,r=J("CLS",0),e=Z(s,r,n,t.reportAllChanges),Y((function(){return e()}))})))}))}(0,t)}(0,a.reportOptions.cls),function(e,t){se((function(e){!function(e){if(e.entries.length){var t=F(),n=e.entries[e.entries.length-1];if(t){var r=t.activationStart||0,i=Math.max(0,t.responseStart-r);return void(e.attribution={timeToFirstByte:i,firstByteToFCP:e.value-i,loadState:z(e.entries[0].startTime),navigationEntry:t,fcpEntry:n})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:z(W())}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.fcp),function(e,t){!function(e,t){t=t||{},ee((function(){var n,r=[100,300],i=oe(),a=J("FID"),o=function(e){e.startTime<i.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),n(!0))},s=function(e){e.forEach(o)},c=X("first-input",s);n=Z(e,a,r,t.reportAllChanges),c&&G((function(){s(c.takeRecords()),c.disconnect()}),!0),c&&H((function(){var i;a=J("FID"),n=Z(e,a,r,t.reportAllChanges),C=[],M=-1,P=null,me(addEventListener),i=o,C.push(i),de()}))}))}((function(e){!function(e){var t=e.entries[0];e.attribution={eventTarget:$(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:z(t.startTime)}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.fid),function(e,t){!function(e,t){t=t||{},ee((function(){var n,r=[2500,4e3],i=oe(),a=J("LCP"),o=function(e){var t=e[e.length-1];if(t){var r=Math.max(t.startTime-V(),0);r<i.firstHiddenTime&&(a.value=r,a.entries=[t],n())}},s=X("largest-contentful-paint",o);if(s){n=Z(e,a,r,t.reportAllChanges);var c=function(){Se[a.id]||(o(s.takeRecords()),s.disconnect(),Se[a.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,c,{once:!0,capture:!0})})),G(c,!0),H((function(i){a=J("LCP"),n=Z(e,a,r,t.reportAllChanges),Y((function(){a.value=performance.now()-i.timeStamp,Se[a.id]=!0,n(!0)}))}))}}))}((function(e){!function(e){if(e.entries.length){var t=F();if(t){var n=t.activationStart||0,r=e.entries[e.entries.length-1],i=r.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===r.url}))[0],a=Math.max(0,t.responseStart-n),o=Math.max(a,i?(i.requestStart||i.startTime)-n:0),s=Math.max(o,i?i.responseEnd-n:0),c=Math.max(s,r?r.startTime-n:0),u={element:$(r.element),timeToFirstByte:a,resourceLoadDelay:o-a,resourceLoadTime:s-o,elementRenderDelay:c-s,navigationEntry:t,lcpEntry:r};return r.url&&(u.url=r.url),i&&(u.lcpResourceEntry=i),void(e.attribution=u)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.lcp),function(e,t){!function(e,t){t=t||{},ee((function(){var n=[200,500];"interactionCount"in performance||D||(D=X("event",be,{type:"event",buffered:!0,durationThreshold:0}));var r,i=J("INP"),a=function(e){e.forEach((function(e){e.interactionId&&_e(e),"first-input"===e.entryType&&!Te.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&_e(e)}));var t,n=(t=Math.min(Te.length-1,Math.floor(ye()/50)),Te[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())},o=X("event",a,{durationThreshold:t.durationThreshold||40});r=Z(e,i,n,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),G((function(){a(o.takeRecords()),i.value<0&&ye()>0&&(i.value=0,i.entries=[]),r(!0)})),H((function(){Te=[],we=he(),i=J("INP"),r=Z(e,i,n,t.reportAllChanges)})))}))}((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:$(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:z(t.startTime)}}else e.attribution={}}(t),e(t)}),t)}((function(e){return q(e)}),a.reportOptions.inp),a.isResourceTiming&&S("resource",je),a.isElementTiming&&S("element",Oe)},Ie=function(e){var t="usageDetails"in e?e.usageDetails:{};R("storageEstimate",{quota:j(e.quota),usage:j(e.usage),caches:j(t.caches),indexedDB:j(t.indexedDB),serviceWorker:j(t.serviceWorkerRegistrations)})},Pe={finalMarkToStepsMap:{},startMarkToStepsMap:{},active:{},navigationSteps:{}},Me=function(e){delete Pe.active[e]},Be=function(){return Pe.navigationSteps},Ce=function(e){var t;return null!==(t=Be()[e])&&void 0!==t?t:{}},De=function(e,t,n){var r="step."+e,i=u.getEntriesByName(p+t).length>0;if(u.getEntriesByName(p+n).length>0&&a.steps){var o=A[a.steps[e].threshold],s=o.maxOutlierThreshold,c=o.vitalsThresholds;if(i){var l=u.measure(r,p+t,p+n),d=l.duration;if(d<=s){var m=function(e,t){return e<=t[0]?"good":e<=t[1]?"needsImprovement":"poor"}(d,c);d>=0&&(N("userJourneyStep",d,m,{stepName:e},void 0),u.measure("step.".concat(e,"_vitals_").concat(m),{start:l.startTime+l.duration,end:l.startTime+l.duration,detail:{type:"stepVital",duration:d}}))}}}},Ae=function(){var e=Be(),t=Pe.startMarkToStepsMap,n=Object.keys(e).length;if(0===n)return{};var r={},i=n-1,a=Ce(i);if(Object.keys(a).forEach((function(e){var n,i=null!==(n=t[e])&&void 0!==n?n:[];Object.keys(i).forEach((function(e){r[e]=!0}))})),n>1){var o=Ce(i-1);Object.keys(o).forEach((function(e){var n,i=null!==(n=t[e])&&void 0!==n?n:[];Object.keys(i).forEach((function(e){r[e]=!0}))}))}return r},Le=function(){var e,t=Object.keys(Pe.navigationSteps).length;Pe.navigationSteps[t]={};var n=Ae();null===(e=a.onMarkStep)||void 0===e||e.call(a,"",Object.keys(n))},Ue=function(e){var t,n,r,i,o,s,c;if(Pe.finalMarkToStepsMap[e]){!function(e){var t=Pe.navigationSteps,n=Pe.finalMarkToStepsMap,r=Object.keys(t).length;if(0!==r){var i=r-1,a=Ce(i);if(a&&n[e]){var o=n[e];o&&Object.keys(o).forEach((function(e){if(a[e]){var n=Ce(i)||{};n[e]=!1,t[i]=n}if(r>1){var o=i-1,s=Ce(o);s[e]&&(s[e]=!1,t[o]=s)}}))}}}(e);var u=Pe.finalMarkToStepsMap[e];Object.keys(u).forEach((function(t){var n=u[t];n.forEach(Me),Promise.all(n.map((function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(e,t){function i(e){try{o(r.next(e))}catch(e){t(e)}}function a(e){try{o(r.throw(e))}catch(e){t(e)}}function o(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}o((r=r.apply(undefined,[])).next())}))}(0,0,void 0,(function(){return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(r){switch(r.label){case 0:return[4,De(n,t,e)];case 1:return r.sent(),[2]}}))}))}))).catch((function(){}))}))}else r=e,i=Pe.navigationSteps,o=Object.keys(i).length,(c=Ce(s=(o>0?o:1)-1)||[])[r]=!0,i[s]=c,function(e){var t,n=null!==(t=Pe.startMarkToStepsMap[e])&&void 0!==t?t:[];Object.keys(n).forEach((function(e){Pe.active[e]||(Pe.active[e]=!0)}))}(e);if(a.enableNavigationTracking){var l=Ae();null===(t=a.onMarkStep)||void 0===t||t.call(a,e,Object.keys(l))}else null===(n=a.onMarkStep)||void 0===n||n.call(a,e,Object.keys(Pe.active))},Re=function(e){u.mark(p+e),Ue(e)},qe=function(e){0===u.getEntriesByName(p+e).length&&(u.mark(p+e),Ue(e))},Fe=0,ze=function(){function e(e){if(void 0===e&&(e={}),this.v="9.0.0-rc.3",a.analyticsTracker=e.analyticsTracker,a.isResourceTiming=!!e.resourceTiming,a.isElementTiming=!!e.elementTiming,a.maxTime=e.maxMeasureTime||a.maxTime,a.reportOptions=e.reportOptions||a.reportOptions,a.steps=e.steps,a.onMarkStep=e.onMarkStep,a.enableNavigationTracking=e.enableNavigationTracking,m()){"PerformanceObserver"in o&&Ne(),void 0!==document.hidden&&document.addEventListener("visibilitychange",_);var t=function(){if(!m())return{};var e=u.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,n=e.responseEnd;return{fetchTime:n-e.fetchStart,workerTime:e.workerStart>0?n-e.workerStart:0,totalTime:n-e.requestStart,downloadTime:n-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart,redirectTime:e.redirectEnd-e.redirectStart}}();R("navigationTiming",t),t.redirectTime&&q({attribution:{},name:"RT",rating:U("RT",t.redirectTime),value:t.redirectTime}),R("networkInformation",function(){if("connection"in c){var e=c.connection;return"object"!=typeof e?{}:(f=e.effectiveType,v=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),c&&c.storage&&"function"==typeof c.storage.estimate&&c.storage.estimate().then(Ie),a.steps&&a.steps&&(Pe.startMarkToStepsMap={},Pe.finalMarkToStepsMap={},Pe.active={},Pe.navigationSteps={},Object.entries(a.steps).forEach((function(e){var t,n,r=e[0],i=e[1].marks,a=i[0],o=i[1],s=null!==(n=Pe.startMarkToStepsMap[a])&&void 0!==n?n:{};if(s[r]=!0,Pe.startMarkToStepsMap[a]=s,Pe.finalMarkToStepsMap[o]){var c=Pe.finalMarkToStepsMap[o][a]||[];c.push(r),Pe.finalMarkToStepsMap[o][a]=c}else Pe.finalMarkToStepsMap[o]=((t={})[a]=[r],t)})))}}return e.prototype.start=function(e){m()&&!g[e]&&(g[e]=!0,u.mark("mark_".concat(e,"_start")))},e.prototype.end=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n=!0),m()&&g[e]){u.mark("mark_".concat(e,"_end")),delete g[e];var r=function(e){u.measure(e,"mark_".concat(e,"_start"),"mark_".concat(e,"_end"));var t=u.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t.duration:-1}(e);n&&R(e,O(r),t)}},e.prototype.endPaint=function(e,t){var n=this;setTimeout((function(){n.end(e,t)}))},e.prototype.clear=function(e){delete g[e],u.clearMarks&&(u.clearMarks("mark_".concat(e,"_start")),u.clearMarks("mark_".concat(e,"_end")))},e.prototype.markNTBT=function(){var e=this;this.start("ntbt"),y.value=0,clearTimeout(Fe),Fe=setTimeout((function(){e.end("ntbt",{},!1),q({attribution:{},name:"NTBT",rating:U("NTBT",y.value),value:y.value}),y.value=0}),2e3)},e}()},426:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.iterator;var n={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r=Object.assign,i={};function a(e,t,r){this.props=e,this.context=t,this.refs=i,this.updater=r||n}function o(){}function s(e,t,r){this.props=e,this.context=t,this.refs=i,this.updater=r||n}a.prototype.isReactComponent={},a.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=a.prototype;var c=s.prototype=new o;c.constructor=s,r(c,a.prototype),c.isPureReactComponent=!0;Array.isArray,Object.prototype.hasOwnProperty;var u={current:null};t.useCallback=function(e,t){return u.current.useCallback(e,t)},t.useEffect=function(e,t){return u.current.useEffect(e,t)},t.useRef=function(e){return u.current.useRef(e)}},784:(e,t,n)=>{"use strict";e.exports=n(426)},353:function(e,t,n){var r;!function(i,a){"use strict";var o="function",s="undefined",c="object",u="string",l="major",d="model",p="name",m="type",f="vendor",v="version",g="architecture",b="console",h="mobile",w="tablet",y="smarttv",T="wearable",k="embedded",_="Amazon",S="Apple",E="ASUS",x="BlackBerry",O="Browser",j="Chrome",N="Firefox",I="Google",P="Huawei",M="LG",B="Microsoft",C="Motorola",D="Opera",A="Samsung",L="Sharp",U="Sony",R="Xiaomi",q="Zebra",F="Facebook",z="Chromium OS",K="Mac OS",$=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},Q=function(e,t){return typeof e===u&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===u)return e=e.replace(/^\\s\\s*/,""),typeof t===s?e:e.substring(0,350)},V=function(e,t){for(var n,r,i,s,u,l,d=0;d<t.length&&!u;){var p=t[d],m=t[d+1];for(n=r=0;n<p.length&&!u&&p[n];)if(u=p[n++].exec(e))for(i=0;i<m.length;i++)l=u[++r],typeof(s=m[i])===c&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):a:this[s[0]]=l?s[1].call(this,l,s[2]):a:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):a):this[s]=l||a;d+=2}},J=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(Q(t[n][r],e))return"?"===n?a:n}else if(Q(t[n],e))return"?"===n?a:n;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[p,v],[/opios[\\/ ]+([\\w\\.]+)/i],[v,[p,D+" Mini"]],[/\\bopr\\/([\\w\\.]+)/i],[v,[p,D]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(heytap|ovi)browser\\/([\\d\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[p,v],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[v,[p,"UC"+O]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[v,[p,"WeChat(Win) Desktop"]],[/micromessenger\\/([\\w\\.]+)/i],[v,[p,"WeChat"]],[/konqueror\\/([\\w\\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\\/([\\w\\.]+)/i],[v,[p,"Yandex"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[p,/(.+)/,"$1 Secure "+O],v],[/\\bfocus\\/([\\w\\.]+)/i],[v,[p,N+" Focus"]],[/\\bopt\\/([\\w\\.]+)/i],[v,[p,D+" Touch"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\\/([\\w\\.]+)/i],[v,[p,"Dolphin"]],[/coast\\/([\\w\\.]+)/i],[v,[p,D+" Coast"]],[/miuibrowser\\/([\\w\\.]+)/i],[v,[p,"MIUI "+O]],[/fxios\\/([-\\w\\.]+)/i],[v,[p,N]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+O]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[p,/(.+)/,"$1 "+O],v],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[p,/_/g," "],v],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[p,v],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[p],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[p,F],v],[/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[p,v],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[v,[p,j+" Headless"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[p,j+" WebView"],v],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[v,[p,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[p,v],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[p,[v,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[p,v],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[p,"Netscape"],v],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[v,[p,N+" Reality"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i,/panasonic;(viera)/i],[p,v],[/(cobalt)\\/([\\w\\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,W]],[/((?:i[346]|x)86)[;\\)]/i],[[g,"ia32"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[g,"arm64"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[g,/ower/,"",W]],[/(sun4\\w)[;\\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[g,W]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,A],[m,w]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[d,[f,A],[m,h]],[/(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i],[d,[f,S],[m,h]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[d,[f,S],[m,w]],[/(macintosh);/i],[d,[f,S]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[d,[f,L],[m,h]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[d,[f,P],[m,w]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[d,[f,P],[m,h]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[d,/_/g," "],[f,R],[m,h]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[d,/_/g," "],[f,R],[m,w]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[d,[f,"OPPO"],[m,h]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[m,h]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[d,[f,"Realme"],[m,h]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[d,[f,C],[m,h]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[d,[f,C],[m,w]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,M],[m,w]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[d,[f,M],[m,h]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[d,[f,"Lenovo"],[m,w]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[m,h]],[/(pixel c)\\b/i],[d,[f,I],[m,w]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[d,[f,I],[m,h]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[d,[f,U],[m,h]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[d,"Xperia Tablet"],[f,U],[m,w]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[d,[f,"OnePlus"],[m,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[d,[f,_],[m,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,_],[m,h]],[/(playbook);[-\\w\\),; ]+(rim)/i],[d,f,[m,w]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[d,[f,x],[m,h]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[d,[f,E],[m,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[d,[f,E],[m,h]],[/(nexus 9)/i],[d,[f,"HTC"],[m,w]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[f,[d,/_/g," "],[m,h]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[d,[f,"Acer"],[m,w]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[d,[f,"Meizu"],[m,h]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[f,d,[m,h]],[/(kobo)\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[f,d,[m,w]],[/(surface duo)/i],[d,[f,B],[m,w]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[d,[f,"Fairphone"],[m,h]],[/(u304aa)/i],[d,[f,"AT&T"],[m,h]],[/\\bsie-(\\w*)/i],[d,[f,"Siemens"],[m,h]],[/\\b(rct\\w+) b/i],[d,[f,"RCA"],[m,w]],[/\\b(venue[\\d ]{2,7}) b/i],[d,[f,"Dell"],[m,w]],[/\\b(q(?:mv|ta)\\w+) b/i],[d,[f,"Verizon"],[m,w]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[d,[f,"Barnes & Noble"],[m,w]],[/\\b(tm\\d{3}\\w+) b/i],[d,[f,"NuVision"],[m,w]],[/\\b(k88) b/i],[d,[f,"ZTE"],[m,w]],[/\\b(nx\\d{3}j) b/i],[d,[f,"ZTE"],[m,h]],[/\\b(gen\\d{3}) b.+49h/i],[d,[f,"Swiss"],[m,h]],[/\\b(zur\\d{3}) b/i],[d,[f,"Swiss"],[m,w]],[/\\b((zeki)?tb.*\\b) b/i],[d,[f,"Zeki"],[m,w]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[f,"Dragon Touch"],d,[m,w]],[/\\b(ns-?\\w{0,9}) b/i],[d,[f,"Insignia"],[m,w]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[d,[f,"NextBook"],[m,w]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[m,h]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[f,"LvTel"],d,[m,h]],[/\\b(ph-1) /i],[d,[f,"Essential"],[m,h]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[d,[f,"Envizen"],[m,w]],[/\\b(trio[-\\w\\. ]+) b/i],[d,[f,"MachSpeed"],[m,w]],[/\\btu_(1491) b/i],[d,[f,"Rotor"],[m,w]],[/(shield[\\w ]+) b/i],[d,[f,"Nvidia"],[m,w]],[/(sprint) (\\w+)/i],[f,d,[m,h]],[/(kin\\.[onetw]{3})/i],[[d,/\\./g," "],[f,B],[m,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[d,[f,q],[m,w]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[d,[f,q],[m,h]],[/smart-tv.+(samsung)/i],[f,[m,y]],[/hbbtv.+maple;(\\d+)/i],[[d,/^/,"SmartTV"],[f,A],[m,y]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[f,M],[m,y]],[/(apple) ?tv/i],[f,[d,S+" TV"],[m,y]],[/crkey/i],[[d,j+"cast"],[f,I],[m,y]],[/droid.+aft(\\w)( bui|\\))/i],[d,[f,_],[m,y]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[d,[f,L],[m,y]],[/(bravia[\\w ]+)( bui|\\))/i],[d,[f,U],[m,y]],[/(mitv-\\w{5}) bui/i],[d,[f,R],[m,y]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[m,y]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[f,H],[d,H],[m,y]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[m,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[m,b]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[d,[f,U],[m,b]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[d,[f,B],[m,b]],[/((pebble))app/i],[f,d,[m,T]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[d,[f,S],[m,T]],[/droid.+; (glass) \\d/i],[d,[f,I],[m,T]],[/droid.+; (wt63?0{2,3})\\)/i],[d,[f,q],[m,T]],[/(quest( 2| pro)?)/i],[d,[f,F],[m,T]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[f,[m,k]],[/(aeobc)\\b/i],[d,[f,_],[m,k]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[d,[m,h]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[d,[m,w]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[m,w]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[m,h]],[/(android[-\\w\\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[v,[p,"EdgeHTML"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[v,[p,"Blink"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,/\\b(libweb)/i],[p,v],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[p,[v,J,X]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[p,"Windows"],[v,J,X]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/ios;fbsv\\/([\\d\\.]+)/i,/cfnetwork\\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[p,K],[v,/_/g,"."]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[p,v],[/\\(bb(10);/i],[v,[p,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[v,[p,"Symbian"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[v,[p,N+" OS"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[v,[p,"watchOS"]],[/crkey\\/([\\d\\.]+)/i],[v,[p,j+"cast"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[p,z],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[p,v],[/(sunos) ?([\\w\\.\\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\\w\\.]*)/i],[p,v]]},Z=function(e,t){if(typeof e===c&&(t=e,e=a),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof i!==s&&i.navigator?i.navigator:a,r=e||(n&&n.userAgent?n.userAgent:""),b=n&&n.userAgentData?n.userAgentData:a,y=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(G,t):G,T=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[p]=a,t[v]=a,V.call(t,r,y.browser),t[l]=typeof(e=t[v])===u?e.replace(/[^\\d\\.]/g,"").split(".")[0]:a,T&&n&&n.brave&&typeof n.brave.isBrave==o&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[g]=a,V.call(e,r,y.cpu),e},this.getDevice=function(){var e={};return e[f]=a,e[d]=a,e[m]=a,V.call(e,r,y.device),T&&!e[m]&&b&&b.mobile&&(e[m]=h),T&&"Macintosh"==e[d]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[m]=w),e},this.getEngine=function(){var e={};return e[p]=a,e[v]=a,V.call(e,r,y.engine),e},this.getOS=function(){var e={};return e[p]=a,e[v]=a,V.call(e,r,y.os),T&&!e[p]&&b&&"Unknown"!=b.platform&&(e[p]=b.platform.replace(/chrome os/i,z).replace(/macos/i,K)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>350?H(e,350):e,this},this.setUA(r),this};Z.VERSION="1.0.35",Z.BROWSER=$([p,v,l]),Z.CPU=$([g]),Z.DEVICE=$([d,f,m,b,h,y,w,T,k]),Z.ENGINE=Z.OS=$([p,v]),typeof t!==s?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?(r=function(){return Z}.call(t,n,t,e))===a||(e.exports=r):typeof i!==s&&(i.UAParser=Z);var Y=typeof i!==s&&(i.jQuery||i.Zepto);if(Y&&!Y.ua){var ee=new Z;Y.ua=ee.getResult(),Y.ua.get=function(){return ee.getUA()},Y.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Y.ua[n]=t[n]}}}("object"==typeof window?window:this)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{ActionType:()=>f,AmplitudePlatformName:()=>g,AnalyticsEventImportance:()=>l,AnalyticsQueries:()=>e,AuthStatus:()=>b,ComponentType:()=>m,IThresholdTier:()=>Jt,MetricType:()=>d,PlatformName:()=>v,SessionActions:()=>h,SessionAutomatedEvents:()=>w,SessionRank:()=>y,SubjectType:()=>p,UserTypeCommerce:()=>c,UserTypeInsto:()=>i,UserTypeRetail:()=>t,UserTypeRetailBusinessBanking:()=>s,UserTypeRetailEmployeeInternal:()=>a,UserTypeRetailEmployeePersonal:()=>o,UserTypeWallet:()=>u,automatedEvents:()=>xn,automatedMappingConfig:()=>In,clearMarkEntry:()=>Vn,clearPerformanceMarkEntries:()=>Xn,config:()=>A,createEventConfig:()=>On,createNewSpan:()=>Ln,createNewTrace:()=>Un,device:()=>W,endPerfMark:()=>Jn,exposeExperiment:()=>wn,flushQueue:()=>or,generateUUID:()=>V,getAnalyticsHeaders:()=>sr,getReferrerData:()=>le,getTracingHeaders:()=>An,getTracingId:()=>Dn,getUrlHostname:()=>pe,getUrlParams:()=>me,getUrlPathname:()=>fe,getUserContext:()=>ar,identify:()=>Tn,identifyFlow:()=>xe,identity:()=>H,identityFlow:()=>Se,incrementUjNavigation:()=>an,init:()=>yn,initNextJsTrackPageview:()=>_n,initTrackPageview:()=>kn,isEventKeyFormatValid:()=>we,isSessionEnded:()=>pt,location:()=>re,logEvent:()=>$t,logMetric:()=>Ht,logPageView:()=>on,logTrace:()=>Rn,markNTBT:()=>tn,markStep:()=>nn,markStepOnce:()=>rn,onVisibilityChange:()=>ln,optIn:()=>En,optOut:()=>Sn,perfMark:()=>Wn,persistentData:()=>oe,postMessage:()=>K,recordSessionDuration:()=>pn,removeFromIdentifyFlow:()=>Ee,savePersistentData:()=>st,sendScheduledEvents:()=>Bt,setBreadcrumbs:()=>ie,setConfig:()=>U,setLocation:()=>ae,setPagePath:()=>ve,setPageview:()=>Kt,setPersistentData:()=>se,setSessionStart:()=>dt,setTime:()=>Ue,startPerfMark:()=>Hn,timeStone:()=>Le,useEventLogger:()=>Yn,useLogEventOnMount:()=>tr,usePerformanceMarks:()=>rr});let e=function(e){return e.fbclid="fbclid",e.gclid="gclid",e.msclkid="msclkid",e.ptclid="ptclid",e.ttclid="ttclid",e.utm_source="utm_source",e.utm_medium="utm_medium",e.utm_campaign="utm_campaign",e.utm_term="utm_term",e.utm_content="utm_content",e}({});const t=0,i=1,a=2,o=3,s=4,c=5,u=6;let l=function(e){return e.low="low",e.high="high",e}({}),d=function(e){return e.count="count",e.rate="rate",e.gauge="gauge",e.distribution="distribution",e.histogram="histogram",e}({}),p=function(e){return e.commerce_merchant="commerce_merchant",e.device="device",e.edp_fingerprint_id="edp_fingerprint_id",e.nft_user="nft_user",e.user="user",e.wallet_user="wallet_user",e.uuid="user_uuid",e}({}),m=function(e){return e.unknown="unknown",e.banner="banner",e.button="button",e.card="card",e.chart="chart",e.content_script="content_script",e.dropdown="dropdown",e.link="link",e.page="page",e.modal="modal",e.table="table",e.search_bar="search_bar",e.service_worker="service_worker",e.text="text",e.text_input="text_input",e.tray="tray",e.checkbox="checkbox",e.icon="icon",e}({}),f=function(e){return e.unknown="unknown",e.blur="blur",e.click="click",e.change="change",e.dismiss="dismiss",e.focus="focus",e.hover="hover",e.select="select",e.measurement="measurement",e.move="move",e.process="process",e.render="render",e.scroll="scroll",e.view="view",e.search="search",e.keyPress="keyPress",e}({}),v=function(e){return e.unknown="unknown",e.web="web",e.android="android",e.ios="ios",e.mobile_web="mobile_web",e.tablet_web="tablet_web",e.server="server",e.windows="windows",e.macos="macos",e.extension="extension",e}({}),g=function(e){return e.web="Web",e.ios="iOS",e.android="Android",e}({}),b=function(e){return e[e.notLoggedIn=0]="notLoggedIn",e[e.loggedIn=1]="loggedIn",e}({}),h=function(e){return e.ac="ac",e.af="af",e.ah="ah",e.al="al",e.am="am",e.ar="ar",e.as="as",e}({}),w=function(e){return e.pv="pv",e}({}),y=function(e){return e.xs="xs",e.s="s",e.m="m",e.l="l",e.xl="xl",e.xxl="xxl",e}({});const T="https://analytics-service-dev.cbhq.net",k=3e5,_=5e3,S="analytics-db",E="experiment-exposure-db",x="Analytics SDK:",O=Object.values(e),j="pageview",N="session_duration",I={navigationTiming:{eventName:"perf_navigation_timing"},redirectTime:{eventName:"perf_redirect_time"},RT:{eventName:"perf_redirect_time"},TTFB:{eventName:"perf_time_to_first_byte"},networkInformation:{eventName:"perf_network_information"},storageEstimate:{eventName:"perf_storage_estimate"},FCP:{eventName:"perf_first_contentful_paint"},FID:{eventName:"perf_first_input_delay"},LCP:{eventName:"perf_largest_contentful_paint"},CLS:{eventName:"perf_cumulative_layout_shift"},TBT:{eventName:"perf_total_blocking_time"},NTBT:{eventName:"perf_navigation_total_blocking_time"},INP:{eventName:"perf_interact_to_next_paint"},ET:{eventName:"perf_element_timing"},userJourneyStep:{eventName:"perf_user_journey_step"}},P="1",M="web";function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}const C=/^(https?:\\/\\/)/;function D(e){return{eventsEndpoint:e+"/amp",metricsEndPoint:e+"/metrics",exposureEndpoint:e+"/track-exposures",tracesEndpoint:e+"/traces"}}const A=B({authCookie:"logged_in",amplitudeApiKey:"",batchEventsPeriod:_,batchEventsThreshold:30,batchMetricsPeriod:_,batchMetricsThreshold:30,batchTracesPeriod:_,batchTracesThreshold:30,headers:{},interactionManager:null,isAlwaysAuthed:!1,isProd:!1,isInternalApplication:!1,onError:(e,t)=>{console.error(x,e,t)},platform:v.unknown,projectName:"",ricTimeoutScheduleEvent:1e3,ricTimeoutSetDevice:500,showDebugLogging:!1,trackUserId:!1,version:null,apiEndpoint:T},D(T),{steps:{}}),L=[].reduce(((e,t)=>n=>e(t(n))),(e=>{if(!e.isProd)return e.isInternalApplication?(e.apiEndpoint="https://analytics-service-internal-dev.cbhq.net",B({},e,D(e.apiEndpoint))):e;const t=(e=>e.apiEndpoint?C.test(e.apiEndpoint)?e.apiEndpoint:`https://${e.apiEndpoint}`:e.isInternalApplication?"https://analytics-service-internal.cbhq.net":"https://as.coinbase.com")(e);return B({},e,{apiEndpoint:t},D(t))})),U=e=>{const{batchEventsThreshold:t,batchMetricsThreshold:n,batchTracesThreshold:r}=e,i=[t,n,r];for(const e of i)if((e||0)>30){console.warn("You are setting the threshhold for the batch limit to be greater than 30. This may cause request overload.");break}Object.assign(A,L(e))},R=[v.web,v.mobile_web,v.tablet_web];function q(){return"android"===A.platform}function F(){return"ios"===A.platform}function z(){return R.includes(A.platform)}function K(e){if(z()&&navigator&&"serviceWorker"in navigator&&navigator.serviceWorker.controller)try{navigator.serviceWorker.controller.postMessage(e)}catch(e){e instanceof Error&&A.onError(e)}}var $=n(353),Q=n.n($);const W={amplitudeOSName:null,amplitudeOSVersion:null,amplitudeDeviceModel:null,amplitudePlatform:null,browserName:null,browserMajor:null,osName:null,userAgent:null,width:null,height:null},H={countryCode:null,deviceId:null,device_os:null,isOptOut:!1,languageCode:null,locale:null,jwt:null,session_lcc_id:null,userAgent:null,userId:null},V=e=>e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,V),J=()=>A.isAlwaysAuthed||!!H.userId,X=()=>{const e={};return H.countryCode&&(e.country_code=H.countryCode),e},G=()=>{const{platform:e}=A;if(e===v.web)switch(!0){case window.matchMedia("(max-width: 560px)").matches:return v.mobile_web;case window.matchMedia("(max-width: 1024px, min-width: 561px)").matches:return v.tablet_web}return e},Z=()=>{var e,t,n,r,i;z()?("requestIdleCallback"in window?window.requestIdleCallback(ne,{timeout:A.ricTimeoutSetDevice}):ne(),W.amplitudePlatform=g.web,W.userAgent=(null==(e=window)||null==(e=e.navigator)?void 0:e.userAgent)||null,ee({height:null!=(t=null==(n=window)?void 0:n.innerHeight)?t:null,width:null!=(r=null==(i=window)?void 0:i.innerWidth)?r:null})):F()?(W.amplitudePlatform=g.ios,W.userAgent=H.userAgent,W.userAgent&&ne()):q()&&(W.userAgent=H.userAgent,W.amplitudePlatform=g.android,W.userAgent&&ne())},Y=e=>{Object.assign(H,e),z()&&K({identity:{isAuthed:!!H.userId,locale:H.locale||null}})},ee=e=>{W.height=e.height,W.width=e.width},te=()=>{U({platform:G()}),z()&&K({config:{platform:A.platform}})},ne=()=>{var e;performance.mark&&performance.mark("ua_parser_start");const t=new(Q())(null!=(e=W.userAgent)?e:"").getResult();W.browserName=t.browser.name||null,W.browserMajor=t.browser.major||null,W.osName=t.os.name||null,W.amplitudeOSName=W.browserName,W.amplitudeOSVersion=W.browserMajor,W.amplitudeDeviceModel=W.osName,K({device:{browserName:W.browserName,osName:W.osName}}),performance.mark&&(performance.mark("ua_parser_end"),performance.measure("ua_parser","ua_parser_start","ua_parser_end"))},re={breadcrumbs:[],initialUAAData:{},pageKey:"",pageKeyRegex:{},pagePath:"",prevPageKey:"",prevPagePath:""};function ie(e){Object.assign(re,{breadcrumbs:e})}function ae(e){Object.assign(re,e)}const oe={eventId:0,sequenceNumber:0,sessionId:0,lastEventTime:0,sessionStart:0,sessionUUID:null,userId:null,ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0};function se(e){Object.assign(oe,e)}function ce(){var e,t;return null!=(e=null==(t=document)?void 0:t.referrer)?e:""}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}const le=()=>{const e=ce();if(!e)return{};const t=new URL(e);return t.hostname===pe()?{}:{referrer:e,referring_domain:t.hostname}},de=()=>{const e=new URLSearchParams(me()),t={};return O.forEach((n=>{e.has(n)&&(t[n]=(e.get(n)||"").toLowerCase())})),t},pe=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.hostname)||""},me=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.search)||""},fe=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.pathname)||""},ve=()=>{const e=A.overrideWindowLocation?re.pagePath:fe()+me();e&&e!==re.pagePath&&(e!==re.pagePath&&ge(),re.pagePath=e,re.pageKeyRegex&&Object.keys(re.pageKeyRegex).some((e=>{if(re.pageKeyRegex[e].test(re.pagePath))return re.pageKey=e,!0})))},ge=()=>{if(z()){const e=ce();if(!re.prevPagePath&&e){const t=new URL(e);if(t.hostname===pe())return void(re.prevPagePath=t.pathname)}}re.prevPagePath=re.pagePath,re.prevPageKey=re.pageKey},be=e=>{z()&&Object.assign(e,z()?(Object.keys(re.initialUAAData).length>0||(new URLSearchParams(me()),re.initialUAAData=ue({},(()=>{const e={};return O.forEach((t=>{oe[t]&&(e[t]=oe[t])})),e})(),de(),le())),re.initialUAAData):re.initialUAAData)},he=/^[a-zd]+(_[a-zd]+)*$/;function we(e){return he.test(e)}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}const Te=["action","component_type","component_name","context","logging_id"],ke=["num_non_hardware_accounts","ujs"],_e="ujs_",Se={};function Ee(e){e.forEach((e=>{ke.includes(e)&&delete Se[e]}))}function xe(e){var t;const n=Object.entries(e).reduce(((e,t)=>{const[n,r]=t;return!Te.includes(n)&&ke.includes(n)?we(n)?ye({},e,{[n]:r}):(A.onError(new Error("IdentityFlow property names must have snake case format"),{[n]:r}),e):e}),{});null!=(t=n.ujs)&&t.length&&(n.ujs=n.ujs.map((e=>`${_e}${e}`))),Object.assign(Se,n)}function Oe(){return A.platform!==v.unknown||(A.onError(new Error("SDK platform not initialized")),!1)}const je={eventsQueue:[],eventsScheduled:!1,metricsQueue:[],metricsScheduled:!1,tracesQueue:[],tracesScheduled:!1};function Ne(e){Object.assign(je,e)}const Ie={ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0},Pe={ac:20,af:5,ah:1,al:1,am:0,ar:10,as:20},Me={pv:25},Be={xs:0,s:1,m:1,l:2,xl:2,xxl:2},Ce=e=>e<15?y.xs:e<60?y.s:e<240?y.m:e<960?y.l:e<3840?y.xl:y.xxl,De=e=>{Object.assign(Ie,e)};function Ae(){return(new Date).getTime()}const Le={timeStart:Ae(),timeOnPagePath:0,timeOnPageKey:0,prevTimeOnPagePath:0,prevTimeOnPageKey:0,sessionDuration:0,sessionEnd:0,sessionStart:0,prevSessionDuration:0};function Ue(e){Object.assign(Le,e)}const Re=(e,t)=>t.some((t=>e instanceof t));let qe,Fe;const ze=new WeakMap,Ke=new WeakMap,$e=new WeakMap,Qe=new WeakMap,We=new WeakMap;let He={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ke.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$e.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Je(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ve(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Fe||(Fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Xe(this),e),Je(ze.get(this))}:function(...e){return Je(t.apply(Xe(this),e))}:function(e,...n){const r=t.call(Xe(this),e,...n);return $e.set(r,e.sort?e.sort():[e]),Je(r)}:(e instanceof IDBTransaction&&function(e){if(Ke.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ke.set(e,t)}(e),Re(e,qe||(qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,He):e);var t}function Je(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Je(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&ze.set(t,e)})).catch((()=>{})),We.set(t,e),t}(e);if(Qe.has(e))return Qe.get(e);const t=Ve(e);return t!==e&&(Qe.set(e,t),We.set(t,e)),t}const Xe=e=>We.get(e),Ge=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],Ye=new Map;function et(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ye.get(t))return Ye.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ze.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ge.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,i?"readwrite":"readonly");let o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return Ye.set(t,a),a}var tt;tt=He,He={...tt,get:(e,t,n)=>et(e,t)||tt.get(e,t,n),has:(e,t)=>!!et(e,t)||tt.has(e,t)};const nt={isReady:!1,idbKeyval:null};function rt(e){Object.assign(nt,e)}const it={},at=async e=>{if(!nt.idbKeyval)return Promise.resolve(null);try{return await nt.idbKeyval.get(e)}catch(e){return A.onError(new Error("IndexedDB:Get:InternalError")),Promise.resolve(null)}},ot=async(e,t)=>{if(nt.idbKeyval)try{await nt.idbKeyval.set(e,t)}catch(e){A.onError(new Error("IndexedDB:Set:InternalError"))}},st=()=>{"server"!==A.platform&&(se({sessionStart:Le.sessionStart,ac:Ie.ac,af:Ie.af,ah:Ie.ah,al:Ie.al,am:Ie.am,ar:Ie.ar,as:Ie.as,pv:Ie.pv}),H.userId&&se({userId:H.userId}),ot(S,oe))},ct="rgb(5,177,105)",ut=e=>{const{metricName:t,data:n}=e,r=e.importance||l.low;if(!A.showDebugLogging||!console)return;const i=`%c ${x}`,a=`color:${ct};font-size:11px;`,o=`Importance: ${r}`;console.group(i,a,t,o),n.forEach((e=>{e.event_type?console.log(e.event_type,e):console.log(e)})),console.groupEnd()},lt=e=>{const{metricName:t,data:n}=e,r=e.importance||l.low;if(!A.showDebugLogging||!console)return;const i=`color:${ct};font-size:11px;`,a=`%c ${x}`,o=`Importance: ${r}`;console.log(a,i,t,n,o)},dt=()=>{const e=Ae();oe.sessionId&&oe.lastEventTime&&oe.sessionUUID&&!pt(e)||(oe.sessionId=e,oe.sessionUUID=V(),Ue({sessionStart:e}),lt({metricName:"Started new session:",data:{persistentData:oe,timeStone:Le}})),oe.lastEventTime=e},pt=e=>e-oe.lastEventTime>18e5;function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}const ft=e=>{var t;(e=>{switch(e.action){case f.click:Ie.ac+=1;break;case f.focus:Ie.af+=1;break;case f.hover:Ie.ah+=1;break;case f.move:Ie.am+=1;break;case f.scroll:Ie.al+=1;break;case f.search:Ie.ar+=1;break;case f.select:Ie.as+=1}})(t=e),t.event_type!==j?t.event_type===N&&((e=>{if(!e.session_rank)return;const t=e.session_rank;Object.values(h).forEach((e=>{Ie.sqs+=Ie[e]*Pe[e]})),Object.values(w).forEach((e=>{Ie.sqs+=Ie[e]*Me[e]})),Ie.sqs*=Be[t]})(t),Object.assign(t,Ie),De({ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0})):Ie.pv+=1;const n=e.event_type;delete e.event_type;const r=e.deviceId?e.deviceId:null,i=e.timestamp;return delete e.timestamp,se({eventId:oe.eventId+1}),se({sequenceNumber:oe.sequenceNumber+1}),dt(),st(),{device_id:H.deviceId||r||null,user_id:H.userId,timestamp:i,event_id:oe.eventId,session_id:oe.sessionId||-1,event_type:n,version_name:A.version||null,platform:W.amplitudePlatform,os_name:W.amplitudeOSName,os_version:W.amplitudeOSVersion,device_model:W.amplitudeDeviceModel,language:H.languageCode,event_properties:mt({},e,{session_uuid:oe.sessionUUID,height:W.height,width:W.width}),user_properties:X(),uuid:V(),library:{name:"@cbhq/client-analytics",version:"10.6.0"},sequence_number:oe.sequenceNumber,user_agent:W.userAgent||H.userAgent}},vt=e=>e.map((e=>ft(e)));function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}const bt=e=>e.map((e=>(e=>{const t=e.tags||{},n=gt({authed:J()?"true":"false",platform:A.platform},t,{project_name:A.projectName,version_name:A.version||null});return{metric_name:e.metricName,page_path:e.pagePath||null,value:e.value,tags:n,type:e.metricType}})(e))),ht=e=>0!==je.metricsQueue.length&&(je.metricsQueue.length>=A.batchMetricsThreshold||(je.metricsScheduled||(je.metricsScheduled=!0,setTimeout((()=>{je.metricsScheduled=!1,e(bt(je.metricsQueue)),je.metricsQueue=[]}),A.batchMetricsPeriod)),!1)),wt=e=>0!==je.tracesQueue.length&&(je.tracesQueue.length>=A.batchTracesThreshold||(je.tracesScheduled||(je.tracesScheduled=!0,setTimeout((()=>{je.tracesScheduled=!1,e(je.tracesQueue),je.tracesQueue=[]}),A.batchTracesPeriod)),!1)),yt=e=>{var t;z()&&null!=(t=window)&&t.requestIdleCallback?window.requestIdleCallback(e,{timeout:A.ricTimeoutScheduleEvent}):(q()||F())&&A.interactionManager?A.interactionManager.runAfterInteractions(e):e()};function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tt.apply(this,arguments)}const kt="application/x-www-form-urlencoded; charset=UTF-8",_t=e=>{const{data:t,importance:n,isJSON:r,onError:i,url:a}=e,o=r?"application/json":kt,s=n||l.low,c=r?JSON.stringify(t):new URLSearchParams(t).toString();function u(){const e=new XMLHttpRequest;e.open("POST",a,!0),Object.keys(A.headers||{}).forEach((t=>{e.setRequestHeader(t,A.headers[t])})),e.setRequestHeader("Content-Type",kt),H.jwt&&e.setRequestHeader("authorization",`Bearer ${H.jwt}`),e.send(c)}if(!z()||r||!("sendBeacon"in navigator)||s!==l.low||A.headers&&0!==Object.keys(A.headers).length)if(z()&&!r)u();else{const e=Tt({},A.headers,{"Content-Type":o});H.jwt&&(e.Authorization=`Bearer ${H.jwt}`),fetch(a,{method:"POST",mode:"no-cors",headers:e,body:c}).catch((e=>{i(e,{context:"AnalyticsSDKApiError"})}))}else{const e=new Blob([c],{type:kt});try{navigator.sendBeacon.bind(navigator)(a,e)||u()}catch(e){console.error(e),u()}}};var St=n(762),Et=n.n(St);const xt=(e,t,n)=>{const r=e||"";return Et()("2"+r+t+n)};function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot.apply(this,arguments)}class jt extends Error{constructor(e){super(e),this.name="CircularJsonReference",this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}class Nt extends jt{constructor(...e){super(...e),this.name="DomReferenceInAnalyticsEvent"}}function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}const Pt=(e,t=l.low)=>{var n;e&&je.eventsQueue.push(e),nt.isReady&&(!A.trackUserId||H.userId?(t===l.high||(n=Mt,0!==je.eventsQueue.length&&(je.eventsQueue.length>=A.batchEventsThreshold||(je.eventsScheduled||(je.eventsScheduled=!0,setTimeout((()=>{je.eventsScheduled=!1,n(vt(je.eventsQueue)),je.eventsQueue=[]}),A.batchEventsPeriod)),0))))&&Bt():je.eventsQueue.length>10&&(A.trackUserId=!1,A.onError(new Error("userId not set in Logged-in"))))},Mt=(e,t=l.low)=>{if(H.isOptOut||0===e.length)return;let n;try{n=JSON.stringify(e)}catch(t){const r=e.map((e=>e.event_type)).join(", "),[i,a]=(e=>{try{const n=[];for(const r of e){const e=Ot({},r);r.event_properties&&(e.event_properties=Ot({},e.event_properties,{currentTarget:null,target:null,relatedTarget:null,_dispatchInstances:null,_targetInst:null,view:(t=r.event_properties.view,["string","number","boolean"].includes(typeof t)?r.event_properties.view:null)})),n.push(e)}return[!0,JSON.stringify(n)]}catch(e){return[!1,""]}var t})(e);if(!i)return void A.onError(new jt(t instanceof Error?t.message:"unknown"),{listEventType:r});n=a,A.onError(new Nt("Found DOM element reference"),{listEventType:r,stringifiedEventData:n})}const r=Ae().toString(),i=It({},{e:n,v:"2",upload_time:r},{client:A.amplitudeApiKey,checksum:xt(A.amplitudeApiKey,n,r)});_t({url:A.eventsEndpoint,data:i,importance:t,onError:A.onError}),ut({metricName:"Batch Events",data:e,importance:t})},Bt=()=>{Mt(vt(je.eventsQueue)),Ne({eventsQueue:[]})};function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct.apply(this,arguments)}const Dt=Object.values(f),At=Object.values(m),Lt=e=>Dt.includes(e)?e:f.unknown,Ut=e=>At.includes(e)?e:m.unknown,Rt=(e,t,n)=>{const r={auth:J()?b.loggedIn:b.notLoggedIn,action:Lt(e),component_type:Ut(t),logging_id:n,platform:A.platform,project_name:A.projectName};return"number"==typeof H.userTypeEnum&&(r.user_type_enum=H.userTypeEnum),r},qt=e=>{const t=Ae();if(!e)return A.onError(new Error("missing logData")),Ct({},Rt(f.unknown,m.unknown),{locale:H.locale,session_lcc_id:H.session_lcc_id,timestamp:t,time_start:Le.timeStart});const n=Ct({},e,Rt(e.action,e.componentType,e.loggingId),{locale:H.locale,session_lcc_id:H.session_lcc_id,timestamp:t,time_start:Le.timeStart});return delete n.componentType,delete n.loggingId,n},Ft={blacklistRegex:[],isEnabled:!1};function zt(){return{page_key:re.pageKey,page_path:re.pagePath,prev_page_key:re.prevPageKey,prev_page_path:re.prevPagePath}}function Kt(e){Object.assign(Ft,e)}function $t(e,t,n=l.low){if(H.isOptOut)return;if(!Oe())return;const r=qt(t);!function(e){Ft.isEnabled&&(ve(),Object.assign(e,zt()))}(r),be(r),function(e){Object.keys(Se).length>0&&Object.assign(e,Se)}(r),r.has_double_fired=!1,r.event_type=e,n===l.high?Pt(r,n):yt((()=>{Pt(r)}))}function Qt(e,t=!1){t?_t({url:A.metricsEndPoint,data:{metrics:e},isJSON:!0,onError:A.onError}):yt((()=>{_t({url:A.metricsEndPoint,data:{metrics:e},isJSON:!0,onError:A.onError})})),ut({metricName:"Batch Metrics",data:e})}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt.apply(this,arguments)}function Ht(e){if(!Oe())return;v.server!==A.platform&&!e.pagePath&&re.pagePath&&(e.pagePath=re.pagePath);const t=Object.keys(Se).length?Wt({},e.tags,Se):e.tags;t&&Object.assign(e,{tags:t}),je.metricsQueue.push(e),ht(Qt)&&(Qt(bt(je.metricsQueue)),je.metricsQueue=[])}function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}let Jt=function(e){return e.instant="instant",e.quick="quick",e.moderate="moderate",e.slow="slow",e.unavoidable="unavoidable",e}({});function Xt(e){return e.toLowerCase()}let Gt={};const Zt=(e,t)=>{null!=A&&A.onMarkStep&&A.onMarkStep(e,t),xe({ujs:t})};let Yt;const en={Perfume:()=>{},markStep:e=>{},markStepOnce:e=>{},incrementUjNavigation:()=>{}},tn=()=>{z()&&Yt&&Yt.markNTBT&&Yt.markNTBT()},nn=e=>{z()&&Yt&&en.markStep&&en.markStep(e)},rn=e=>{z()&&Yt&&en.markStepOnce&&en.markStepOnce(e)},an=()=>{z()&&Yt&&en.incrementUjNavigation&&en.incrementUjNavigation()};function on(e={callMarkNTBT:!0}){"unknown"!==A.platform&&(Ft.blacklistRegex.some((e=>e.test(fe())))||($t(j,{action:f.render,componentType:m.page}),e.callMarkNTBT&&tn()))}let sn=!1,cn=!1;const un=e=>{sn=!e.persisted},ln=(e,t="hidden",n=!1)=>{cn||(addEventListener("pagehide",un),addEventListener("beforeunload",(()=>{})),cn=!0),addEventListener("visibilitychange",(({timeStamp:n})=>{document.visibilityState===t&&e({timeStamp:n,isUnloading:sn})}),{capture:!0,once:n})},dn=36e3;function pn(){const e=pt(Ae());if(e&&(O.forEach((e=>{oe[e]&&delete oe[e]})),st()),!oe.lastEventTime||!Le.sessionStart||!e)return;const t=Math.round((oe.lastEventTime-Le.sessionStart)/1e3);if(t<1||t>dn)return;const n=Ce(t);$t(N,{action:f.measurement,componentType:m.page,session_duration:t,session_end:oe.lastEventTime,session_start:Le.sessionStart,session_rank:n})}function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mn.apply(this,arguments)}const fn=[],vn=[],gn=()=>{const e=fn.shift();e&&e()},bn=()=>{const e=vn.shift();e&&e()};let hn={};function wn(e){const t=function(e){return{test_name:e.testName,group_name:e.group,subject_id:e.subjectId,exposed_at:Ae(),subject_type:e.subjectType,platform:A.platform}}(e);hn[e.testName]=hn[e.testName]||0,hn[e.testName]+k>Ae()?lt({metricName:`Event: exposeExperiment ${e.testName} not sent`,data:t}):(hn[e.testName]=Ae(),ot(E,hn),lt({metricName:`Event: exposeExperiment ${e.testName} sent`,data:t}),_t({url:A.exposureEndpoint,data:[t],onError:(t,n)=>{hn[e.testName]=0,ot(E,hn),A.onError(t,n)},isJSON:!0,importance:l.high}))}const yn=e=>{var t,r,i;U(e),z()&&(H.languageCode=(null==(t=navigator)?void 0:t.languages[0])||(null==(r=navigator)?void 0:r.language)||""),te(),(()=>{var e;if(z()&&null!=(e=window)&&e.indexedDB){const e=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=Je(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Je(o.result),e.oldVersion,e.newVersion,Je(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("keyval-store",1,{upgrade(e){e.createObjectStore("keyval")}});rt({idbKeyval:{get:async t=>(await e).get("keyval",t),set:async(t,n)=>(await e).put("keyval",n,t),delete:async t=>(await e).delete("keyval",t),keys:async()=>(await e).getAllKeys("keyval")}})}else rt({idbKeyval:{get:async e=>new Promise((t=>{t(it[e])})),set:async(e,t)=>new Promise((n=>{it[e]=t,n(e)})),delete:async e=>new Promise((()=>{delete it[e]})),keys:async()=>new Promise((e=>{e(Object.keys(it))}))}})})(),lt({metricName:"Initialized Analytics:",data:{deviceId:H.deviceId}}),fn.push((()=>{Pt()})),(async()=>{const e=await at(S);rt({isReady:!0}),gn(),e&&(bn(),se({eventId:e.eventId||oe.eventId,sequenceNumber:e.sequenceNumber||oe.sequenceNumber,sessionId:e.sessionId||oe.sessionId,lastEventTime:e.lastEventTime||oe.lastEventTime,sessionUUID:e.sessionUUID||oe.sessionUUID}),function(e){se(mn({},function(e){const t={};return O.forEach((n=>{e[n]&&(t[n]=e[n])})),t}(e),de()))}(e),Ue({sessionStart:e.sessionStart||oe.sessionStart}),De({ac:e.ac||Ie.ac,af:e.af||Ie.af,ah:e.ah||Ie.ah,al:e.al||Ie.al,am:e.am||Ie.am,ar:e.ar||Ie.ar,as:e.as||Ie.as,pv:e.pv||Ie.pv}),A.trackUserId&&Y({userId:e.userId||H.userId}),pn(),lt({metricName:"Initialized Analytics IndexedDB:",data:e}))})(),async function(){at(E).then((e=>{hn=null!=e?e:{}})).catch((e=>{e instanceof Error&&A.onError(e)}))}(),Z(),z()&&(ln((()=>{se({lastEventTime:Ae()}),st(),Bt()}),"hidden"),ln((()=>{pn()}),"visible")),z()&&(i=()=>{var e,t,n,r;te(),ee({width:null!=(e=null==(t=window)?void 0:t.innerWidth)?e:null,height:null!=(n=null==(r=window)?void 0:r.innerHeight)?n:null})},addEventListener("resize",(()=>{requestAnimationFrame((()=>{i()}))}))),(()=>{if(z())try{const e=n(2);en.markStep=e.markStep,en.markStepOnce=e.markStepOnce,en.incrementUjNavigation=e.incrementUjNavigation,Yt=new e.Perfume({analyticsTracker:e=>{const{data:t,attribution:n,metricName:r,navigatorInformation:i,rating:a}=e,o=I[r],s=(null==n?void 0:n.category)||null;if(!o&&!s)return;const c=(null==i?void 0:i.deviceMemory)||0,u=(null==i?void 0:i.hardwareConcurrency)||0,l=(null==i?void 0:i.isLowEndDevice)||!1,p=(null==i?void 0:i.isLowEndExperience)||!1,v=(null==i?void 0:i.serviceWorkerStatus)||"unsupported",g=Vt({deviceMemory:c,hardwareConcurrency:u,isLowEndDevice:l,isLowEndExperience:p,serviceWorkerStatus:v},Gt),b={is_low_end_device:l,is_low_end_experience:p,page_key:re.pageKey||"",save_data:t.saveData||!1,service_worker:v,is_perf_metric:!0};if("navigationTiming"===r)t&&"number"==typeof t.redirectTime&&Ht({metricName:I.redirectTime.eventName,metricType:d.histogram,tags:b,value:t.redirectTime||0});else if("TTFB"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,vitalsScore:a||null},g)),Ht({metricName:I.TTFB.eventName,metricType:d.histogram,tags:Vt({},b),value:t}),a&&Ht({metricName:`perf_web_vitals_ttfb_${a}`,metricType:d.count,tags:b,value:1});else if("networkInformation"===r)null!=t&&t.effectiveType&&(Gt=t,$t(o.eventName,{action:f.measurement,componentType:m.page,networkInformationDownlink:t.downlink,networkInformationEffectiveType:t.effectiveType,networkInformationRtt:t.rtt,networkInformationSaveData:t.saveData,navigatorDeviceMemory:c,navigatorHardwareConcurrency:u}));else if("storageEstimate"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page},t,g)),Ht({metricName:"perf_storage_estimate_caches",metricType:d.histogram,tags:b,value:t.caches}),Ht({metricName:"perf_storage_estimate_indexed_db",metricType:d.histogram,tags:b,value:t.indexedDB});else if("CLS"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page,score:100*t||null,vitalsScore:a||null},g)),a&&Ht({metricName:`perf_web_vitals_cls_${a}`,metricType:d.count,tags:b,value:1});else if("FID"===r){const e=(null==n?void 0:n.performanceEntry)||null,r=parseInt((null==e?void 0:e.processingStart)||"");$t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,processingStart:null!=e&&e.processingStart?r:null,startTime:null!=e&&e.startTime?parseInt(e.startTime):null,vitalsScore:a||null},g)),a&&Ht({metricName:`perf_web_vitals_fidVitals_${a}`,metricType:d.count,tags:b,value:1})}else"userJourneyStep"===r?($t("perf_user_journey_step",Vt({action:f.measurement,componentType:m.page,duration:t||null,rating:null!=a?a:null,step_name:(null==n?void 0:n.stepName)||""},g)),Ht({metricName:`user_journey_step.${A.projectName}.${A.platform}.${(null==n?void 0:n.stepName)||""}_vitals_${a}`,metricType:d.count,tags:b,value:1}),Ht({metricName:`user_journey_step.${A.projectName}.${A.platform}.${(null==n?void 0:n.stepName)||""}`,metricType:d.distribution,tags:b,value:t||null})):I[r]&&t&&($t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,vitalsScore:a||null},g)),a&&(Ht({metricName:`perf_web_vitals_${Xt(r)}_${a}`,metricType:d.count,tags:b,value:1}),"LCP"===r&&Ht({metricName:`perf_web_vitals_${Xt(r)}`,metricType:d.distribution,tags:b,value:t})))},maxMeasureTime:3e4,steps:A.steps,onMarkStep:Zt})}catch(e){e instanceof Error&&A.onError(e)}})()},Tn=e=>{Y(e),e.userAgent&&Z(),lt({metricName:"Identify:",data:{countryCode:H.countryCode,deviceId:H.deviceId,userId:H.userId}})},kn=({blacklistRegex:e,pageKeyRegex:t,browserHistory:n})=>{Kt({blacklistRegex:e||[],isEnabled:!0}),ae({pageKeyRegex:t}),on({callMarkNTBT:!1}),n.listen((()=>{on()}))},_n=({blacklistRegex:e,pageKeyRegex:t,nextJsRouter:n})=>{Kt({blacklistRegex:e||[],isEnabled:!0}),ae({pageKeyRegex:t}),on({callMarkNTBT:!1}),n.events.on("routeChangeComplete",(()=>{on()}))},Sn=()=>{Y({isOptOut:!0}),ot(S,{})},En=()=>{Y({isOptOut:!1})},xn={Button:{label:"cb_button",uuid:"e921a074-40e6-4371-8700-134d5cd633e6",componentType:m.button}};function On(e,t,n){return{componentName:e,actions:t,data:n}}function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jn.apply(this,arguments)}function Nn(e,t,n){const{componentName:r,data:i}=n;$t(e.label,jn({componentType:e.componentType,action:t,loggingId:e.uuid,component_name:r},i))}const In={actionMapping:{onPress:f.click,onHover:f.hover},handlers:{Button:{[f.click]:e=>Nn(xn.Button,f.click,e),[f.hover]:e=>Nn(xn.Button,f.hover,e)}}};function Pn(e,t=!1){t?_t({url:A.tracesEndpoint,data:{traces:e},isJSON:!0,onError:A.onError}):yt((()=>{_t({url:A.tracesEndpoint,data:{traces:e},isJSON:!0,onError:A.onError})})),ut({metricName:"Batch Traces",data:e})}function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}const Bn=1e6;function Cn(e){return e*Bn}function Dn(e=function(){var e;return null==(e=window)?void 0:e.crypto}()){const t=new Uint32Array(2);return null==e||e.getRandomValues(t),((BigInt(t[0])<<BigInt(32))+BigInt(t[1])).toString()}function An(e,t){return{"x-datadog-origin":"rum","x-datadog-parent-id":t,"x-datadog-sampling-priority":"1","x-datadog-trace-id":e}}function Ln(e){var t;const{name:n,traceId:r,spanId:i,start:a,duration:o,resource:s,meta:c}=e;return{duration:o?Cn(o):0,name:n,resource:s,service:A.projectName,span_id:null!=i?i:Dn(),start:a?Cn(a):0,trace_id:null!=r?r:Dn(),parent_id:P,type:M,meta:Mn({platform:A.platform},re.pageKey?{page_key:re.pageKey}:{},null!=(t=Se.ujs)&&t.length?{last_ujs:Se.ujs[Se.ujs.length-1]}:{},null!=c?c:{})}}function Un(e){return[Ln(e)]}function Rn(e,t){Oe()&&function(e){return e.length>0}(e)&&(t&&function(e,t){e.forEach((e=>function(e,t){const n=Mn({},e.meta,t.meta),r={start:t.start?Cn(t.start):e.start,duration:t.duration?Cn(t.duration):e.duration};Object.assign(e,t,Mn({meta:n},r))}(e,t)))}(e,t),je.tracesQueue.push(e),wt(Pn)&&(Pn(je.tracesQueue),je.tracesQueue=[]))}function qn(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fn.apply(this,arguments)}function zn(){return void 0!==typeof window&&"performance"in window&&"mark"in performance&&"getEntriesByName"in performance}function Kn(e,t){return`perf_${e}${null!=t&&t.label?`_${t.label}`:""}`}function $n(e,t,n){return`${Kn(e,n)}__${t}`}let Qn={};function Wn(e,t,n){if(!zn())return;const r=$n(e,t,n);if(performance.mark(r),"end"===t){const t=Kn(e,n);!function(e,t,n){try{performance.measure(e,t,n)}catch(e){A.onError(e)}}(t,$n(e,"start",n),r);const i=performance.getEntriesByName(t).pop();i&&Ht(Fn({metricName:e,metricType:d.distribution,value:i.duration},null!=n&&n.tags?{tags:n.tags}:{}))}}function Hn(e,t){if(!zn())return;const n=$n(e,"start",t);Qn[n]||(Wn(e,"start",t),Qn[n]=!0)}function Vn(e,t){const n=$n(e,"start",t),r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(Qn,[n].map(qn));Qn=r}function Jn(e,t){if(!zn())return;const n=$n(e,"start",t);Qn[n]&&(Wn(e,"end",t),Vn(e,t))}function Xn(){zn()&&(performance.clearMarks(),Qn={})}var Gn=n(784);function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}function Yn(e,t,n=l.low){const r=(0,Gn.useRef)(t);return(0,Gn.useEffect)((()=>{r.current=t}),[t]),(0,Gn.useCallback)((t=>{$t(e,Zn({},r.current,t),n)}),[e,n])}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(this,arguments)}function tr(e,t,n=l.low){(0,Gn.useEffect)((()=>{const r=er({},t,{action:f.render});$t(e,r,n)}),[])}function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}const rr=function(e,t){return{markStartPerf:(0,Gn.useCallback)((()=>Hn(e,t)),[e,t]),markEndPerf:(0,Gn.useCallback)((n=>Jn(e,nr({},t,n))),[e,t])}};function ir(){return ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ir.apply(this,arguments)}function ar(){return Object.entries(ir({},Se,zt(),{sessionUUID:oe.sessionUUID,userId:oe.userId})).reduce(((e,t)=>{return null!=(n=t[1])&&""!==n?ir({},e,{[t[0]]:t[1]}):e;var n}),{})}async function or(){return new Promise((e=>{Mt(vt(je.eventsQueue)),Qt(bt(je.metricsQueue),!0),Pn(je.tracesQueue,!0),Ne({eventsQueue:[],metricsQueue:[],tracesQueue:[]}),e()}))}function sr(){return{"X-CB-Device-ID":H.deviceId||"unknown","X-CB-Is-Logged-In":H.userId?"true":"false","X-CB-Pagekey":re.pageKey||"unknown","X-CB-UJS":(e=Se.ujs,void 0===e||0===e.length?"":e.join(",")),"X-CB-Platform":A.platform||"unknown","X-CB-Project-Name":A.projectName||"unknown","X-CB-Session-UUID":oe.sessionUUID||"unknown","X-CB-Version-Name":A.version?String(A.version):"unknown"};var e}})(),r})()}));',t.type="text/javascript",document.head.appendChild(t),I(),document.head.removeChild(t),e()}catch(e){console.error("Failed to execute inlined telemetry script"),t()}}),I=()=>{var e,t,n;if("undefined"!=typeof window){let r=null!=(n=null!=(e=A.config.get().deviceId)?e:null==(t=window.crypto)?void 0:t.randomUUID())?n:"";if(window.ClientAnalytics){let{init:e,identify:t,PlatformName:n}=window.ClientAnalytics;e({isProd:!0,amplitudeApiKey:"c66737ad47ec354ced777935b0af822e",platform:n.web,projectName:"base_account_sdk",showDebugLogging:!1,version:"1.0.0",apiEndpoint:"https://cca-lite.coinbase.com"}),t({deviceId:r}),A.config.set({deviceId:r})}}};var T=e.i(467034);let C=-32004,_=-32602,O=-32603,P=4001,B=4100,j=4200,M=4900,N={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},L="Unspecified error message.";function D(e,t=L){if(e&&Number.isInteger(e)){var n;let t=e.toString();if(R(N,t))return N[t].message;if((n=e)>=-32099&&n<=-32e3)return"Unspecified server error."}return t}function U(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function H(e,t){return"object"==typeof e&&null!==e&&t in e&&"string"==typeof e[t]}let q=e=>G(_,e),W=e=>G(O,e),F=e=>G(C,e),z=e=>J(P,e),V=e=>J(B,e),$=e=>J(j,e),K=e=>J(M,e),Z=e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:n,data:r}=e;if(!n||"string"!=typeof n)throw Error('"message" must be a nonempty string');return new X(t,n,r)};function G(e,t){let[n,r]=Y(t);return new Q(e,n||D(e),r)}function J(e,t){let[n,r]=Y(t);return new X(e,n||D(e),r)}function Y(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:n}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,n]}}return[]}class Q extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==n&&(this.data=n)}}class X extends Q{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}function ee(e){return"object"==typeof e&&null!==e&&"code"in e&&"data"in e&&-32090===e.code&&"object"==typeof e.data&&null!==e.data&&"type"in e.data&&"INSUFFICIENT_FUNDS"===e.data.type}function et(e){return"object"==typeof e&&null!==e&&"details"in e}function en(e){return Math.floor(e)}let er=/^[0-9]*$/,ei=/^[a-f0-9]*$/;function ea(e){return es(crypto.getRandomValues(new Uint8Array(e)))}function es(e){return[...e].map(e=>e.toString(16).padStart(2,"0")).join("")}function eo(e){return new Uint8Array(e.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function ec(e,t=!1){let n=e.toString("hex");return t?`0x${n}`:n}function el(e){return ec(ew(e),!0)}function eu(e){return e.toString(10)}function ed(e){return`0x${BigInt(e).toString(16)}`}function ef(e){return e.startsWith("0x")||e.startsWith("0X")}function eh(e){return ef(e)?e.slice(2):e}function ep(e){return ef(e)?`0x${e.slice(2)}`:`0x${e}`}function em(e){if("string"!=typeof e)return!1;let t=eh(e).toLowerCase();return ei.test(t)}function eb(e,t=!1){if("string"==typeof e){let n=eh(e).toLowerCase();if(ei.test(n))return t?`0x${n}`:n}throw q(`"${String(e)}" is not a hexadecimal string`)}function eg(e,t=!1){let n=eb(e,!1);return n.length%2==1&&(n=`0${n}`),t?`0x${n}`:n}function ey(e){if("string"==typeof e){let t=eh(e).toLowerCase();if(em(t)&&40===t.length)return ep(t)}throw q(`Invalid Ethereum address: ${String(e)}`)}function ew(e){if(T.Buffer.isBuffer(e))return e;if("string"==typeof e){if(em(e)){let t=eg(e,!1);return T.Buffer.from(t,"hex")}return T.Buffer.from(e,"utf8")}throw q(`Not binary data: ${String(e)}`)}function ev(e){if("number"==typeof e&&Number.isInteger(e))return en(e);if("string"==typeof e){if(er.test(e))return en(Number(e));if(em(e))return en(Number(BigInt(eg(e,!0))))}throw q(`Not an integer: ${String(e)}`)}function ex(e){if(null!==e&&("bigint"==typeof e||function(e){if(null==e||"function"!=typeof e.constructor)return!1;let{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}(e)))return BigInt(e.toString(10));if("number"==typeof e)return BigInt(ev(e));if("string"==typeof e){if(er.test(e))return BigInt(e);if(em(e))return BigInt(eg(e,!0))}throw q(`Not an integer: ${String(e)}`)}let ek=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,{checkCrossOriginOpenerPolicy:eE,getCrossOriginOpenerPolicy:eA}={getCrossOriginOpenerPolicy:()=>void 0===t?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if("undefined"==typeof window){t="non-browser-env";return}try{let e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw Error(`HTTP error! status: ${n.status}`);let r=n.headers.get("Cross-Origin-Opener-Policy");t=null!=r?r:"null","same-origin"===t&&console.error(ek)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}};async function eS(e,t){let n=Object.assign(Object.assign({},e),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(t,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":v,"X-Cbw-Sdk-Platform":x}}),{result:i,error:a}=await r.json();if(a)throw a;return i}function eI({metadata:e,preference:t}){var n,r;let{appName:i,appLogoUrl:a,appChainIds:s}=e;if("smartWalletOnly"!==t.options){let e=globalThis.coinbaseWalletExtension;if(e)return null==(n=e.setAppInfo)||n.call(e,i,a,s,t),e}let o=function(){var e,t;try{let n=globalThis;return null!=(e=n.ethereum)?e:null==(t=n.top)?void 0:t.ethereum}catch(e){return}}();if(null==o?void 0:o.isCoinbaseBrowser)return null==(r=o.setAppInfo)||r.call(o,i,a,s,t),o}function eT(e){if(e){if(!["all","smartWalletOnly","eoaOnly"].includes(e.options))throw Error(`Invalid options: ${e.options}`);if(e.attribution&&void 0!==e.attribution.auto&&void 0!==e.attribution.dataSuffix)throw Error("Attribution cannot contain both auto and dataSuffix properties");if(e.telemetry&&"boolean"!=typeof e.telemetry)throw Error("Telemetry must be a boolean")}}function eC(e){if("function"!=typeof e)throw Error("toAccount is not a function")}let e_="https://rpc.wallet.coinbase.com",eO="https://www.walletlink.org";function eP(e,t,n){var r,i,a,s;window.ClientAnalytics&&(null==(r=window.ClientAnalytics)||r.logEvent(e,Object.assign(Object.assign({},t),{sdkVersion:v,appName:null!=(a=null==(i=A.config.get().metadata)?void 0:i.appName)?a:"",appOrigin:window.location.origin,appPreferredSigner:null==(s=A.config.get().preference)?void 0:s.options}),n))}(o=p||(p={})).unknown="unknown",o.banner="banner",o.button="button",o.card="card",o.chart="chart",o.content_script="content_script",o.dropdown="dropdown",o.link="link",o.page="page",o.modal="modal",o.table="table",o.search_bar="search_bar",o.service_worker="service_worker",o.text="text",o.text_input="text_input",o.tray="tray",o.checkbox="checkbox",o.icon="icon",(c=m||(m={})).unknown="unknown",c.blur="blur",c.click="click",c.change="change",c.dismiss="dismiss",c.focus="focus",c.hover="hover",c.select="select",c.measurement="measurement",c.move="move",c.process="process",c.render="render",c.scroll="scroll",c.view="view",c.search="search",c.keyPress="keyPress",c.error="error",(l=b||(b={})).low="low",l.high="high";let eB=({snackbarContext:e})=>{eP(`snackbar.${e}.shown`,{action:m.render,componentType:p.modal,snackbarContext:e},b.high)},ej=({snackbarContext:e,snackbarAction:t})=>{eP(`snackbar.${e}.action_clicked`,{action:m.click,componentType:p.button,snackbarContext:e,snackbarAction:t},b.high)};function eM(){let e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode('@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')),document.documentElement.appendChild(e)}function eN(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r);else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}(e))&&(r&&(r+=" "),r+=t);return r}var eL=e.i(928020),eD=e.i(698920);function eU(){var e,t;return null!=(t=null==(e=null==window?void 0:window.matchMedia)?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)&&t}class eR{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=eU()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){let t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,eL.render)((0,eL.h)("div",null,(0,eL.h)(eH,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,t])=>(0,eL.h)(eq,Object.assign({},t,{key:e}))))),this.root)}}let eH=e=>(0,eL.h)("div",{class:eN("-cbwsdk-snackbar-container")},(0,eL.h)("style",null,".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"),(0,eL.h)("div",{class:"-cbwsdk-snackbar"},e.children)),eq=({autoExpand:e,message:t,menuItems:n})=>{let[r,i]=(0,eD.useState)(!0),[a,s]=(0,eD.useState)(null!=e&&e);return(0,eD.useEffect)(()=>{let e=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{s(!0)},1e4)];return()=>{e.forEach(window.clearTimeout)}}),(0,eL.h)("div",{class:eN("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",a&&"-cbwsdk-snackbar-instance-expanded")},(0,eL.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{s(!a)}},(0,eL.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,eL.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),(0,eL.h)("div",{class:"-gear-container"},!a&&(0,eL.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,eL.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,eL.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&(0,eL.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((e,t)=>(0,eL.h)("div",{class:eN("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},(0,eL.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,eL.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,eL.h)("span",{class:eN("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info)))))},eW="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class eF{constructor(){this.attached=!1,this.snackbar=new eR}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");let e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.snackbar.attach(t),this.attached=!0,eM()}showConnecting(e){let t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:eW,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}}let ez={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:eW,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},eV=null;function e$(){if(!eV){let e=document.createElement("div");e.className="-cbwsdk-css-reset",document.body.appendChild(e),(eV=new eR).attach(e)}return eV}class eK{constructor({url:e="https://keys.coinbase.com/connect",metadata:t,preference:n}){this.popup=null,this.listeners=new Map,this.postMessage=async e=>{(await this.waitForPopupLoaded()).postMessage(e,this.url.origin)},this.postRequestAndWaitForResponse=async e=>{let t=this.onMessage(({requestId:t})=>t===e.id);return this.postMessage(e),await t},this.onMessage=async e=>new Promise((t,n)=>{let r=n=>{if(n.origin!==this.url.origin)return;let i=n.data;e(i)&&(t(i),window.removeEventListener("message",r),this.listeners.delete(r))};window.addEventListener("message",r),this.listeners.set(r,{reject:n})}),this.disconnect=()=>{var e;(e=this.popup)&&!e.closed&&e.close(),this.popup=null,this.listeners.forEach(({reject:e},t)=>{e(z("Request rejected")),window.removeEventListener("message",t)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(eP("communicator.popup_setup.started",{action:m.unknown,componentType:p.unknown},b.high),this.popup=await function(e){let t=(window.innerWidth-420)/2+window.screenX,n=(window.innerHeight-700)/2+window.screenY;function r(){let r=`wallet_${crypto.randomUUID()}`,i=window.open(e,r,`width=420, height=700, left=${t}, top=${n}`);return(null==i||i.focus(),i)?i:null}var i=e;for(let[e,t]of Object.entries({sdkName:x,sdkVersion:v,origin:window.location.origin,coop:eA()}))i.searchParams.has(e)||i.searchParams.append(e,t.toString());let a=r();if(!a){let e=e$();return new Promise((t,n)=>{eB({snackbarContext:"popup_blocked"}),e.presentItem({autoExpand:!0,message:"Popup was blocked. Try again.",menuItems:[Object.assign(Object.assign({},ez),{onClick:()=>{ej({snackbarContext:"popup_blocked",snackbarAction:"confirm"}),(a=r())?t(a):n(W("Popup window was blocked")),e.clear()}})]})})}return Promise.resolve(a)}(this.url),this.onMessage(({event:e})=>"PopupUnload"===e).then(()=>{this.disconnect(),eP("communicator.popup_unload.received",{action:m.unknown,componentType:p.unknown},b.high)}).catch(()=>{}),this.onMessage(({event:e})=>"PopupLoaded"===e).then(e=>{this.postMessage({requestId:e.id,data:{version:v,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw W();return eP("communicator.popup_setup.completed",{action:m.unknown,componentType:p.unknown},b.high),this.popup})),this.url=new URL(e),this.metadata=t,this.preference=n}}function eZ(e){return void 0!==e.errorMessage}e.i(595932);var eG=e.i(87246);class eJ extends eG.EventEmitter{}class eY{constructor(e,t){this.scope=e,this.module=t}storeObject(e,t){this.setItem(e,JSON.stringify(t))}loadObject(e){let t=this.getItem(e);return t?JSON.parse(t):void 0}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){let e=this.scopedKey(""),t=[];for(let n=0;n<localStorage.length;n++){let r=localStorage.key(n);"string"==typeof r&&r.startsWith(e)&&t.push(r)}t.forEach(e=>localStorage.removeItem(e))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new eY("CBWSDK").clear(),new eY("walletlink").clear()}}let eQ=(0,w.createStore)(()=>({correlationIds:new Map})),eX=e=>eQ.getState().correlationIds.get(e);var e0=e.i(450323),e1=e.i(806685),e2=e.i(675107);let e3=e=>"message"in e&&"string"==typeof e.message?e.message:"";var e5=e.i(309682),e4=e.i(538463),e8=e.i(110163),e6=e.i(939426);let e7=(0,w.createStore)(()=>({}));function e9(e){e.forEach(e=>{var t,n,r,i,a,s,o,c;if(!e.rpcUrl)return;let l=(0,e4.defineChain)({id:e.id,rpcUrls:{default:{http:[e.rpcUrl]}},name:null!=(n=null==(t=e.nativeCurrency)?void 0:t.name)?n:"",nativeCurrency:{name:null!=(i=null==(r=e.nativeCurrency)?void 0:r.name)?i:"",symbol:null!=(s=null==(a=e.nativeCurrency)?void 0:a.symbol)?s:"",decimals:null!=(c=null==(o=e.nativeCurrency)?void 0:o.decimal)?c:18}}),u=(0,e5.createPublicClient)({chain:l,transport:(0,e8.http)(e.rpcUrl)}),d=(0,e6.createBundlerClient)({client:u,transport:(0,e8.http)(e.rpcUrl)});e7.setState({[e.id]:{client:u,bundlerClient:d}})})}function te(e){var t;return null==(t=e7.getState()[e])?void 0:t.client}function tt(e,t,n){if(null==e)throw null!=t?t:q({message:null!=n?n:"value must be present",data:e})}function tn(e,t){if(!Array.isArray(e))throw q({message:null!=t?t:"value must be an array",data:e})}var tr=e.i(796516),ti=e.i(880841);function ta(e){if("object"!=typeof e||null===e)throw W("sub account info is not an object");if(!("address"in e))throw W("sub account is invalid");if("address"in e&&"string"==typeof e.address&&!(0,tr.isAddress)(e.address))throw W("sub account address is invalid");if("factory"in e&&"string"==typeof e.factory&&!(0,tr.isAddress)(e.factory))throw W("sub account factory address is invalid");if("factoryData"in e&&"string"==typeof e.factoryData&&!(0,ti.isHex)(e.factoryData))throw W("sub account factory data is invalid")}async function ts(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function to(e,t){return crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function tc(e,t){let n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},e,new TextEncoder().encode(t));return{iv:n,cipherText:r}}async function tl(e,{iv:t,cipherText:n}){let r=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,n);return new TextDecoder().decode(r)}function tu(e){switch(e){case"public":return"spki";case"private":return"pkcs8"}}async function td(e,t){let n=tu(e);return es(new Uint8Array(await crypto.subtle.exportKey(n,t)))}async function tf(e,t){let n=tu(e),r=eo(t).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,"private"===e?["deriveKey"]:[])}async function th(e,t){return tc(t,JSON.stringify(e,(e,t)=>t instanceof Error?Object.assign(Object.assign({},t.code?{code:t.code}:{}),{message:t.message}):t))}async function tp(e,t){return JSON.parse(await tl(t,e))}e.s(["IntegerOutOfRangeError",()=>nP,"InvalidHexBooleanError",()=>nB,"InvalidHexTypeError",()=>nj,"InvalidHexValueError",()=>nM,"InvalidLengthError",()=>nN,"SizeExceedsPaddingSizeError",()=>nU,"SizeOverflowError",()=>nL,"SliceOffsetOutOfBoundsError",()=>nD,"assert",()=>nu,"concat",()=>nd,"from",()=>nf,"fromBoolean",()=>nh,"fromBytes",()=>np,"fromNumber",()=>nm,"fromString",()=>nb,"isEqual",()=>ng,"padLeft",()=>ny,"padRight",()=>nw,"random",()=>nv,"size",()=>nk,"slice",()=>nx,"toBigInt",()=>nS,"toBoolean",()=>nI,"toBytes",()=>nT,"toNumber",()=>nC,"toString",()=>n_,"trimLeft",()=>nE,"trimRight",()=>nA,"validate",()=>nO],106876);let tm="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function tb(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function tg(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function ty(e,...t){if(!tb(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function tw(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");tg(e.outputLen),tg(e.blockLen)}function tv(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function tx(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function tk(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function tE(e,t){return e<<32-t|e>>>t}let tA="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,tS=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tI(e){if(ty(e),tA)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=tS[e[n]];return t}function tT(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function tC(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(tA)return Uint8Array.fromHex(e);let t=e.length,n=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){let n=tT(e.charCodeAt(i)),a=tT(e.charCodeAt(i+1));if(void 0===n||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);r[t]=16*n+a}return r}function t_(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function tO(e){return"string"==typeof e&&(e=t_(e)),ty(e),e}function tP(...e){let t=0;for(let n=0;n<e.length;n++){let r=e[n];ty(r),t+=r.length}let n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){let i=e[t];n.set(i,r),r+=i.length}return n}class tB{}function tj(e){let t=t=>e().update(tO(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function tM(e=32){if(tm&&"function"==typeof tm.getRandomValues)return tm.getRandomValues(new Uint8Array(e));if(tm&&"function"==typeof tm.randomBytes)return Uint8Array.from(tm.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}let tN=BigInt(0),tL=BigInt(1);function tD(e,t=""){if("boolean"!=typeof e)throw Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function tU(e,t,n=""){let r=tb(e),i=e?.length,a=void 0!==t;if(!r||a&&i!==t)throw Error((n&&`"${n}" `)+"expected Uint8Array"+(a?` of length ${t}`:"")+", got "+(r?`length=${i}`:`type=${typeof e}`));return e}function tR(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function tH(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?tN:BigInt("0x"+e)}function tq(e){return tH(tI(e))}function tW(e){return ty(e),tH(tI(Uint8Array.from(e).reverse()))}function tF(e,t){return tC(e.toString(16).padStart(2*t,"0"))}function tz(e,t){return tF(e,t).reverse()}function tV(e,t,n){let r;if("string"==typeof t)try{r=tC(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(tb(t))r=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=r.length;if("number"==typeof n&&i!==n)throw Error(e+" of length "+n+" expected, got "+i);return r}let t$=e=>"bigint"==typeof e&&tN<=e;function tK(e){let t;for(t=0;e>tN;e>>=tL,t+=1);return t}let tZ=e=>(tL<<BigInt(e))-tL;function tG(e,t,n={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function r(t,n,r){let i=e[t];if(r&&void 0===i)return;let a=typeof i;if(a!==n||null===i)throw Error(`param "${t}" is invalid: expected ${n}, got ${a}`)}Object.entries(t).forEach(([e,t])=>r(e,t,!1)),Object.entries(n).forEach(([e,t])=>r(e,t,!0))}function tJ(e){let t=new WeakMap;return(n,...r)=>{let i=t.get(n);if(void 0!==i)return i;let a=e(n,...r);return t.set(n,a),a}}let tY=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n};class tQ extends Error{constructor(e,t={}){const n=(()=>{if(t.cause instanceof tQ){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),r=t.cause instanceof tQ&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${r??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||r?["",n?`Details: ${n}`:void 0,r?`See: ${i}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=n,this.docs=i,this.docsPath=r,this.shortMessage=e}walk(e){return function e(t,n){return n?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,n):n?null:t}(this,e)}}function tX(e,t,n){return JSON.stringify(e,(e,n)=>"function"==typeof t?t(e,n):"bigint"==typeof n?n.toString()+"#__bigint":n,n)}function t0(e,t){if(nt(e)>t)throw new na({givenSize:nt(e),maxSize:t})}function t1(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function t2(e,t){if(nk(e)>t)throw new nL({givenSize:nk(e),maxSize:t})}function t3(e,t={}){let{dir:n,size:r=32}=t;if(0===r)return e;let i=e.replace("0x","");if(i.length>2*r)throw new nU({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i["right"===n?"padEnd":"padStart"](2*r,"0")}`}function t5(e,t={}){let{dir:n="left"}=t,r=e.replace("0x",""),i=0;for(let e=0;e<r.length-1;e++)if("0"===r["left"===n?e:r.length-e-1].toString())i++;else break;return"0"===(r="left"===n?r.slice(i):r.slice(0,r.length-i))?"0x":"right"===n&&r.length%2==1?`0x${r}0`:`0x${r}`}let t4=new TextEncoder;function t8(...e){let t=0;for(let n of e)t+=n.length;let n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){let i=e[t];n.set(i,r),r+=i.length}return n}function t6(e){return e instanceof Uint8Array?e:"string"==typeof e?t9(e):t7(e)}function t7(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function t9(e,t={}){let{size:n}=t,r=e;n&&(t2(e,n),r=nw(e,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);let a=i.length/2,s=new Uint8Array(a);for(let e=0,t=0;e<a;e++){let n=t1(i.charCodeAt(t++)),r=t1(i.charCodeAt(t++));if(void 0===n||void 0===r)throw new tQ(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);s[e]=16*n+r}return s}function ne(e,t={}){let{size:n}=t,r=t4.encode(e);return"number"==typeof n?(t0(r,n),function(e,t={}){let{dir:n,size:r=32}=t;if(0===r)return e;if(e.length>r)throw new no({size:e.length,targetSize:r,type:"Bytes"});let i=new Uint8Array(r);for(let t=0;t<r;t++){let a="right"===n;i[a?t:r-t-1]=e[a?t:e.length-t-1]}return i}(r,{dir:"right",size:n})):r}function nt(e){return e.length}function nn(e,t,n,r={}){let{strict:i}=r;if("number"==typeof t&&t>0&&t>nt(e)-1)throw new ns({offset:t,position:"start",size:nt(e)});let a=e.slice(t,n);return i&&function(e,t,n){if("number"==typeof t&&"number"==typeof n&&nt(e)!==n-t)throw new ns({offset:n,position:"end",size:nt(e)})}(a,t,n),a}function nr(e,t={}){let{size:n}=t;return void 0!==n&&t0(e,n),nS(np(e,t),t)}class ni extends tQ{constructor(e){super(`Value \`${"object"==typeof e?tX(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class na extends tQ{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class ns extends tQ{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class no extends tQ{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}let nc=new TextEncoder,nl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function nu(e,t={}){let{strict:n=!1}=t;if(!e||"string"!=typeof e)throw new nj(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e)||!e.startsWith("0x"))throw new nM(e)}function nd(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function nf(e){return e instanceof Uint8Array?np(e):Array.isArray(e)?np(new Uint8Array(e)):e}function nh(e,t={}){let n=`0x${Number(e)}`;return"number"==typeof t.size?(t2(n,t.size),ny(n,t.size)):n}function np(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=nl[e[t]];let r=`0x${n}`;return"number"==typeof t.size?(t2(r,t.size),nw(r,t.size)):r}function nm(e,t={}){let n,{signed:r,size:i}=t,a=BigInt(e);i?n=r?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(n=BigInt(Number.MAX_SAFE_INTEGER));let s="bigint"==typeof n&&r?-n-1n:0;if(n&&a>n||a<s){let t="bigint"==typeof e?"n":"";throw new nP({max:n?`${n}${t}`:void 0,min:`${s}${t}`,signed:r,size:i,value:`${e}${t}`})}let o=(r&&a<0?(1n<<BigInt(8*i))+BigInt(a):a).toString(16),c=`0x${o}`;return i?ny(c,i):c}function nb(e,t={}){return np(nc.encode(e),t)}function ng(e,t){return tY(t9(e),t9(t))}function ny(e,t){return t3(e,{dir:"left",size:t})}function nw(e,t){return t3(e,{dir:"right",size:t})}function nv(e){return np(crypto.getRandomValues(new Uint8Array(e)))}function nx(e,t,n,r={}){let{strict:i}=r;if("number"==typeof t&&t>0&&t>nk(e)-1)throw new nD({offset:t,position:"start",size:nk(e)});let a=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return i&&function(e,t,n){if("number"==typeof t&&"number"==typeof n&&nk(e)!==n-t)throw new nD({offset:n,position:"end",size:nk(e)})}(a,t,n),a}function nk(e){return Math.ceil((e.length-2)/2)}function nE(e){return t5(e,{dir:"left"})}function nA(e){return t5(e,{dir:"right"})}function nS(e,t={}){let{signed:n}=t;t.size&&t2(e,t.size);let r=BigInt(e);if(!n)return r;let i=(1n<<8n*BigInt((e.length-2)/2))-1n;return r<=i>>1n?r:r-i-1n}function nI(e,t={}){t.size&&t2(e,t.size);let n=nE(e);if("0x"===n)return!1;if("0x1"===n)return!0;throw new nB(e)}function nT(e,t={}){return t9(e,t)}function nC(e,t={}){let{signed:n,size:r}=t;return n||r?Number(nS(e,t)):Number(e)}function n_(e,t={}){let{size:n}=t,r=t9(e);return n&&(t0(r,n),r=function(e,t={}){let{dir:n="left"}=t,r=e,i=0;for(let e=0;e<r.length-1;e++)if("0"===r["left"===n?e:r.length-e-1].toString())i++;else break;return"left"===n?r.slice(i):r.slice(0,r.length-i)}(r,{dir:"right"})),new TextDecoder().decode(r)}function nO(e,t={}){let{strict:n=!1}=t;try{return nu(e,{strict:n}),!0}catch{return!1}}class nP extends tQ{constructor({max:e,min:t,signed:n,size:r,value:i}){super(`Number \`${i}\` is not in safe${r?` ${8*r}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class nB extends tQ{constructor(e){super(`Hex value \`"${e}"\` is not a valid boolean.`,{metaMessages:['The hex value must be `"0x0"` (false) or `"0x1"` (true).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexBooleanError"})}}class nj extends tQ{constructor(e){super(`Value \`${"object"==typeof e?tX(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class nM extends tQ{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class nN extends tQ{constructor(e){super(`Hex value \`"${e}"\` is an odd length (${e.length-2} nibbles).`,{metaMessages:["It must be an even length."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidLengthError"})}}class nL extends tQ{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class nD extends tQ{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class nU extends tQ{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}var nR=e.i(106876),nR=nR;function nH(e,t={}){let{compressed:n}=t,{prefix:r,x:i,y:a}=e;if(!1===n||"bigint"==typeof i&&"bigint"==typeof a){if(4!==r)throw new nG({prefix:r,cause:new nY});return}if(!0===n||"bigint"==typeof i&&void 0===a){if(3!==r&&2!==r)throw new nG({prefix:r,cause:new nJ});return}throw new nZ({publicKey:e})}function nq(e){let{x:t,y:n}=e;return{prefix:n%2n===0n?2:3,x:t}}function nW(e){let t=(()=>{if(nO(e))return nz(e);if(function(e){try{if(!(e instanceof Uint8Array)&&(!e||"object"!=typeof e||!("BYTES_PER_ELEMENT"in e)||1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name))throw new ni(e);return!0}catch{return!1}}(e))return nF(e);let{prefix:t,x:n,y:r}=e;return"bigint"==typeof n&&"bigint"==typeof r?{prefix:t??4,x:n,y:r}:{prefix:t,x:n}})();return nH(t),t}function nF(e){return nz(np(e))}function nz(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new nQ({publicKey:e});if(130===e.length)return{prefix:4,x:BigInt(nx(e,0,32)),y:BigInt(nx(e,32,64))};if(132===e.length){let t=Number(nx(e,0,1));return{prefix:t,x:BigInt(nx(e,1,33)),y:BigInt(nx(e,33,65))}}return{prefix:Number(nx(e,0,1)),x:BigInt(nx(e,1,33))}}function nV(e,t={}){return t9(n$(e,t))}function n$(e,t={}){nH(e);let{prefix:n,x:r,y:i}=e,{includePrefix:a=!0}=t;return nd(a?nm(n,{size:1}):"0x",nm(r,{size:32}),"bigint"==typeof i?nm(i,{size:32}):"0x")}function nK(e,t={}){try{return nH(e,t),!0}catch(e){return!1}}class nZ extends tQ{constructor({publicKey:e}){super(`Value \`${tX(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class nG extends tQ{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class nJ extends tQ{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class nY extends tQ{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class nQ extends tQ{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${nk(nf(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}e.s(["InvalidCompressedPrefixError",()=>nJ,"InvalidError",()=>nZ,"InvalidPrefixError",()=>nG,"InvalidSerializedSizeError",()=>nQ,"InvalidUncompressedPrefixError",()=>nY,"assert",()=>nH,"compress",()=>nq,"from",()=>nW,"fromBytes",()=>nF,"fromHex",()=>nz,"toBytes",()=>nV,"toHex",()=>n$,"validate",()=>nK],773941);var nX=e.i(773941),nX=nX;class n0 extends tB{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=tk(this.buffer)}update(e){tv(this),ty(e=tO(e));let{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let a=0;a<i;){let s=Math.min(r-this.pos,i-a);if(s===r){let t=tk(e);for(;r<=i-a;a+=r)this.process(t,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tv(this);ty(e);let t=this.outputLen;if(e.length<t)throw Error("digestInto() expects output buffer of length at least "+t);this.finished=!0;let{buffer:n,view:r,blockLen:i,isLE:a}=this,{pos:s}=this;n[s++]=128,tx(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let e=s;e<i;e++)n[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(n>>i&a),o=Number(n&a),c=4*!!r,l=4*!r;e.setUint32(t+c,s,r),e.setUint32(t+l,o,r)}(r,i-8,BigInt(8*this.length),a),this.process(r,0);let o=tk(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)o.setUint32(4*e,u[e],a)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:s}=this;return e.destroyed=a,e.finished=i,e.length=r,e.pos=s,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}let n1=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),n2=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),n3=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),n5=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),n4=BigInt(0x100000000-1),n8=BigInt(32),n6=(e,t,n)=>e>>>n,n7=(e,t,n)=>e<<32-n|t>>>n,n9=(e,t,n)=>e>>>n|t<<32-n,re=(e,t,n)=>e<<32-n|t>>>n,rt=(e,t,n)=>e<<64-n|t>>>n-32,rn=(e,t,n)=>e>>>n-32|t<<64-n;function rr(e,t,n,r){let i=(t>>>0)+(r>>>0);return{h:e+n+(i/0x100000000|0)|0,l:0|i}}let ri=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),ra=(e,t,n,r)=>t+n+r+(e/0x100000000|0)|0,rs=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),ro=(e,t,n,r,i)=>t+n+r+i+(e/0x100000000|0)|0,rc=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),rl=(e,t,n,r,i,a)=>t+n+r+i+a+(e/0x100000000|0)|0,ru=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),rd=new Uint32Array(64);class rf extends n0{constructor(e=32){super(64,e,8,!1),this.A=0|n1[0],this.B=0|n1[1],this.C=0|n1[2],this.D=0|n1[3],this.E=0|n1[4],this.F=0|n1[5],this.G=0|n1[6],this.H=0|n1[7]}get(){let{A:e,B:t,C:n,D:r,E:i,F:a,G:s,H:o}=this;return[e,t,n,r,i,a,s,o]}set(e,t,n,r,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)rd[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=rd[e-15],n=rd[e-2],r=tE(t,7)^tE(t,18)^t>>>3,i=tE(n,17)^tE(n,19)^n>>>10;rd[e]=i+rd[e-7]+r+rd[e-16]|0}let{A:n,B:r,C:i,D:a,E:s,F:o,G:c,H:l}=this;for(let e=0;e<64;e++){var u,d,f,h;let t=l+(tE(s,6)^tE(s,11)^tE(s,25))+((u=s)&o^~u&c)+ru[e]+rd[e]|0,p=(tE(n,2)^tE(n,13)^tE(n,22))+((d=n)&(f=r)^d&(h=i)^f&h)|0;l=c,c=o,o=s,s=a+t|0,a=i,i=r,r=n,n=t+p|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,a,s,o,c,l)}roundClean(){tx(rd)}destroy(){this.set(0,0,0,0,0,0,0,0),tx(this.buffer)}}let rh=function(e,t=!1){let n=e.length,r=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){let{h:n,l:s}=function(e,t=!1){return t?{h:Number(e&n4),l:Number(e>>n8&n4)}:{h:0|Number(e>>n8&n4),l:0|Number(e&n4)}}(e[a],t);[r[a],i[a]]=[n,s]}return[r,i]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),rp=rh[0],rm=rh[1],rb=new Uint32Array(80),rg=new Uint32Array(80);class ry extends n0{constructor(e=64){super(128,e,16,!1),this.Ah=0|n5[0],this.Al=0|n5[1],this.Bh=0|n5[2],this.Bl=0|n5[3],this.Ch=0|n5[4],this.Cl=0|n5[5],this.Dh=0|n5[6],this.Dl=0|n5[7],this.Eh=0|n5[8],this.El=0|n5[9],this.Fh=0|n5[10],this.Fl=0|n5[11],this.Gh=0|n5[12],this.Gl=0|n5[13],this.Hh=0|n5[14],this.Hl=0|n5[15]}get(){let{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:a,Dh:s,Dl:o,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:h,Hh:p,Hl:m}=this;return[e,t,n,r,i,a,s,o,c,l,u,d,f,h,p,m]}set(e,t,n,r,i,a,s,o,c,l,u,d,f,h,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|a,this.Dh=0|s,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let n=0;n<16;n++,t+=4)rb[n]=e.getUint32(t),rg[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|rb[e-15],n=0|rg[e-15],r=n9(t,n,1)^n9(t,n,8)^n6(t,n,7),i=re(t,n,1)^re(t,n,8)^n7(t,n,7),a=0|rb[e-2],s=0|rg[e-2],o=n9(a,s,19)^rt(a,s,61)^n6(a,s,6),c=rs(i,re(a,s,19)^rn(a,s,61)^n7(a,s,6),rg[e-7],rg[e-16]),l=ro(c,r,o,rb[e-7],rb[e-16]);rb[e]=0|l,rg[e]=0|c}let{Ah:n,Al:r,Bh:i,Bl:a,Ch:s,Cl:o,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:m,Hh:b,Hl:g}=this;for(let e=0;e<80;e++){let t=n9(u,d,14)^n9(u,d,18)^rt(u,d,41),y=re(u,d,14)^re(u,d,18)^rn(u,d,41),w=u&f^~u&p,v=rc(g,y,d&h^~d&m,rm[e],rg[e]),x=rl(v,b,t,w,rp[e],rb[e]),k=0|v,E=n9(n,r,28)^rt(n,r,34)^rt(n,r,39),A=re(n,r,28)^rn(n,r,34)^rn(n,r,39),S=n&i^n&s^i&s,I=r&a^r&o^a&o;b=0|p,g=0|m,p=0|f,m=0|h,f=0|u,h=0|d,({h:u,l:d}=rr(0|c,0|l,0|x,0|k)),c=0|s,l=0|o,s=0|i,o=0|a,i=0|n,a=0|r;let T=ri(k,A,I);n=ra(T,x,E,S),r=0|T}({h:n,l:r}=rr(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:a}=rr(0|this.Bh,0|this.Bl,0|i,0|a)),({h:s,l:o}=rr(0|this.Ch,0|this.Cl,0|s,0|o)),({h:c,l:l}=rr(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=rr(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:h}=rr(0|this.Fh,0|this.Fl,0|f,0|h)),({h:p,l:m}=rr(0|this.Gh,0|this.Gl,0|p,0|m)),({h:b,l:g}=rr(0|this.Hh,0|this.Hl,0|b,0|g)),this.set(n,r,i,a,s,o,c,l,u,d,f,h,p,m,b,g)}roundClean(){tx(rb,rg)}destroy(){tx(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class rw extends ry{constructor(){super(48),this.Ah=0|n3[0],this.Al=0|n3[1],this.Bh=0|n3[2],this.Bl=0|n3[3],this.Ch=0|n3[4],this.Cl=0|n3[5],this.Dh=0|n3[6],this.Dl=0|n3[7],this.Eh=0|n3[8],this.El=0|n3[9],this.Fh=0|n3[10],this.Fl=0|n3[11],this.Gh=0|n3[12],this.Gl=0|n3[13],this.Hh=0|n3[14],this.Hl=0|n3[15]}}let rv=tj(()=>new rf),rx=tj(()=>new ry),rk=tj(()=>new rw);class rE extends tB{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,tw(e);const n=tO(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),tx(i)}update(e){return tv(this),this.iHash.update(e),this}digestInto(e){tv(this),ty(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let rA=(e,t,n)=>new rE(e,t).update(n).digest();rA.create=(e,t)=>new rE(e,t);let rS=BigInt(0),rI=BigInt(1),rT=BigInt(2),rC=BigInt(3),r_=BigInt(4),rO=BigInt(5),rP=BigInt(7),rB=BigInt(8),rj=BigInt(9),rM=BigInt(16);function rN(e,t){let n=e%t;return n>=rS?n:t+n}function rL(e,t,n){let r=e;for(;t-- >rS;)r*=r,r%=n;return r}function rD(e,t){if(e===rS)throw Error("invert: expected non-zero number");if(t<=rS)throw Error("invert: expected positive modulus, got "+t);let n=rN(e,t),r=t,i=rS,a=rI,s=rI,o=rS;for(;n!==rS;){let e=r/n,t=r%n,c=i-s*e,l=a-o*e;r=n,n=t,i=s,a=o,s=c,o=l}if(r!==rI)throw Error("invert: does not exist");return rN(i,t)}function rU(e,t,n){if(!e.eql(e.sqr(t),n))throw Error("Cannot find square root")}function rR(e,t){let n=(e.ORDER+rI)/r_,r=e.pow(t,n);return rU(e,r,t),r}function rH(e,t){let n=(e.ORDER-rO)/rB,r=e.mul(t,rT),i=e.pow(r,n),a=e.mul(t,i),s=e.mul(e.mul(a,rT),i),o=e.mul(a,e.sub(s,e.ONE));return rU(e,o,t),o}function rq(e){if(e<rC)throw Error("sqrt is not defined for small field");let t=e-rI,n=0;for(;t%rT===rS;)t/=rT,n++;let r=rT,i=rK(e);for(;1===rV(i,r);)if(r++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===n)return rR;let a=i.pow(r,t),s=(t+rI)/rT;return function(e,r){if(e.is0(r))return r;if(1!==rV(e,r))throw Error("Cannot find square root");let i=n,o=e.mul(e.ONE,a),c=e.pow(r,t),l=e.pow(r,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw Error("Cannot find square root");let r=rI<<BigInt(i-t-1),a=e.pow(o,r);i=t,o=e.sqr(a),c=e.mul(c,o),l=e.mul(l,a)}return l}}let rW=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rF(e){return tG(e,rW.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),e}function rz(e,t,n=!1){let r=Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),a=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),a),r}function rV(e,t){let n=(e.ORDER-rI)/rT,r=e.pow(t,n),i=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!a&&!s)throw Error("invalid Legendre symbol result");return i?1:a?0:-1}function r$(e,t){void 0!==t&&tg(t);let n=void 0!==t?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function rK(e,t,n=!1,r={}){let i,a,s,o;if(e<=rS)throw Error("invalid field: expected ORDER > 0, got "+e);let c=!1;if("object"==typeof t&&null!=t){if(r.sqrt||n)throw Error("cannot specify opts in two arguments");t.BITS&&(a=t.BITS),t.sqrt&&(s=t.sqrt),"boolean"==typeof t.isLE&&(n=t.isLE),"boolean"==typeof t.modFromBytes&&(c=t.modFromBytes),o=t.allowedLengths}else"number"==typeof t&&(a=t),r.sqrt&&(s=r.sqrt);let{nBitLength:l,nByteLength:u}=r$(e,a);if(u>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let d=Object.freeze({ORDER:e,isLE:n,BITS:l,BYTES:u,MASK:tZ(l),ZERO:rS,ONE:rI,allowedLengths:o,create:t=>rN(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return rS<=t&&t<e},is0:e=>e===rS,isValidNot0:e=>!d.is0(e)&&d.isValid(e),isOdd:e=>(e&rI)===rI,neg:t=>rN(-t,e),eql:(e,t)=>e===t,sqr:t=>rN(t*t,e),add:(t,n)=>rN(t+n,e),sub:(t,n)=>rN(t-n,e),mul:(t,n)=>rN(t*n,e),pow:(e,t)=>(function(e,t,n){if(n<rS)throw Error("invalid exponent, negatives unsupported");if(n===rS)return e.ONE;if(n===rI)return t;let r=e.ONE,i=t;for(;n>rS;)n&rI&&(r=e.mul(r,i)),i=e.sqr(i),n>>=rI;return r})(d,e,t),div:(t,n)=>rN(t*rD(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>rD(t,e),sqrt:s||(t=>(i||(i=function(e){if(e%r_===rC)return rR;if(e%rB===rO)return rH;if(e%rM===rj){let t,n,r,i,a,s;return t=rK(e),r=(n=rq(e))(t,t.neg(t.ONE)),i=n(t,r),a=n(t,t.neg(r)),s=(e+rP)/rM,(e,t)=>{let n=e.pow(t,s),o=e.mul(n,r),c=e.mul(n,i),l=e.mul(n,a),u=e.eql(e.sqr(o),t),d=e.eql(e.sqr(c),t);n=e.cmov(n,o,u),o=e.cmov(l,c,d);let f=e.eql(e.sqr(o),t),h=e.cmov(n,o,f);return rU(e,h,t),h}}return rq(e)}(e)),i(d,t))),toBytes:e=>n?tz(e,u):tF(e,u),fromBytes:(t,r=!0)=>{if(o){if(!o.includes(t.length)||t.length>u)throw Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);let e=new Uint8Array(u);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==u)throw Error("Field.fromBytes: expected "+u+" bytes, got "+t.length);let i=n?tW(t):tq(t);if(c&&(i=rN(i,e)),!r&&!d.isValid(i))throw Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>rz(d,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(d)}function rZ(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function rG(e){let t=rZ(e);return t+Math.ceil(t/2)}let rJ=BigInt(0),rY=BigInt(1);function rQ(e,t){let n=t.negate();return e?n:t}function rX(e,t){let n=rz(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))}function r0(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function r1(e,t){r0(e,t);let n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e;return{windows:n,windowSize:r,mask:tZ(e),maxNumber:i,shiftBy:BigInt(e)}}function r2(e,t,n){let{windowSize:r,mask:i,maxNumber:a,shiftBy:s}=n,o=Number(e&i),c=e>>s;o>r&&(o-=a,c+=rY);let l=t*r,u=l+Math.abs(o)-1,d=0===o;return{nextN:c,offset:u,isZero:d,isNeg:o<0,isNegF:t%2!=0,offsetF:l}}let r3=new WeakMap,r5=new WeakMap;function r4(e){return r5.get(e)||1}function r8(e){if(e!==rJ)throw Error("invalid wNAF")}class r6{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let r=e;for(;t>rJ;)t&rY&&(n=n.add(r)),r=r.double(),t>>=rY;return n}precomputeWindow(e,t){let{windows:n,windowSize:r}=r1(t,this.bits),i=[],a=e,s=a;for(let e=0;e<n;e++){s=a,i.push(s);for(let e=1;e<r;e++)s=s.add(a),i.push(s);a=s.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw Error("invalid scalar");let r=this.ZERO,i=this.BASE,a=r1(e,this.bits);for(let e=0;e<a.windows;e++){let{nextN:s,offset:o,isZero:c,isNeg:l,isNegF:u,offsetF:d}=r2(n,e,a);n=s,c?i=i.add(rQ(u,t[d])):r=r.add(rQ(l,t[o]))}return r8(n),{p:r,f:i}}wNAFUnsafe(e,t,n,r=this.ZERO){let i=r1(e,this.bits);for(let e=0;e<i.windows&&n!==rJ;e++){let{nextN:a,offset:s,isZero:o,isNeg:c}=r2(n,e,i);if(n=a,!o){let e=t[s];r=r.add(c?e.negate():e)}}return r8(n),r}getPrecomputes(e,t,n){let r=r3.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),r3.set(t,r))),r}cached(e,t,n){let r=r4(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){let i=r4(e);return 1===i?this._unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)}createCache(e,t){r0(t,this.bits),r5.set(e,t),r3.delete(e)}hasCache(e){return 1!==r4(e)}}function r7(e,t,n){if(!t)return rK(e,{isLE:n});if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return rF(t),t}let r9=(e,t)=>(e+(e>=0?t:-t)/is)/t;function ie(e){if(!["compact","recovered","der"].includes(e))throw Error('Signature format must be "compact", "recovered", or "der"');return e}function it(e,t){let n={};for(let r of Object.keys(t))n[r]=void 0===e[r]?t[r]:e[r];return tD(n.lowS,"lowS"),tD(n.prehash,"prehash"),void 0!==n.format&&ie(n.format),n}let ir={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{let{Err:n}=ir;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");let r=t.length/2,i=tR(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");let a=r>127?tR(i.length/2|128):"";return tR(e)+a+i+t},decode(e,t){let{Err:n}=ir,r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");let i=t[r++],a=0;if(128&i){let e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");let s=t.subarray(r,r+e);if(s.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(let e of s)a=a<<8|e;if(r+=e,a<128)throw new n("tlv.decode(long): not minimal encoding")}else a=i;let s=t.subarray(r,r+a);if(s.length!==a)throw new n("tlv.decode: wrong value length");return{v:s,l:t.subarray(r+a)}}},_int:{encode(e){let{Err:t}=ir;if(e<ii)throw new t("integer: negative integers are not allowed");let n=tR(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){let{Err:t}=ir;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return tq(e)}},toSig(e){let{Err:t,_int:n,_tlv:r}=ir,i=tV("signature",e),{v:a,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:o,l:c}=r.decode(2,a),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(e){let{_tlv:t,_int:n}=ir,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s));return t.encode(48,r+i)}},ii=BigInt(0),ia=BigInt(1),is=BigInt(2),io=BigInt(3),ic=BigInt(4);function il(e,t){let n,{BYTES:r}=e;if("bigint"==typeof t)n=t;else{let i=tV("private key",t);try{n=e.fromBytes(i)}catch(e){throw Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw Error("invalid private key: out of range [1..N-1]");return n}function iu(e){return Uint8Array.of(e?2:3)}function id(e,t){rF(e);let{A:n,B:r,Z:i}=t;if(!e.isValid(n)||!e.isValid(r)||!e.isValid(i))throw Error("mapToCurveSimpleSWU: invalid opts");let a=function(e,t){let n=e.ORDER,r=ii;for(let e=n-ia;e%is===ii;e/=is)r+=ia;let i=r,a=is<<i-ia-ia,s=a*is,o=(n-ia)/s,c=(o-ia)/is,l=s-ia,u=e.pow(t,o),d=e.pow(t,(o+ia)/is),f=(t,n)=>{let r=u,s=e.pow(n,l),o=e.sqr(s);o=e.mul(o,n);let f=e.mul(t,o);f=e.pow(f,c),f=e.mul(f,s),s=e.mul(f,n),o=e.mul(f,t);let h=e.mul(o,s);f=e.pow(h,a);let p=e.eql(f,e.ONE);s=e.mul(o,d),f=e.mul(h,r),o=e.cmov(s,o,p),h=e.cmov(f,h,p);for(let t=i;t>ia;t--){let n=t-is;n=is<<n-ia;let i=e.pow(h,n),a=e.eql(i,e.ONE);s=e.mul(o,r),r=e.mul(r,r),i=e.mul(h,r),o=e.cmov(s,o,a),h=e.cmov(i,h,a)}return{isValid:p,value:o}};if(e.ORDER%ic===io){let n=(e.ORDER-io)/ic,r=e.sqrt(e.neg(t));f=(t,i)=>{let a=e.sqr(i),s=e.mul(t,i);a=e.mul(a,s);let o=e.pow(a,n);o=e.mul(o,s);let c=e.mul(o,r),l=e.mul(e.sqr(o),i),u=e.eql(l,t),d=e.cmov(c,o,u);return{isValid:u,value:d}}}return f}(e,i);if(!e.isOdd)throw Error("Field does not have .isOdd()");return t=>{let s,o,c,l,u,d,f,h;s=e.sqr(t),s=e.mul(s,i),o=e.sqr(s),o=e.add(o,s),c=e.add(o,e.ONE),c=e.mul(c,r),l=e.cmov(i,e.neg(o),!e.eql(o,e.ZERO)),l=e.mul(l,n),o=e.sqr(c),d=e.sqr(l),u=e.mul(d,n),o=e.add(o,u),o=e.mul(o,c),d=e.mul(d,l),u=e.mul(d,r),o=e.add(o,u),f=e.mul(s,c);let{isValid:p,value:m}=a(o,d);h=e.mul(s,t),h=e.mul(h,m),f=e.cmov(f,c,p),h=e.cmov(h,m,p);let b=e.isOdd(t)===e.isOdd(h);h=e.cmov(e.neg(h),h,b);let g=rz(e,[l],!0)[0];return{x:f=e.mul(f,g),y:h}}}function ih(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function ip(e,t){let n=t=>(function(e){let t,{CURVE:n,curveOpts:r,hash:i,ecdsaOpts:a}=function(e){let t,n,r,i,{CURVE:a,curveOpts:s}=(t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0,i={Fp:n,Fn:rK(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes},{CURVE:t,curveOpts:i}),o={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:a,curveOpts:s,hash:e.hash,ecdsaOpts:o}}(e),s=function(e,t,n={}){tw(t),tG(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let r=n.randomBytes||tM,i=n.hmac||((e,...n)=>rA(t,e,tP(...n))),{Fp:a,Fn:s}=e,{ORDER:o,BITS:c}=s,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:h}=function(e,t={}){let{Fn:n}=e,r=t.randomBytes||tM,i=Object.assign(ih(e.Fp,n),{seed:rG(n.ORDER)});function a(e){try{return!!il(n,e)}catch(e){return!1}}function s(e=r(i.seed)){return function(e,t,n=!1){let r=e.length,i=rZ(t),a=rG(t);if(r<16||r<a||r>1024)throw Error("expected "+a+"-1024 bytes of input, got "+r);let s=rN(n?tW(e):tq(e),t-rI)+rI;return n?tz(s,i):tF(s,i)}(tU(e,i.seed,"seed"),n.ORDER)}function o(t,r=!0){return e.BASE.multiply(il(n,t)).toBytes(r)}function c(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let{secretKey:r,publicKey:a,publicKeyUncompressed:s}=i;if(n.allowedLengths||r===a)return;let o=tV("key",t).length;return o===a||o===s}return Object.freeze({getPublicKey:o,getSharedSecret:function(t,r,i=!0){if(!0===c(t))throw Error("first arg must be private key");if(!1===c(r))throw Error("second arg must be public key");let a=il(n,t);return e.fromHex(r).multiply(a).toBytes(i)},keygen:function(e){let t=s(e);return{secretKey:t,publicKey:o(t)}},Point:e,utils:{isValidSecretKey:a,isValidPublicKey:function(t,n){let{publicKey:r,publicKeyUncompressed:a}=i;try{let i=t.length;if(!0===n&&i!==r||!1===n&&i!==a)return!1;return!!e.fromBytes(t)}catch(e){return!1}},randomSecretKey:s,isValidPrivateKey:a,randomPrivateKey:s,normPrivateKeyToScalar:e=>il(n,e),precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)},lengths:i})}(e,n),p={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},m="compact";function b(e,t){if(!s.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class g{constructor(e,t,n){this.r=b("r",e),this.s=b("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e,t=m){var n,r;let i,a;if(n=e,ie(r=t),a=h.signature,tU(n,"compact"===r?a:"recovered"===r?a+1:void 0,`${r} signature`),"der"===t){let{r:t,s:n}=ir.toSig(tU(e));return new g(t,n)}"recovered"===t&&(i=e[0],t="compact",e=e.subarray(1));let o=s.BYTES,c=e.subarray(0,o),l=e.subarray(o,2*o);return new g(s.fromBytes(c),s.fromBytes(l),i)}static fromHex(e,t){return this.fromBytes(tC(e),t)}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(t){let n=a.ORDER,{r,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw Error("recovery id invalid");if(o*is<n&&c>1)throw Error("recovery id is ambiguous for h>1 curve");let l=2===c||3===c?r+o:r;if(!a.isValid(l))throw Error("recovery id 2 or 3 invalid");let u=a.toBytes(l),d=e.fromBytes(tP(iu((1&c)==0),u)),f=s.inv(l),h=w(tV("msgHash",t)),p=s.create(-h*f),m=s.create(i*f),b=e.BASE.multiplyUnsafe(p).add(d.multiplyUnsafe(m));if(b.is0())throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>o>>ia}toBytes(e=m){if(ie(e),"der"===e)return tC(ir.hexFromSig(this));let t=s.toBytes(this.r),n=s.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw Error("recovery bit must be present");return tP(Uint8Array.of(this.recovery),t,n)}return tP(t,n)}toHex(e){return tI(this.toBytes(e))}assertValidity(){}static fromCompact(e){return g.fromBytes(tV("sig",e),"compact")}static fromDER(e){return g.fromBytes(tV("sig",e),"der")}normalizeS(){return this.hasHighS()?new g(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return tI(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return tI(this.toBytes("compact"))}}let y=n.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=tq(e),n=8*e.length-c;return n>0?t>>BigInt(n):t},w=n.bits2int_modN||function(e){return s.create(y(e))},v=tZ(c);function x(e){var t,n,r,i="num < 2^"+c;if(t=e,n=ii,r=v,!(t$(t)&&t$(n)&&t$(r))||!(n<=t)||!(t<r))throw Error("expected valid "+i+": "+ii+" <= n < "+v+", got "+e);return s.toBytes(e)}function k(e,n){return tU(e,void 0,"message"),n?tU(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:h,Point:e,sign:function(n,a,c={}){let{seed:l,k2sig:u}=function(t,n,i){if(["recovered","canonical"].some(e=>e in i))throw Error("sign() legacy options not supported");let{lowS:a,prehash:c,extraEntropy:l}=it(i,p),u=w(t=k(t,c)),d=il(s,n),f=[x(d),x(u)];if(null!=l&&!1!==l){let e=!0===l?r(h.secretKey):l;f.push(tV("extraEntropy",e))}return{seed:tP(...f),k2sig:function(t){let n=y(t);if(!s.isValidNot0(n))return;let r=s.inv(n),i=e.BASE.multiply(n).toAffine(),c=s.create(i.x);if(c===ii)return;let l=s.create(r*s.create(u+c*d));if(l===ii)return;let f=2*(i.x!==c)|Number(i.y&ia),h=l;return a&&l>o>>ia&&(h=s.neg(l),f^=1),new g(c,h,f)}}}(n=tV("message",n),a,c);return(function(e,t,n){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof n)throw Error("hmacFn must be a function");let r=e=>new Uint8Array(e),i=r(e),a=r(e),s=0,o=()=>{i.fill(1),a.fill(0),s=0},c=(...e)=>n(a,i,...e),l=(e=r(0))=>{(a=c(Uint8Array.of(0),e),i=c(),0!==e.length)&&(a=c(Uint8Array.of(1),e),i=c())},u=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,n=[];for(;e<t;){let t=(i=c()).slice();n.push(t),e+=i.length}return tP(...n)};return(e,t)=>{let n;for(o(),l(e);!(n=t(u()));)l();return o(),n}})(t.outputLen,s.BYTES,i)(l,u)},verify:function(t,n,r,i={}){let{lowS:a,prehash:o,format:c}=it(i,p);if(r=tV("publicKey",r),n=k(tV("message",n),o),"strict"in i)throw Error("options.strict was renamed to lowS");let l=void 0===c?function(e){let t,n="string"==typeof e||tb(e),r=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!r)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)t=new g(e.r,e.s);else if(n){try{t=g.fromBytes(tV("sig",e),"der")}catch(e){if(!(e instanceof ir.Err))throw e}if(!t)try{t=g.fromBytes(tV("sig",e),"compact")}catch(e){return!1}}return!!t&&t}(t):g.fromBytes(tV("sig",t),c);if(!1===l)return!1;try{let t=e.fromBytes(r);if(a&&l.hasHighS())return!1;let{r:i,s:o}=l,c=w(n),u=s.inv(o),d=s.create(c*u),f=s.create(i*u),h=e.BASE.multiplyUnsafe(d).add(t.multiplyUnsafe(f));if(h.is0())return!1;return s.create(h.x)===i}catch(e){return!1}},recoverPublicKey:function(e,t,n={}){let{prehash:r}=it(n,p);return t=k(t,r),g.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:g,hash:t})}(function(e,t={}){let n=function(e,t,n={},r){if(void 0===r&&(r="edwards"===e),!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let n=t[e];if(!("bigint"==typeof n&&n>rJ))throw Error(`CURVE.${e} must be positive bigint`)}let i=r7(t.p,n.Fp,r),a=r7(t.n,n.Fn,r);for(let n of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!i.isValid(t[n]))throw Error(`CURVE.${n} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:a}}("weierstrass",e,t),{Fp:r,Fn:i}=n,a=n.CURVE,{h:s,n:o}=a;tG(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=t;if(c&&(!r.is0(a.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw Error('invalid endo: expected "beta": bigint and "basises": array');let l=ih(r,i);function u(){if(!r.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let d=t.toBytes||function(e,t,n){let{x:i,y:a}=t.toAffine(),s=r.toBytes(i);return(tD(n,"isCompressed"),n)?(u(),tP(iu(!r.isOdd(a)),s)):tP(Uint8Array.of(4),s,r.toBytes(a))},f=t.fromBytes||function(e){tU(e,void 0,"Point");let{publicKey:t,publicKeyUncompressed:n}=l,i=e.length,a=e[0],s=e.subarray(1);if(i===t&&(2===a||3===a)){let e,t=r.fromBytes(s);if(!r.isValid(t))throw Error("bad point: is not on curve, wrong x");let n=h(t);try{e=r.sqrt(n)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return u(),(1&a)==1!==r.isOdd(e)&&(e=r.neg(e)),{x:t,y:e}}if(i===n&&4===a){let e=r.BYTES,t=r.fromBytes(s.subarray(0,e)),n=r.fromBytes(s.subarray(e,2*e));if(!p(t,n))throw Error("bad point: is not on curve");return{x:t,y:n}}throw Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${n}`)};function h(e){let t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,a.a)),a.b)}function p(e,t){let n=r.sqr(t),i=h(e);return r.eql(n,i)}if(!p(a.Gx,a.Gy))throw Error("bad curve params: generator point");let m=r.mul(r.pow(a.a,io),ic),b=r.mul(r.sqr(a.b),BigInt(27));if(r.is0(r.add(m,b)))throw Error("bad curve params: a or b");function g(e,t,n=!1){if(!r.isValid(t)||n&&r.is0(t))throw Error(`bad point coordinate ${e}`);return t}function y(e){if(!(e instanceof E))throw Error("ProjectivePoint expected")}function w(e){if(!c||!c.basises)throw Error("no endo");return function(e,t,n){let[[r,i],[a,s]]=t,o=r9(s*e,n),c=r9(-i*e,n),l=e-o*r-c*a,u=-o*i-c*s,d=l<ii,f=u<ii;d&&(l=-l),f&&(u=-u);let h=tZ(Math.ceil(tK(n)/2))+ia;if(l<ii||l>=h||u<ii||u>=h)throw Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}(e,c.basises,i.ORDER)}let v=tJ((e,t)=>{let{X:n,Y:i,Z:a}=e;if(r.eql(a,r.ONE))return{x:n,y:i};let s=e.is0();null==t&&(t=s?r.ONE:r.inv(a));let o=r.mul(n,t),c=r.mul(i,t),l=r.mul(a,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:o,y:c}}),x=tJ(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw Error("bad point: ZERO")}let{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw Error("bad point: x or y not field elements");if(!p(n,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function k(e,t,n,i,a){return n=new E(r.mul(n.X,e),n.Y,n.Z),t=rQ(i,t),n=rQ(a,n),t.add(n)}class E{constructor(e,t,n){this.X=g("x",e),this.Y=g("y",t,!0),this.Z=g("z",n),Object.freeze(this)}static CURVE(){return a}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof E)throw Error("projective point not allowed");return r.is0(t)&&r.is0(n)?E.ZERO:new E(t,n,r.ONE)}static fromBytes(e){let t=E.fromAffine(f(tU(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return E.fromBytes(tV("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return S.createCache(this,e),t||this.multiply(io),this}assertValidity(){x(this)}hasEvenY(){let{y:e}=this.toAffine();if(!r.isOdd)throw Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){y(e);let{X:t,Y:n,Z:i}=this,{X:a,Y:s,Z:o}=e,c=r.eql(r.mul(t,o),r.mul(a,i)),l=r.eql(r.mul(n,o),r.mul(s,i));return c&&l}negate(){return new E(this.X,r.neg(this.Y),this.Z)}double(){let{a:e,b:t}=a,n=r.mul(t,io),{X:i,Y:s,Z:o}=this,c=r.ZERO,l=r.ZERO,u=r.ZERO,d=r.mul(i,i),f=r.mul(s,s),h=r.mul(o,o),p=r.mul(i,s);return p=r.add(p,p),u=r.mul(i,o),u=r.add(u,u),c=r.mul(e,u),l=r.mul(n,h),l=r.add(c,l),c=r.sub(f,l),l=r.add(f,l),l=r.mul(c,l),c=r.mul(p,c),u=r.mul(n,u),h=r.mul(e,h),p=r.sub(d,h),p=r.mul(e,p),p=r.add(p,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,h),d=r.mul(d,p),l=r.add(l,d),h=r.mul(s,o),h=r.add(h,h),d=r.mul(h,p),c=r.sub(c,d),u=r.mul(h,f),u=r.add(u,u),new E(c,l,u=r.add(u,u))}add(e){y(e);let{X:t,Y:n,Z:i}=this,{X:s,Y:o,Z:c}=e,l=r.ZERO,u=r.ZERO,d=r.ZERO,f=a.a,h=r.mul(a.b,io),p=r.mul(t,s),m=r.mul(n,o),b=r.mul(i,c),g=r.add(t,n),w=r.add(s,o);g=r.mul(g,w),w=r.add(p,m),g=r.sub(g,w),w=r.add(t,i);let v=r.add(s,c);return w=r.mul(w,v),v=r.add(p,b),w=r.sub(w,v),v=r.add(n,i),l=r.add(o,c),v=r.mul(v,l),l=r.add(m,b),v=r.sub(v,l),d=r.mul(f,w),l=r.mul(h,b),d=r.add(l,d),l=r.sub(m,d),d=r.add(m,d),u=r.mul(l,d),m=r.add(p,p),m=r.add(m,p),b=r.mul(f,b),w=r.mul(h,w),m=r.add(m,b),b=r.sub(p,b),b=r.mul(f,b),w=r.add(w,b),p=r.mul(m,w),u=r.add(u,p),p=r.mul(v,w),l=r.mul(g,l),l=r.sub(l,p),p=r.mul(g,m),d=r.mul(v,d),new E(l,u,d=r.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(E.ZERO)}multiply(e){let n,r,{endo:a}=t;if(!i.isValidNot0(e))throw Error("invalid scalar: out of range");let s=e=>S.cached(this,e,e=>rX(E,e));if(a){let{k1neg:t,k1:i,k2neg:o,k2:c}=w(e),{p:l,f:u}=s(i),{p:d,f:f}=s(c);r=u.add(f),n=k(a.beta,l,d,t,o)}else{let{p:t,f:i}=s(e);n=t,r=i}return rX(E,[n,r])[0]}multiplyUnsafe(e){let{endo:n}=t;if(!i.isValid(e))throw Error("invalid scalar: out of range");if(e===ii||this.is0())return E.ZERO;if(e===ia)return this;if(S.hasCache(this))return this.multiply(e);if(!n)return S.unsafe(this,e);{let{k1neg:t,k1:r,k2neg:i,k2:a}=w(e),{p1:s,p2:o}=function(e,t,n,r){let i=t,a=e.ZERO,s=e.ZERO;for(;n>rJ||r>rJ;)n&rY&&(a=a.add(i)),r&rY&&(s=s.add(i)),i=i.double(),n>>=rY,r>>=rY;return{p1:a,p2:s}}(E,this,r,a);return k(n.beta,s,o,t,i)}}multiplyAndAddUnsafe(e,t,n){let r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return v(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return s===ia||(e?e(E,this):S.unsafe(this,o).is0())}clearCofactor(){let{clearCofactor:e}=t;return s===ia?this:e?e(E,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(e=!0){return tD(e,"isCompressed"),this.assertValidity(),d(E,this,e)}toHex(e=!0){return tI(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return rX(E,e)}static msm(e,t){return function(e,t,n,r){if(!Array.isArray(n))throw Error("array expected");n.forEach((t,n)=>{if(!(t instanceof e))throw Error("invalid point at index "+n)});if(!Array.isArray(r))throw Error("array of scalars expected");r.forEach((e,n)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+n)});let i=n.length,a=r.length;if(i!==a)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,o=tK(BigInt(i)),c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);let l=tZ(c),u=Array(Number(l)+1).fill(s),d=Math.floor((t.BITS-1)/c)*c,f=s;for(let e=d;e>=0;e-=c){u.fill(s);for(let t=0;t<a;t++){let i=Number(r[t]>>BigInt(e)&l);u[i]=u[i].add(n[t])}let t=s;for(let e=u.length-1,n=s;e>0;e--)n=n.add(u[e]),t=t.add(n);if(f=f.add(t),0!==e)for(let e=0;e<c;e++)f=f.double()}return f}(E,i,e,t)}static fromPrivateKey(e){return E.BASE.multiply(il(i,e))}}E.BASE=new E(a.Gx,a.Gy,r.ONE),E.ZERO=new E(r.ZERO,r.ONE,r.ZERO),E.Fp=r,E.Fn=i;let A=i.BITS,S=new r6(E,t.endo?Math.ceil(A/2):A);return E.BASE.precompute(8),E}(n,r),i,a);return t=s.Point,Object.assign({},s,{ProjectivePoint:t,CURVE:Object.assign({},e,r$(t.Fn.ORDER,t.Fn.BITS))})})({...e,hash:t});return{...n(t),create:n}}function im(e,t){if(ib(e),ib(t),e<0||e>=1<<8*t)throw Error("invalid I2OSP input: "+e);let n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function ib(e){if(!Number.isSafeInteger(e))throw Error("number expected")}function ig(e){if(!tb(e)&&"string"!=typeof e)throw Error("DST must be Uint8Array or string");return"string"==typeof e?t_(e):e}function iy(e,t,n){var r;let i;tG(n,{p:"bigint",m:"number",k:"number",hash:"function"});let{p:a,k:s,m:o,hash:c,expand:l,DST:u}=n;if(!("function"==typeof(r=n.hash)&&Number.isSafeInteger(r.outputLen)))throw Error("expected valid hash");ty(e),ib(t);let d=Math.ceil((a.toString(2).length+s)/8),f=t*o*d;if("xmd"===l)i=function(e,t,n,r){ty(e),ib(n),(t=ig(t)).length>255&&(t=r(tP(t_("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:a}=r,s=Math.ceil(n/i);if(n>65535||s>255)throw Error("expand_message_xmd: invalid lenInBytes");let o=tP(t,im(t.length,1)),c=im(0,a),l=im(n,2),u=Array(s),d=r(tP(c,e,l,im(0,1),o));u[0]=r(tP(d,im(1,1),o));for(let e=1;e<=s;e++){let t=[function(e,t){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}(d,u[e-1]),im(e+1,1),o];u[e]=r(tP(...t))}return tP(...u).slice(0,n)}(e,u,f,c);else if("xof"===l)i=function(e,t,n,r,i){if(ty(e),ib(n),(t=ig(t)).length>255){let e=Math.ceil(2*r/8);t=i.create({dkLen:e}).update(t_("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(e).update(im(n,2)).update(t).update(im(t.length,1)).digest()}(e,u,f,s,c);else if("_internal_pass"===l)i=e;else throw Error('expand must be "xmd" or "xof"');let h=Array(t);for(let e=0;e<t;e++){let t=Array(o);for(let n=0;n<o;n++){let r=d*(n+e*o),s=i.subarray(r,r+d);t[n]=rN(tq(s),a)}h[e]=t}return h}let iw=t_("HashToScalar-");function iv(e,t,n){if("function"!=typeof t)throw Error("mapToCurve() must be defined");function r(n){return e.fromAffine(t(n))}function i(t){let n=t.clearCofactor();return n.equals(e.ZERO)?e.ZERO:(n.assertValidity(),n)}return{defaults:n,hashToCurve(e,t){let a=iy(e,2,Object.assign({},n,t)),s=r(a[0]),o=r(a[1]);return i(s.add(o))},encodeToCurve(e,t){let a=n.encodeDST?{DST:n.encodeDST}:{};return i(r(iy(e,1,Object.assign({},n,a,t))[0]))},mapToCurve(e){if(!Array.isArray(e))throw Error("expected array of bigints");for(let t of e)if("bigint"!=typeof t)throw Error("expected array of bigints");return i(r(e))},hashToScalar:(t,r)=>iy(t,1,Object.assign({},n,{p:e.Fn.ORDER,m:1,DST:iw},r))[0][0]}}let ix={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},ik={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},iE=BigInt(0),iA=BigInt(2),iS=rK(ix.p,{sqrt:function(e){let t=ix.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=rL(u,n,t)*u%t,f=rL(d,n,t)*u%t,h=rL(f,iA,t)*l%t,p=rL(h,i,t)*h%t,m=rL(p,a,t)*p%t,b=rL(m,o,t)*m%t,g=rL(b,c,t)*b%t,y=rL(g,o,t)*m%t,w=rL(y,n,t)*u%t,v=rL(w,s,t)*p%t,x=rL(v,r,t)*l%t,k=rL(x,iA,t);if(!iS.eql(iS.sqr(k),e))throw Error("Cannot find square root");return k}}),iI=ip({...ix,Fp:iS,lowS:!0,endo:ik},rv);iI.Point;let iT=(n=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e))).map(e=>Array.from(e).reverse()),(e,t)=>{let[r,i,a,s]=n.map(t=>t.reduce((t,n)=>iS.add(iS.mul(t,e),n))),[o,c]=rz(iS,[i,s],!0);return e=iS.mul(r,o),t=iS.mul(t,iS.mul(a,c)),{x:e,y:t}}),iC=id(iS,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:iS.create(BigInt("-11"))});iv(iI.Point,e=>{let{x:t,y:n}=iC(iS.create(e[0]));return iT(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:iS.ORDER,m:1,k:128,expand:"xmd",hash:rv});let i_=2n**256n-1n;function iO(e,t={}){let{recovered:n}=t;if(void 0===e.r||void 0===e.s||n&&void 0===e.yParity)throw new iY({signature:e});if(e.r<0n||e.r>i_)throw new iQ({value:e.r});if(e.s<0n||e.s>i_)throw new iX({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new i0({value:e.yParity})}function iP(e){return iB(np(e))}function iB(e){if(130!==e.length&&132!==e.length)throw new iJ({signature:e});let t=BigInt(nx(e,0,32)),n=BigInt(nx(e,32,64)),r=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return iZ(t)}catch{throw new i0({value:t})}})();return void 0===r?{r:t,s:n}:{r:t,s:n,yParity:r}}function ij(e){if(void 0!==e.r&&void 0!==e.s)return iM(e)}function iM(e){let t="string"==typeof e?iB(e):e instanceof Uint8Array?iP(e):"string"==typeof e.r?iU(e):e.v?iD(e):{r:e.r,s:e.s,...void 0!==e.yParity?{yParity:e.yParity}:{}};return iO(t),t}function iN(e){return iL(np(e))}function iL(e){let{r:t,s:n}=iI.Signature.fromDER(nf(e).slice(2));return{r:t,s:n}}function iD(e){return{r:e.r,s:e.s,yParity:iZ(e.v)}}function iU(e){let t=(()=>{let t=e.v?Number(e.v):void 0,n=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof n&&(n=iZ(t)),"number"!=typeof n)throw new i0({value:e.yParity});return n})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function iR(e){let[t,n,r]=e;return iM({r:"0x"===n?0n:BigInt(n),s:"0x"===r?0n:BigInt(r),yParity:"0x"===t?0:Number(t)})}function iH(e){return t9(iq(e))}function iq(e){iO(e);let t=e.r,n=e.s;return nd(nm(t,{size:32}),nm(n,{size:32}),"number"==typeof e.yParity?nm(iG(e.yParity),{size:1}):"0x")}function iW(e){return new iI.Signature(e.r,e.s).toDERRawBytes()}function iF(e){let t=new iI.Signature(e.r,e.s);return`0x${t.toDERHex()}`}function iz(e){return{r:e.r,s:e.s,v:iG(e.yParity)}}function iV(e){let{r:t,s:n,yParity:r}=e;return{r:nm(t,{size:32}),s:nm(n,{size:32}),yParity:0===r?"0x0":"0x1"}}function i$(e){let{r:t,s:n,yParity:r}=e;return[r?"0x01":"0x",0n===t?"0x":nE(nm(t)),0n===n?"0x":nE(nm(n))]}function iK(e,t={}){try{return iO(e,t),!0}catch{return!1}}function iZ(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return+(e%2==0);throw new i1({value:e})}function iG(e){if(0===e)return 27;if(1===e)return 28;throw new i0({value:e})}class iJ extends tQ{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${nk(nf(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class iY extends tQ{constructor({signature:e}){super(`Signature \`${tX(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class iQ extends tQ{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class iX extends tQ{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class i0 extends tQ{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class i1 extends tQ{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}e.s(["InvalidRError",()=>iQ,"InvalidSError",()=>iX,"InvalidSerializedSizeError",()=>iJ,"InvalidVError",()=>i1,"InvalidYParityError",()=>i0,"MissingPropertiesError",()=>iY,"assert",()=>iO,"extract",()=>ij,"from",()=>iM,"fromBytes",()=>iP,"fromDerBytes",()=>iN,"fromDerHex",()=>iL,"fromHex",()=>iB,"fromLegacy",()=>iD,"fromRpc",()=>iU,"fromTuple",()=>iR,"toBytes",()=>iH,"toDerBytes",()=>iW,"toDerHex",()=>iF,"toHex",()=>iq,"toLegacy",()=>iz,"toRpc",()=>iV,"toTuple",()=>i$,"vToYParity",()=>iZ,"validate",()=>iK,"yParityToV",()=>iG],731818);var i2=e.i(731818),i2=i2;e.s(["CredentialCreationFailedError",()=>sl,"CredentialRequestFailedError",()=>su,"createChallenge",()=>se,"createCredential",()=>st,"getAuthenticatorData",()=>sn,"getClientDataJSON",()=>sr,"getCredentialCreationOptions",()=>si,"getCredentialRequestOptions",()=>sa,"getSignPayload",()=>ss,"sign",()=>so,"verify",()=>sc],699995);let i3=new TextEncoder,i5=new TextDecoder,i4=Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((e,t)=>[t,e.charCodeAt(0)])),i8={...Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((e,t)=>[e.charCodeAt(0),t])),61:0,45:62,95:63};function i6(e){let t=e.replace(/=+$/,""),n=t.length,r=new Uint8Array(n+3);i3.encodeInto(t+"===",r);for(let e=0,n=0;e<t.length;e+=4,n+=3){let t=(i8[r[e]]<<18)+(i8[r[e+1]]<<12)+(i8[r[e+2]]<<6)+i8[r[e+3]];r[n]=t>>16,r[n+1]=t>>8&255,r[n+2]=255&t}return new Uint8Array(r.buffer,0,(n>>2)*3+(n%4&&n%4-1))}function i7(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function i9(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function ae(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function at(e,t){i9(e);let n=t.outputLen;if(e.length<n)throw Error("digestInto() expects output buffer of length at least "+n)}function an(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ar(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ai(e,t){return e<<32-t|e>>>t}let aa=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:function(e){for(let n=0;n<e.length;n++){var t;e[n]=(t=e[n])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}return e};function as(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),i9(e),e}class ao{}function ac(e){let t=t=>e().update(as(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class al extends ao{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=ar(this.buffer)}update(e){ae(this),i9(e=as(e));let{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let a=0;a<i;){let s=Math.min(r-this.pos,i-a);if(s===r){let t=ar(e);for(;r<=i-a;a+=r)this.process(t,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ae(this),at(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:r,isLE:i}=this,{pos:a}=this;t[a++]=128,an(this.buffer.subarray(a)),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(n>>i&a),o=Number(n&a),c=4*!!r,l=4*!r;e.setUint32(t+c,s,r),e.setUint32(t+l,o,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);let s=ar(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=o/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:s}=this;return e.destroyed=a,e.finished=i,e.length=r,e.pos=s,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}let au=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),ad=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),af=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),ah=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),ap=Uint32Array.from([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0]),am=new Uint32Array(80);(e,t)=>Math.floor(0x100000000*Math.abs(Math.sin(t+1)));let ab=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),ag=Uint8Array.from(Array(16).fill(0).map((e,t)=>t)),ay=ag.map(e=>(9*e+5)%16),aw=(()=>{let e=[[ag],[ay]];for(let t=0;t<4;t++)for(let n of e)n.push(n[t].map(e=>ab[e]));return e})(),av=aw[0],ax=aw[1],ak=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),aE=av.map((e,t)=>e.map(e=>ak[t][e])),aA=ax.map((e,t)=>e.map(e=>ak[t][e])),aS=Uint32Array.from([0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e]),aI=Uint32Array.from([0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0]),aT=BigInt(0x100000000-1),aC=BigInt(32);function a_(e,t=!1){let n=e.length,r=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){let{h:n,l:s}=function(e,t=!1){return t?{h:Number(e&aT),l:Number(e>>aC&aT)}:{h:0|Number(e>>aC&aT),l:0|Number(e&aT)}}(e[a],t);[r[a],i[a]]=[n,s]}return[r,i]}let aO=BigInt(0),aP=BigInt(1),aB=BigInt(2),aj=BigInt(7),aM=BigInt(256),aN=BigInt(113),aL=[],aD=[],aU=[];for(let e=0,t=aP,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],aL.push(2*(5*r+n)),aD.push((e+1)*(e+2)/2%64);let i=aO;for(let e=0;e<7;e++)(t=(t<<aP^(t>>aj)*aN)%aM)&aB&&(i^=aP<<(aP<<BigInt(e))-aP);aU.push(i)}let aR=a_(aU,!0),aH=aR[0],aq=aR[1],aW=(e,t,n)=>n>32?t<<n-32|e>>>64-n:e<<n|t>>>32-n,aF=(e,t,n)=>n>32?e<<n-32|t>>>64-n:t<<n|e>>>32-n;class az extends ao{constructor(e,t,n,r=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,i7(n),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}(this.state)}clone(){return this._cloneInto()}keccak(){aa(this.state32),function(e,t=24){let n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let r=(t+8)%10,i=(t+2)%10,a=n[i],s=n[i+1],o=aW(a,s,1)^n[r],c=aF(a,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){let r=aD[n],a=aW(t,i,r),s=aF(t,i,r),o=aL[n];t=e[o],i=e[o+1],e[o]=a,e[o+1]=s}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=aH[r],e[1]^=aq[r]}an(n)}(this.state32,this.rounds),aa(this.state32),this.posOut=0,this.pos=0}update(e){ae(this),i9(e=as(e));let{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){let a=Math.min(t-this.pos,r-i);for(let t=0;t<a;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,(128&t)!=0&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){ae(this,!1),i9(e),this.finish();let t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return i7(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(at(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,an(this.state)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:a}=this;return e||(e=new az(t,n,r,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}let aV=ac(()=>new az(136,1,32)),a$=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),aK=new Uint32Array(64);class aZ extends al{constructor(e=32){super(64,e,8,!1),this.A=0|au[0],this.B=0|au[1],this.C=0|au[2],this.D=0|au[3],this.E=0|au[4],this.F=0|au[5],this.G=0|au[6],this.H=0|au[7]}get(){let{A:e,B:t,C:n,D:r,E:i,F:a,G:s,H:o}=this;return[e,t,n,r,i,a,s,o]}set(e,t,n,r,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)aK[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=aK[e-15],n=aK[e-2],r=ai(t,7)^ai(t,18)^t>>>3,i=ai(n,17)^ai(n,19)^n>>>10;aK[e]=i+aK[e-7]+r+aK[e-16]|0}let{A:n,B:r,C:i,D:a,E:s,F:o,G:c,H:l}=this;for(let e=0;e<64;e++){var u,d,f,h;let t=l+(ai(s,6)^ai(s,11)^ai(s,25))+((u=s)&o^~u&c)+a$[e]+aK[e]|0,p=(ai(n,2)^ai(n,13)^ai(n,22))+((d=n)&(f=r)^d&(h=i)^f&h)|0;l=c,c=o,o=s,s=a+t|0,a=i,i=r,r=n,n=t+p|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,a,s,o,c,l)}roundClean(){an(aK)}destroy(){this.set(0,0,0,0,0,0,0,0),an(this.buffer)}}let aG=a_(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),aJ=aG[0],aY=aG[1],aQ=new Uint32Array(80),aX=new Uint32Array(80),a0=ac(()=>new aZ);function a1(e,t={}){let{as:n="string"==typeof e?"Hex":"Bytes"}=t,r=a0(t6(e));return"Bytes"===n?r:np(r)}let a2={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},a3={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},a5={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},a4=rK(a2.p),a8=rK(a3.p),a6=rK(a5.p),a7=ip({...a2,Fp:a4,lowS:!1},rv);async function a9(e){try{let t=e.getPublicKey();if(!t)throw new sl;let n=new Uint8Array(t),r=await crypto.subtle.importKey("spki",new Uint8Array(n),{name:"ECDSA",namedCurve:"P-256",hash:"SHA-256"},!0,["verify"]),i=new Uint8Array(await crypto.subtle.exportKey("raw",r));return nW(i)}catch(a){if("Permission denied to access object"!==a.message)throw a;let t=new Uint8Array(e.attestationObject),n=e=>{let n=new Uint8Array([e,88,32]);for(let e=0;e<t.length-n.length;e++)if(n.every((n,r)=>t[e+r]===n))return e+n.length;throw new sl},r=n(33),i=n(34);return nW(new Uint8Array([4,...t.slice(r,r+32),...t.slice(i,i+32)]))}}iv(a7.Point,(u=a7.Point,d={A:a2.a,B:a2.b,Z:a7.Point.Fp.create(BigInt("-10"))},r=id(u.Fp,d),e=>r(e[0])),{DST:"P256_XMD:SHA-256_SSWU_RO_",encodeDST:"P256_XMD:SHA-256_SSWU_NU_",p:a2.p,m:1,k:128,expand:"xmd",hash:rv}),ip({...a3,Fp:a8,lowS:!1},rk),ip({...a5,Fp:a6,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},rx);let se=Uint8Array.from([105,171,180,181,160,222,75,198,42,42,32,31,141,37,186,233]);async function st(e){let{createFn:t=window.navigator.credentials.create.bind(window.navigator.credentials),...n}=e,r=si(n);try{let e=await t(r);if(!e)throw new sl;let n=e.response,i=await a9(n);return{id:e.id,publicKey:i,raw:e}}catch(e){throw new sl({cause:e})}}function sn(e={}){let{flag:t=5,rpId:n=window.location.hostname,signCount:r=0}=e;return nd(a1(nb(n)),nm(t,{size:1}),nm(r,{size:4}))}function sr(e){let{challenge:t,crossOrigin:n=!1,extraClientData:r,origin:i=window.location.origin}=e;return JSON.stringify({type:"webauthn.get",challenge:function(e,t={}){return function(e,t={}){let{pad:n=!0,url:r=!1}=t,i=new Uint8Array(4*Math.ceil(e.length/3));for(let t=0,n=0;n<e.length;t+=4,n+=3){let r=(e[n]<<16)+(e[n+1]<<8)+(0|e[n+2]);i[t]=i4[r>>18],i[t+1]=i4[r>>12&63],i[t+2]=i4[r>>6&63],i[t+3]=i4[63&r]}let a=e.length%3,s=4*Math.floor(e.length/3)+(a&&a+1),o=i5.decode(new Uint8Array(i.buffer,0,s));return n&&1===a&&(o+="=="),n&&2===a&&(o+="="),r&&(o=o.replaceAll("+","-").replaceAll("/","_")),o}(t9(e),t)}(t,{url:!0,pad:!1}),origin:i,crossOrigin:n,...r})}function si(e){let{attestation:t="none",authenticatorSelection:n={residentKey:"preferred",requireResidentKey:!1,userVerification:"required"},challenge:r=se,excludeCredentialIds:i,name:a,rp:s={id:window.location.hostname,name:window.document.title},user:o,extensions:c}=e,l=o?.name??a;return{publicKey:{attestation:t,authenticatorSelection:n,challenge:r,...i?{excludeCredentials:i?.map(e=>({id:i6(e),type:"public-key"}))}:{},pubKeyCredParams:[{type:"public-key",alg:-7}],rp:s,user:{id:o?.id??function(e,t={}){let{as:n="string"==typeof e?"Hex":"Bytes"}=t,r=aV(t6(e));return"Bytes"===n?r:np(r)}(ne(l),{as:"Bytes"}),name:l,displayName:o?.displayName??l},extensions:c}}}function sa(e){let{credentialId:t,challenge:n,rpId:r=window.location.hostname,userVerification:i="required"}=e;return{publicKey:{...t?{allowCredentials:[{id:i6(t),type:"public-key"}]}:{},challenge:t9(n),rpId:r,userVerification:i}}}function ss(e){let{challenge:t,crossOrigin:n,extraClientData:r,flag:i,origin:a,rpId:s,signCount:o,userVerification:c="required"}=e,l=sn({flag:i,rpId:s,signCount:o}),u=sr({challenge:t,crossOrigin:n,extraClientData:r,origin:a}),d=a1(nb(u)),f=u.indexOf('"challenge"'),h=u.indexOf('"type"');return{metadata:{authenticatorData:l,clientDataJSON:u,challengeIndex:f,typeIndex:h,userVerificationRequired:"required"===c},payload:nd(l,d)}}async function so(e){let{getFn:t=window.navigator.credentials.get.bind(window.navigator.credentials),...n}=e,r=sa(n);try{var i;let e,n,a,s,o,c=await t(r);if(!c)throw new su;let l=c.response,u=String.fromCharCode(...new Uint8Array(l.clientDataJSON)),d=u.indexOf('"challenge"'),f=u.indexOf('"type"'),h=(i=new Uint8Array(l.signature),n=(e=0===i[4]?5:4)+32,a=0===i[n+2]?n+3:n+2,s=BigInt(np(i.slice(e,n))),o=BigInt(np(i.slice(a))),{r:s,s:o>a7.CURVE.n/2n?a7.CURVE.n-o:o});return{metadata:{authenticatorData:np(new Uint8Array(l.authenticatorData)),clientDataJSON:u,challengeIndex:d,typeIndex:f,userVerificationRequired:"required"===r.publicKey.userVerification},signature:h,raw:c}}catch(e){throw new su({cause:e})}}function sc(e){let{challenge:t,hash:n=!0,metadata:r,publicKey:i,signature:a}=e,{authenticatorData:s,challengeIndex:o,clientDataJSON:c,typeIndex:l,userVerificationRequired:u}=r,d=t9(s);if(d.length<37)return!1;let f=d[32];if((1&f)!=1||u&&(4&f)!=4||(8&f)!=8&&(16&f)==16)return!1;let h='"type":"webauthn.get"';if(h!==c.slice(Number(l),h.length+1))return!1;let p=c.slice(Number(o)).match(/^"challenge":"(.*?)"/);if(!p)return!1;let[m,b]=p;return np(i6(b))===t&&function(e){let{hash:t,payload:n,publicKey:r,signature:i}=e;return a7.verify(i,n instanceof Uint8Array?n:t9(n),n$(r).substring(2),...t?[{prehash:!0,lowS:!0}]:[])}({hash:n,payload:t8(d,a1(ne(c),{as:"Bytes"})),publicKey:i,signature:a})}class sl extends tQ{constructor({cause:e}={}){super("Failed to create credential.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebAuthnP256.CredentialCreationFailedError"})}}class su extends tQ{constructor({cause:e}={}){super("Failed to request credential.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebAuthnP256.CredentialRequestFailedError"})}}var sd=e.i(699995),sd=sd;async function sf(e={}){let{extractable:t=!1}=e,n=await globalThis.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},t,["sign","verify"]),r=nW(new Uint8Array(await globalThis.crypto.subtle.exportKey("raw",n.publicKey)));return{privateKey:n.privateKey,publicKey:r}}async function sh(e){let{payload:t,privateKey:n}=e,r=t7(new Uint8Array(await globalThis.crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},n,t6(t)))),i=nr(nn(r,0,32)),a=nr(nn(r,32,64));return a>a7.CURVE.n/2n&&(a=a7.CURVE.n-a),{r:i,s:a}}async function sp(e){let{payload:t,signature:n}=e,r=await globalThis.crypto.subtle.importKey("raw",nV(e.publicKey),{name:"ECDSA",namedCurve:"P-256"},!0,["verify"]);return await globalThis.crypto.subtle.verify({name:"ECDSA",hash:"SHA-256"},r,t8(t9(nm(n.r,void 0)),t9(nm(n.s,void 0))),t6(t))}e.s(["createKeyPair",()=>sf,"sign",()=>sh,"verify",()=>sp],491918);var sm=e.i(491918),sm=sm,sb=e.i(658765),sg=e.i(995062),sy=e.i(168679);let sw="activeId",sv=(i="undefined"!=typeof indexedDB?(0,sy.createStore)("cbwsdk","keys"):void 0,{getItem:async e=>{let t=await (0,sy.get)(e,i);return t||null},removeItem:async e=>(0,sy.del)(e,i),setItem:async(e,t)=>(0,sy.set)(e,t,i)});async function sx(){let e=await sm.createKeyPair({extractable:!1}),t=nR.slice(nX.toHex(e.publicKey),1);return await sv.setItem(t,e),await sv.setItem(sw,t),e}async function sk(){let e=await sv.getItem(sw);if(!e)return null;let t=await sv.getItem(e);return t||null}async function sE(){let e=await sk();if(!e){let e=await sx(),t=nR.slice(nX.toHex(e.publicKey),1);return await sv.setItem(t,e),await sv.setItem(sw,t),e}return e}async function sA(){let e=await sE(),t=nR.slice(nX.toHex(e.publicKey),1),n=async t=>{let{payload:n,metadata:r}=sd.getSignPayload({challenge:t,origin:"https://keys.coinbase.com",userVerification:"preferred"}),i=await sm.sign({payload:n,privateKey:e.privateKey});return{signature:i2.toHex(i),raw:{},webauthn:r}};return{id:t,publicKey:t,sign:async({hash:e})=>n(e),signMessage:async({message:e})=>n((0,sb.hashMessage)(e)),signTypedData:async e=>n((0,sg.hashTypedData)(e)),type:"webAuthn"}}async function sS(){return{account:await sA()}}async function sI(){let e=await sk();e&&(await sv.removeItem(nR.slice(nX.toHex(e.publicKey),1)),await sv.removeItem(sw))}let sT={storageKey:"ownPrivateKey",keyType:"private"},sC={storageKey:"ownPublicKey",keyType:"public"},s_={storageKey:"peerPublicKey",keyType:"public"};class sO{constructor(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(s_,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,A.keys.clear()}async generateKeyPair(){let e=await ts();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(sT,e.privateKey),await this.storeKey(sC,e.publicKey)}async loadKeysIfNeeded(){null===this.ownPrivateKey&&(this.ownPrivateKey=await this.loadKey(sT)),null===this.ownPublicKey&&(this.ownPublicKey=await this.loadKey(sC)),(null===this.ownPrivateKey||null===this.ownPublicKey)&&await this.generateKeyPair(),null===this.peerPublicKey&&(this.peerPublicKey=await this.loadKey(s_)),null===this.sharedSecret&&null!==this.ownPrivateKey&&null!==this.peerPublicKey&&(this.sharedSecret=await to(this.ownPrivateKey,this.peerPublicKey))}async loadKey(e){let t=A.keys.get(e.storageKey);return t?tf(e.keyType,t):null}async storeKey(e,t){let n=await td(e.keyType,t);A.keys.set(e.storageKey,n)}}var sP=e.i(831095),sB=e.i(790063);function sj(e,t){if("object"==typeof e&&null!==e)return t.split(/[.[\]]+/).filter(Boolean).reduce((e,t)=>{if("object"==typeof e&&null!==e)return e[t]},e)}var sM=e.i(763448);let sN="0x0ba5ed0c6aa8c49038f819e587e2633c4a9f428a",sL="0xf85210B21cC50302F477BA56686d2019dC9b67Ad",sD=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"owner",type:"bytes"}],name:"AlreadyOwner",type:"error"},{inputs:[],name:"Initialized",type:"error"},{inputs:[{name:"owner",type:"bytes"}],name:"InvalidEthereumAddressOwner",type:"error"},{inputs:[{name:"key",type:"uint256"}],name:"InvalidNonceKey",type:"error"},{inputs:[{name:"owner",type:"bytes"}],name:"InvalidOwnerBytesLength",type:"error"},{inputs:[],name:"LastOwner",type:"error"},{inputs:[{name:"index",type:"uint256"}],name:"NoOwnerAtIndex",type:"error"},{inputs:[{name:"ownersRemaining",type:"uint256"}],name:"NotLastOwner",type:"error"},{inputs:[{name:"selector",type:"bytes4"}],name:"SelectorNotAllowed",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{inputs:[],name:"UnauthorizedCallContext",type:"error"},{inputs:[],name:"UpgradeFailed",type:"error"},{inputs:[{name:"index",type:"uint256"},{name:"expectedOwner",type:"bytes"},{name:"actualOwner",type:"bytes"}],name:"WrongOwnerAtIndex",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"index",type:"uint256"},{indexed:!1,name:"owner",type:"bytes"}],name:"AddOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"index",type:"uint256"},{indexed:!1,name:"owner",type:"bytes"}],name:"RemoveOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"REPLAYABLE_NONCE_KEY",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"addOwnerAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"addOwnerPublicKey",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"functionSelector",type:"bytes4"}],name:"canSkipChainIdValidation",outputs:[{name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"entryPoint",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"calls",type:"bytes[]"}],name:"executeWithoutChainIdValidation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHashWithoutChainId",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"$",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"owners",type:"bytes[]"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"isOwnerAddress",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"bytes"}],name:"isOwnerBytes",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"isOwnerPublicKey",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"result",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextOwnerIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"ownerAtIndex",outputs:[{name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"ownerCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"},{name:"owner",type:"bytes"}],name:"removeLastOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"index",type:"uint256"},{name:"owner",type:"bytes"}],name:"removeOwnerAtIndex",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"removedOwnersCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"hash",type:"bytes32"}],name:"replaySafeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"newImplementation",type:"address"},{name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],sU=[{inputs:[{name:"implementation_",type:"address"}],stateMutability:"payable",type:"constructor"},{inputs:[],name:"OwnerRequired",type:"error"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"createAccount",outputs:[{name:"account",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"getAddress",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initCodeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"}];function sR(e){var t;if(!Array.isArray(e.params))return null;switch(e.method){case"personal_sign":return e.params[1];case"eth_signTypedData_v4":return e.params[0];case"eth_signTransaction":case"eth_sendTransaction":case"wallet_sendCalls":return null==(t=e.params[0])?void 0:t.from;default:return null}}function sH(e){var t;if(!e||!Array.isArray(e)||!(null==(t=e[0])?void 0:t.chainId)||"string"!=typeof e[0].chainId&&"number"!=typeof e[0].chainId)throw q()}function sq(e,t){let n=Object.assign({},e);if(t&&e.method.startsWith("wallet_")){let e=sj(n,"params.0.capabilities");if(void 0===e&&(e={}),"object"!=typeof e)throw q();e=Object.assign(Object.assign({},t),e),n.params&&Array.isArray(n.params)&&(n.params[0]=Object.assign(Object.assign({},n.params[0]),{capabilities:e}))}return n}async function sW(){var e;let t=null!=(e=A.subAccountsConfig.get())?e:{},n={};if(t.enableAutoSubAccounts){let{account:e}=t.toOwnerAccount?await t.toOwnerAccount():await sS();if(!e)throw V("No owner account found");n.addSubAccount={account:{type:"create",keys:[{type:e.address?"address":"webauthn-p256",publicKey:e.address||e.publicKey}]}}}A.subAccountsConfig.set({capabilities:n})}async function sF({client:e,id:t}){var n;let r=await (0,sM.waitForCallsStatus)(e,{id:t});if("success"===r.status)return null==(n=r.receipts)?void 0:n[0].transactionHash;throw W("failed to send transaction")}function sz({calls:e,from:t,chainId:n,capabilities:r}){let i=E.get().paymasterUrls,a={method:"wallet_sendCalls",params:[{version:"1.0",calls:e,chainId:(0,e2.numberToHex)(n),from:t,atomicRequired:!0,capabilities:r}]};return(null==i?void 0:i[n])&&(a=sq(a,{paymasterService:{url:null==i?void 0:i[n]}})),a}async function sV(){let e=e$();return await new Promise(t=>{eB({snackbarContext:"sub_account_insufficient_balance"}),e.presentItem({autoExpand:!0,message:"Insufficient spend permission. Choose how to proceed:",menuItems:[{isRed:!1,info:"Create new Spend Permission",svgWidth:"10",svgHeight:"11",path:"",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:()=>{ej({snackbarContext:"sub_account_insufficient_balance",snackbarAction:"create_permission"}),e.clear(),t("update_permission")}},{isRed:!1,info:"Continue in Popup",svgWidth:"10",svgHeight:"11",path:"",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:()=>{ej({snackbarContext:"sub_account_insufficient_balance",snackbarAction:"continue_in_popup"}),e.clear(),t("continue_popup")}},{isRed:!0,info:"Cancel",svgWidth:"10",svgHeight:"11",path:"",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:()=>{ej({snackbarContext:"sub_account_insufficient_balance",snackbarAction:"cancel"}),e.clear(),t("cancel")}}]})})}function s$(e,t){let n=e.filter(e=>e!==t);return[t,...n]}function sK(e,t){return[...e.filter(e=>e!==t),t]}async function sZ(){let e=A.spendPermissions.get(),t=A.subAccounts.get(),n=A.account.get().accounts;return n?{accounts:null==n?void 0:n.map(n=>({address:n,capabilities:{subAccounts:t?[t]:void 0,spendPermissions:e.length>0?{permissions:e}:void 0}}))}:null}var i2=i2,sG=e.i(769936),sJ=e.i(8406);function sY(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}var sQ=e.i(569934),sX=e.i(316819),s0=e.i(704434),s1=e.i(656679),s2=e.i(975721),s3=e.i(189643),s5=e.i(401319),s4=e.i(594734),s8=e.i(713764),s6=e.i(547160),s7=e.i(875740),s9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};async function oe(e){let{owner:t,ownerIndex:n,address:r,client:i,factoryData:a}=e,s={abi:s4.entryPoint06Abi,address:s8.entryPoint06Address,version:"0.6"},o={abi:sU,address:sN};return(0,s7.toSmartAccount)({client:i,entryPoint:s,extend:{abi:sD,factory:o},async decodeCalls(e){let t=(0,sX.decodeFunctionData)({abi:sD,data:e});if("execute"===t.functionName)return[{to:t.args[0],value:t.args[1],data:t.args[2]}];if("executeBatch"===t.functionName)return t.args[0].map(e=>({to:e.target,value:e.value,data:e.data}));throw new sQ.BaseError(`unable to decode calls for "${t.functionName}"`)},async encodeCalls(e){var t,n;return 1===e.length?(0,s1.encodeFunctionData)({abi:sD,functionName:"execute",args:[e[0].to,null!=(t=e[0].value)?t:BigInt(0),null!=(n=e[0].data)?n:"0x"]}):(0,s1.encodeFunctionData)({abi:sD,functionName:"executeBatch",args:[e.map(e=>{var t,n;return{data:null!=(t=e.data)?t:"0x",target:e.to,value:null!=(n=e.value)?n:BigInt(0)}})]})},getAddress:async()=>r,getFactoryArgs:async()=>({factory:o.address,factoryData:a}),getStubSignature:async()=>"webAuthn"===t.type?"0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000170000000000000000000000000000000000000000000000000000000000000001949fc7c88032b9fcb5f6efc7a7b8c63668eae9871b765e23123bb473ff57aa831a7c0d9276168ebcc29f2875a0239cffdf2a9cd1c2007c5c77c071db9264df1d000000000000000000000000000000000000000000000000000000000000002549960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97630500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008a7b2274797065223a22776562617574686e2e676574222c226368616c6c656e6765223a2273496a396e6164474850596759334b7156384f7a4a666c726275504b474f716d59576f4d57516869467773222c226f726967696e223a2268747470733a2f2f7369676e2e636f696e626173652e636f6d222c2263726f73734f726967696e223a66616c73657d00000000000000000000000000000000000000000000":or({ownerIndex:n,signature:"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"}),async sign(e){let r=on({address:await this.getAddress(),chainId:i.chain.id,hash:e.hash});return or({ownerIndex:n,signature:await ot({hash:r,owner:t})})},async signMessage(e){let{message:r}=e,a=on({address:await this.getAddress(),chainId:i.chain.id,hash:(0,sb.hashMessage)(r)});return or({ownerIndex:n,signature:await ot({hash:a,owner:t})})},async signTypedData(e){let{domain:r,types:a,primaryType:s,message:o}=e,c=on({address:await this.getAddress(),chainId:i.chain.id,hash:(0,sg.hashTypedData)({domain:r,message:o,primaryType:s,types:a})});return or({ownerIndex:n,signature:await ot({hash:c,owner:t})})},async signUserOperation(e){let{chainId:r=i.chain.id}=e,a=s9(e,["chainId"]),o=await this.getAddress(),c=(0,s6.getUserOperationHash)({chainId:r,entryPointAddress:s.address,entryPointVersion:s.version,userOperation:Object.assign(Object.assign({},a),{sender:o})});return or({ownerIndex:n,signature:await ot({hash:c,owner:t})})},userOperation:{async estimateGas(e){var n;if("webAuthn"===t.type)return{verificationGasLimit:BigInt(Math.max(Number(null!=(n=e.verificationGasLimit)?n:BigInt(0)),8e5))}}}})}async function ot({hash:e,owner:t}){if("webAuthn"===t.type){let{signature:n,webauthn:r}=await t.sign({hash:e});return function({webauthn:e,signature:t}){let{r:n,s:r}=iB(t);return(0,s0.encodeAbiParameters)([{components:[{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"bytes"},{name:"challengeIndex",type:"uint256"},{name:"typeIndex",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"}],type:"tuple"}],[{authenticatorData:e.authenticatorData,clientDataJSON:(0,e2.stringToHex)(e.clientDataJSON),challengeIndex:BigInt(e.challengeIndex),typeIndex:BigInt(e.typeIndex),r:n,s:r}])}({signature:n,webauthn:r})}if(t.sign)return t.sign({hash:e});throw new sQ.BaseError("`owner` does not support raw sign.")}function on({address:e,chainId:t,hash:n}){return(0,sg.hashTypedData)({domain:{chainId:t,name:"Coinbase Smart Wallet",verifyingContract:e,version:"1"},types:{CoinbaseSmartWalletMessage:[{name:"hash",type:"bytes32"}]},primaryType:"CoinbaseSmartWalletMessage",message:{hash:n}})}function or(e){let{ownerIndex:t=0}=e,n=(()=>{if(65!==(0,s5.size)(e.signature))return e.signature;let t=(0,s3.parseSignature)(e.signature);return(0,s2.encodePacked)(["bytes32","bytes32","uint8"],[t.r,t.s,0===t.yParity?27:28])})();return(0,s0.encodeAbiParameters)([{components:[{name:"ownerIndex",type:"uint8"},{name:"signatureData",type:"bytes"}],type:"tuple"}],[{ownerIndex:t,signatureData:n}])}async function oi({address:e,client:t,factory:n,factoryData:r,owner:i,ownerIndex:a,parentAddress:s,attribution:o}){var c;let l={address:e,factory:n,factoryData:r},u=null==(c=t.chain)?void 0:c.id;if(!u)throw W("chainId not found");let d=await oe({owner:i,ownerIndex:null!=a?a:1,address:e,client:t,factoryData:r}),f=async e=>{var n,r,a,c,h;try{switch(e.method){case"wallet_addSubAccount":return l;case"eth_accounts":return[l.address];case"eth_coinbase":return l.address;case"net_version":return u.toString();case"eth_chainId":return(0,e2.numberToHex)(u);case"eth_sendTransaction":{tn(e.params);let i=e.params[0];tt(i.to,q("to is required"));let s={to:i.to,data:eb(null!=(n=i.data)?n:"0x",!0),value:eb(null!=(r=i.value)?r:"0x",!0),from:null!=(a=i.from)?a:l.address},o=sz({calls:[s],chainId:u,from:s.from}),c=await f(o);return sF({client:t,id:c})}case"wallet_sendCalls":{let t;tn(e.params);let n=sj(e.params[0],"chainId");if(!n)throw q("chainId is required");if(!(0,ti.isHex)(n))throw q("chainId must be a hex encoded integer");if(!e.params[0])throw q("params are required");if(!("calls"in e.params[0]))throw q("calls are required");let r={method:"wallet_prepareCalls",params:[{version:"1.0",calls:e.params[0].calls,chainId:n,from:l.address,capabilities:"capabilities"in e.params[0]?e.params[0].capabilities:{}}]};s&&(r=sq(r,{funding:[{type:"spendPermission",data:{autoApply:!0,sources:[s],preference:"PREFER_DIRECT_BALANCE"}}]}));let a=await f(r),o=await (null==(c=i.sign)?void 0:c.call(i,{hash:(0,e0.hexToString)(a.signatureRequest.hash)}));if(!o)throw W("signature not found");return t=(0,ti.isHex)(o)?{type:"secp256k1",data:{address:i.address,signature:o}}:{type:"webauthn",data:{signature:JSON.stringify(function({webauthn:e,signature:t,id:n}){var r,i;let a,s,o,c,l,u,d=i2.fromHex(t);return{id:n,rawId:sY((0,sG.stringToBytes)(n)),response:{authenticatorData:sY((0,sG.hexToBytes)(e.authenticatorData)),clientDataJSON:sY((0,sG.stringToBytes)(e.clientDataJSON)),signature:sY((r=d.r,i=d.s,a=(0,sG.hexToBytes)((0,sJ.trim)((0,e2.numberToHex)(r))),s=(0,sG.hexToBytes)((0,sJ.trim)((0,e2.numberToHex)(i))),o=a.length,c=s.length,l=o+c+4,(u=new Uint8Array(l+2))[0]=48,u[1]=l,u[2]=2,u[3]=o,u.set(a,4),u[o+4]=2,u[o+5]=c,u.set(s,o+6),u))},type:JSON.parse(e.clientDataJSON).type}}(Object.assign({id:null!=(h=i.id)?h:"1"},o))),publicKey:i.publicKey}},(await f({method:"wallet_sendPreparedCalls",params:[{version:"1.0",type:a.type,data:a.userOp,chainId:a.chainId,signature:t}]}))[0]}case"wallet_sendPreparedCalls":{tn(e.params);let n=sj(e.params[0],"chainId");if(!n)throw q("chainId is required");if(!(0,ti.isHex)(n))throw q("chainId must be a hex encoded integer");return await t.request({method:"wallet_sendPreparedCalls",params:e.params})}case"wallet_prepareCalls":{tn(e.params);let n=sj(e.params[0],"chainId");if(!n)throw q("chainId is required");if(!(0,ti.isHex)(n))throw q("chainId must be a hex encoded integer");if(!e.params[0])throw q("params are required");if(!sj(e.params[0],"calls"))throw q("calls are required");let r=e.params[0];return!o||!r.capabilities||"attribution"in r.capabilities||(r.capabilities.attribution=o),await t.request({method:"wallet_prepareCalls",params:[Object.assign(Object.assign({},e.params[0]),{chainId:n})]})}case"personal_sign":{if(tn(e.params),!(0,ti.isHex)(e.params[0]))throw q("message must be a hex encoded string");let t=(0,e0.hexToString)(e.params[0]);return d.signMessage({message:t})}case"eth_signTypedData_v4":{tn(e.params);let t="string"==typeof e.params[1]?JSON.parse(e.params[1]):e.params[1];return d.signTypedData(t)}default:throw F()}}catch(e){if(et(e)){let t=function(e){try{let t=JSON.parse(e.details);return new Q(t.code,t.message,t.data)}catch(e){return null}}(e);if(t)throw t}throw e}};return{request:f}}var oa=e.i(823838),os=e.i(22411),oo=e.i(528804),oc=e.i(388750);async function ol({address:e,client:t,publicKey:n,factory:r,factoryData:i}){if(!await (0,oo.getCode)(t,{address:e})&&r&&i){if((0,oa.getAddress)(r)!==(0,oa.getAddress)(sN))throw W("unknown factory address");let e=(0,sX.decodeFunctionData)({abi:sU,data:i});if("createAccount"!==e.functionName)throw W("unknown factory function");let[t]=e.args;return t.findIndex(e=>e.toLowerCase()===ou(n).toLowerCase())}let a=await (0,oc.readContract)(t,{address:e,abi:sD,functionName:"ownerCount"});for(let r=Number(a)-1;r>=0;r--){let i=await (0,oc.readContract)(t,{address:e,abi:sD,functionName:"ownerAtIndex",args:[BigInt(r)]}),a=ou(n);if(i.toLowerCase()===a.toLowerCase())return r}return -1}function ou(e){return(0,tr.isAddress)(e)?(0,os.pad)(e):e}var od=e.i(249311);async function of(){let e=e$();return new Promise(t=>{eB({snackbarContext:"sub_account_add_owner"}),e.presentItem({autoExpand:!0,message:"App requires a signer update",menuItems:[{isRed:!1,info:"Confirm",svgWidth:"10",svgHeight:"11",path:"",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:()=>{ej({snackbarContext:"sub_account_add_owner",snackbarAction:"confirm"}),e.clear(),t("authenticate")}},{isRed:!0,info:"Cancel",svgWidth:"10",svgHeight:"11",path:"",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:()=>{ej({snackbarContext:"sub_account_add_owner",snackbarAction:"cancel"}),e.clear(),t("cancel")}}]})})}async function oh({ownerAccount:e,globalAccountRequest:t}){var n,r;let i=A.account.get(),a=A.subAccounts.get(),s=null==(n=i.accounts)?void 0:n.find(e=>e.toLowerCase()!==(null==a?void 0:a.address.toLowerCase()));tt(s,V("no global account")),tt(null==(r=i.chain)?void 0:r.id,V("no chain id")),tt(null==a?void 0:a.address,V("no sub account"));let o=[];if("local"===e.type&&e.address&&o.push({to:a.address,data:(0,s1.encodeFunctionData)({abi:sD,functionName:"addOwnerAddress",args:[e.address]}),value:(0,e2.toHex)(0)}),e.publicKey){let[t,n]=(0,od.decodeAbiParameters)([{type:"bytes32"},{type:"bytes32"}],e.publicKey);o.push({to:a.address,data:(0,s1.encodeFunctionData)({abi:sD,functionName:"addOwnerPublicKey",args:[t,n]}),value:(0,e2.toHex)(0)})}let c={method:"wallet_sendCalls",params:[{version:"1",calls:o,chainId:(0,e2.numberToHex)(84532),from:s}]};if("cancel"===await of())throw V("user cancelled");let l=await t(c),u=te(i.chain.id);if(tt(u,W(`client not found for chainId ${i.chain.id}`)),"success"!==(await (0,sM.waitForCallsStatus)(u,{id:l})).status)throw W("add owner call failed");let d=await ol({address:a.address,publicKey:"local"===e.type&&e.address?e.address:e.publicKey,client:u});if(-1===d)throw W("failed to find owner index");return d}var op=e.i(752012);async function om({errorData:e,globalAccountAddress:t,subAccountAddress:n,client:r,request:i,subAccountRequest:a,globalAccountRequest:s}){var o,c,l;let u,d,f=null==(o=r.chain)?void 0:o.id;tt(f,W("invalid chainId"));let h=function({errorData:e,sourceAddress:t}){var n;let r=[];for(let[i,{amount:a,sources:s}]of Object.entries(null!=(n=null==e?void 0:e.required)?n:{})){if(0===s.filter(e=>(0,e0.hexToBigInt)(e.balance)>=(0,e0.hexToBigInt)(a)&&e.address.toLowerCase()===(null==t?void 0:t.toLowerCase())).length)throw Error("Source address has insufficient balance for a token");r.push({token:i,requiredAmount:(0,e0.hexToBigInt)(a)})}return r}({errorData:e,sourceAddress:t}),p=await sV();if("cancel"===p)throw Error("User cancelled funding");if("update_permission"===p){if(1===h.length){let e=h[0],r=function({spendPermission:e,chainId:t}){return{domain:{name:"Spend Permission Manager",version:"1",chainId:t,verifyingContract:sL},types:{SpendPermission:[{name:"account",type:"address"},{name:"spender",type:"address"},{name:"token",type:"address"},{name:"allowance",type:"uint160"},{name:"period",type:"uint48"},{name:"start",type:"uint48"},{name:"end",type:"uint48"},{name:"salt",type:"uint256"},{name:"extraData",type:"bytes"}]},primaryType:"SpendPermission",message:{account:e.account,spender:e.spender,token:e.token,allowance:e.allowance,period:e.period,start:e.start,end:e.end,salt:e.salt,extraData:e.extraData}}}({spendPermission:{token:e.token,allowance:(0,e2.numberToHex)(e.requiredAmount*BigInt(3)),period:86400,account:t,spender:n,start:0,end:0xffffffffffff,salt:(0,e2.numberToHex)(BigInt(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),extraData:"0x"},chainId:f});u={method:"eth_signTypedData_v4",params:[t,r]}}else{let e=function({spendPermissionBatch:e,chainId:t}){return{domain:{name:"Spend Permission Manager",version:"1",chainId:t,verifyingContract:sL},types:{SpendPermissionBatch:[{name:"account",type:"address"},{name:"period",type:"uint48"},{name:"start",type:"uint48"},{name:"end",type:"uint48"},{name:"permissions",type:"PermissionDetails[]"}],PermissionDetails:[{name:"spender",type:"address"},{name:"token",type:"address"},{name:"allowance",type:"uint160"},{name:"salt",type:"uint256"},{name:"extraData",type:"bytes"}]},primaryType:"SpendPermissionBatch",message:{account:e.account,period:e.period,start:e.start,end:e.end,permissions:e.permissions.map(e=>({spender:e.spender,token:e.token,allowance:e.allowance,salt:e.salt,extraData:e.extraData}))}}}({spendPermissionBatch:{account:t,period:86400,start:0,end:0xffffffffffff,permissions:h.map(e=>({token:e.token,allowance:(0,e2.numberToHex)(e.requiredAmount*BigInt(3)),period:86400,account:t,spender:n,salt:"0x0",extraData:"0x"}))},chainId:f});u={method:"eth_signTypedData_v4",params:[t,e]}}try{await s(u)}catch(e){throw console.error(e),Error("User denied spend permission request")}return a(i)}let m=h.map(e=>"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"===e.token.toLowerCase()?{to:n,value:(0,e2.numberToHex)(e.requiredAmount),data:"0x"}:{to:e.token,value:"0x0",data:(0,s1.encodeFunctionData)({abi:op.erc20Abi,functionName:"transfer",args:[n,e.requiredAmount]})});if("wallet_sendCalls"===i.method&&"object"==typeof(c=i.params)&&null!==c&&"calls"in c)d=i.params[0];else if("eth_sendTransaction"===i.method&&Array.isArray(l=i.params)&&1===l.length&&"object"==typeof l[0]&&null!==l[0]&&"to"in l[0])d=sz({calls:[i.params[0]],chainId:f,from:i.params[0].from}).params[0];else throw Error("Could not get original call");let b=[...m,{data:(0,s1.encodeFunctionData)({abi:sD,functionName:"executeBatch",args:[d.calls.map(e=>{var t,n;return{target:e.to,value:(0,e0.hexToBigInt)(null!=(t=e.value)?t:"0x0"),data:null!=(n=e.data)?n:"0x"}})]}),to:n,value:"0x0"}],g=await s({method:"wallet_sendCalls",params:[Object.assign(Object.assign({},d),{calls:b,from:t})]});return"eth_sendTransaction"===i.method?sF({client:r,id:g}):g}class ob{constructor(e){var t,n,r,i;this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new sO;const{account:a,chains:s}=A.getState();this.accounts=null!=(t=a.accounts)?t:[],this.chain=null!=(n=a.chain)?n:{id:null!=(i=null==(r=e.metadata.appChainIds)?void 0:r[0])?i:1},s&&e9(s)}async handshake(e){var t,n,r;let i=eX(e);(({method:e,correlationId:t})=>{var n;eP("scw_signer.handshake.started",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t,enableAutoSubAccounts:null==(n=A.subAccountsConfig.get())?void 0:n.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:i});try{await (null==(n=(t=this.communicator).waitForPopupLoaded)?void 0:n.call(t));let a=await this.createRequestMessage({handshake:{method:e.method,params:null!=(r=e.params)?r:[]}},i),s=await this.communicator.postRequestAndWaitForResponse(a);if("failure"in s.content)throw s.content.failure;let o=await tf("public",s.sender);await this.keyManager.setPeerPublicKey(o);let c=await this.decryptResponseMessage(s);this.handleResponse(e,c),(({method:e,correlationId:t})=>{var n;eP("scw_signer.handshake.completed",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t,enableAutoSubAccounts:null==(n=A.subAccountsConfig.get())?void 0:n.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:i})}catch(t){throw(({method:e,correlationId:t,errorMessage:n})=>{var r;eP("scw_signer.handshake.error",{action:m.error,componentType:p.unknown,method:e,correlationId:t,errorMessage:n,enableAutoSubAccounts:null==(r=A.subAccountsConfig.get())?void 0:r.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:i,errorMessage:e3(t)}),t}}async request(e){let t=eX(e);(({method:e,correlationId:t})=>{var n;eP("scw_signer.request.started",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t,enableAutoSubAccounts:null==(n=A.subAccountsConfig.get())?void 0:n.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:t});try{let n=await this._request(e);return(({method:e,correlationId:t})=>{var n;eP("scw_signer.request.completed",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t,enableAutoSubAccounts:null==(n=A.subAccountsConfig.get())?void 0:n.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:t}),n}catch(n){throw(({method:e,correlationId:t,errorMessage:n})=>{var r;eP("scw_signer.request.error",{action:m.error,componentType:p.unknown,method:e,correlationId:t,errorMessage:n,enableAutoSubAccounts:null==(r=A.subAccountsConfig.get())?void 0:r.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:t,errorMessage:e3(n)}),n}}async _request(e){var t,n,r,i,a,s,o,c,l,u,d,f,h,g;if(0===this.accounts.length)switch(e.method){case"eth_requestAccounts":return await (null==(n=(t=this.communicator).waitForPopupLoaded)?void 0:n.call(t)),await sW(),await this.request({method:"wallet_connect",params:[{version:"1",capabilities:Object.assign({},null!=(i=null==(r=A.subAccountsConfig.get())?void 0:r.capabilities)?i:{})}]}),this.accounts;case"wallet_switchEthereumChain":sH(e.params),this.chain.id=Number(e.params[0].chainId);return;case"wallet_connect":{await (null==(s=(a=this.communicator).waitForPopupLoaded)?void 0:s.call(a)),await sW();let t={};(function(e,t){var n;if(!Array.isArray(null==e?void 0:e.params))return!1;let r=null==(n=e.params[0])?void 0:n.capabilities;return!!r&&"object"==typeof r&&t in r})(e,"addSubAccount")&&(t=null!=(c=null==(o=A.subAccountsConfig.get())?void 0:o.capabilities)?c:{});let n=sq(e,t);return this.sendRequestToPopup(n)}case"wallet_sendCalls":case"wallet_sign":return this.sendRequestToPopup(e);default:throw V()}if(this.shouldRequestUseSubAccountSigner(e)){let t=eX(e);(({method:e,correlationId:t})=>{var n;eP("scw_sub_account.request.started",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t,enableAutoSubAccounts:null==(n=A.subAccountsConfig.get())?void 0:n.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:t});try{let n=await this.sendRequestToSubAccountSigner(e);return(({method:e,correlationId:t})=>{var n;eP("scw_sub_account.request.completed",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t,enableAutoSubAccounts:null==(n=A.subAccountsConfig.get())?void 0:n.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:t}),n}catch(n){throw(({method:e,correlationId:t,errorMessage:n})=>{var r;eP("scw_sub_account.request.error",{action:m.error,componentType:p.unknown,method:e,correlationId:t,errorMessage:n,enableAutoSubAccounts:null==(r=A.subAccountsConfig.get())?void 0:r.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:t,errorMessage:e3(n)}),n}}switch(e.method){case"eth_requestAccounts":case"eth_accounts":{let e=A.subAccounts.get(),t=A.subAccountsConfig.get();return(null==e?void 0:e.address)&&(this.accounts=(null==t?void 0:t.enableAutoSubAccounts)?s$(this.accounts,e.address):sK(this.accounts,e.address)),null==(l=this.callback)||l.call(this,"connect",{chainId:(0,e2.numberToHex)(this.chain.id)}),this.accounts}case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return(0,e2.numberToHex)(this.chain.id);case"wallet_getCapabilities":return this.handleGetCapabilitiesRequest(e);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);case"wallet_connect":{let t=await sZ();if(t)return t;await (null==(d=(u=this.communicator).waitForPopupLoaded)?void 0:d.call(u)),await sW();let n=A.subAccountsConfig.get(),r=sq(e,null!=(f=null==n?void 0:n.capabilities)?f:{});return null==(h=this.callback)||h.call(this,"connect",{chainId:(0,e2.numberToHex)(this.chain.id)}),this.sendRequestToPopup(r)}case"wallet_getSubAccounts":{let t=A.subAccounts.get();if(null==t?void 0:t.address)return{subAccounts:[t]};if(!this.chain.rpcUrl)throw W("No RPC URL set for chain");let n=await eS(e,this.chain.rpcUrl);if(tn(n.subAccounts,"subAccounts"),n.subAccounts.length>0){ta(n.subAccounts[0]);let e=n.subAccounts[0];A.subAccounts.set({address:e.address,factory:e.factory,factoryData:e.factoryData})}return n}case"wallet_addSubAccount":return this.addSubAccount(e);case"coinbase_fetchPermissions":{!function(e){if("coinbase_fetchPermissions"!==e.method||void 0!==e.params){if("coinbase_fetchPermissions"===e.method&&Array.isArray(e.params)&&1===e.params.length&&"object"==typeof e.params[0]){if("string"!=typeof e.params[0].account||!e.params[0].chainId.startsWith("0x"))throw q("FetchPermissions - Invalid params: params[0].account must be a hex string");if("string"!=typeof e.params[0].chainId||!e.params[0].chainId.startsWith("0x"))throw q("FetchPermissions - Invalid params: params[0].chainId must be a hex string");if("string"!=typeof e.params[0].spender||!e.params[0].spender.startsWith("0x"))throw q("FetchPermissions - Invalid params: params[0].spender must be a hex string");return}throw q()}}(e);let t=function(e){var t,n,r;if(void 0!==e.params)return e;let i=null==(t=A.getState().account.accounts)?void 0:t[0],a=null==(n=A.getState().account.chain)?void 0:n.id,s=null==(r=A.getState().subAccount)?void 0:r.address;if(!i||!s||!a)throw q("FetchPermissions - one or more of account, sub account, or chain id is missing, connect to sub account via wallet_connect first");return{method:"coinbase_fetchPermissions",params:[{account:i,chainId:(0,e2.numberToHex)(a),spender:s}]}}(e),n=await eS(t,e_),r=(0,e0.hexToNumber)(null==(g=t.params)?void 0:g[0].chainId);return A.spendPermissions.set(n.permissions.map(e=>Object.assign(Object.assign({},e),{chainId:r}))),n}default:if(!this.chain.rpcUrl)throw W("No RPC URL set for chain");return eS(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var t,n;await (null==(n=(t=this.communicator).waitForPopupLoaded)?void 0:n.call(t));let r=await this.sendEncryptedRequest(e),i=await this.decryptResponseMessage(r);return this.handleResponse(e,i)}async handleResponse(e,t){var n,r,i,a,s;let o=t.result;if("error"in o)throw o.error;switch(e.method){case"eth_requestAccounts":{let e=o.value;this.accounts=e,A.account.set({accounts:e,chain:this.chain}),null==(n=this.callback)||n.call(this,"accountsChanged",e);break}case"wallet_connect":{let e=o.value,t=e.accounts.map(e=>e.address);this.accounts=t,A.account.set({accounts:t});let n=e.accounts.at(0),s=null==n?void 0:n.capabilities;if(null==s?void 0:s.subAccounts){let e=null==s?void 0:s.subAccounts;tn(e,"subAccounts"),ta(e[0]),A.subAccounts.set({address:e[0].address,factory:e[0].factory,factoryData:e[0].factoryData})}let c=[this.accounts[0]],l=A.subAccounts.get(),u=A.subAccountsConfig.get();(null==l?void 0:l.address)&&(this.accounts=(null==u?void 0:u.enableAutoSubAccounts)?s$(this.accounts,l.address):sK(this.accounts,l.address));let d=null==(i=null==(r=null==e?void 0:e.accounts)?void 0:r[0].capabilities)?void 0:i.spendPermissions;d&&"permissions"in d&&A.spendPermissions.set(null==d?void 0:d.permissions),null==(a=this.callback)||a.call(this,"accountsChanged",c);break}case"wallet_addSubAccount":{ta(o.value);let e=o.value;A.subAccounts.set(e);let t=A.subAccountsConfig.get();this.accounts=(null==t?void 0:t.enableAutoSubAccounts)?s$(this.accounts,e.address):sK(this.accounts,e.address),null==(s=this.callback)||s.call(this,"accountsChanged",this.accounts)}}return o.value}async cleanup(){var e,t;let n=A.config.get().metadata;await this.keyManager.clear(),A.account.clear(),A.subAccounts.clear(),A.spendPermissions.clear(),A.chains.clear(),this.accounts=[],this.chain={id:null!=(t=null==(e=null==n?void 0:n.appChainIds)?void 0:e[0])?t:1}}async handleSwitchChainRequest(e){sH(e.params);let t=ev(e.params[0].chainId);if(this.updateChain(t))return null;let n=await this.sendRequestToPopup(e);return null===n&&this.updateChain(t),n}async handleGetCapabilitiesRequest(e){var t=e.params;if(!t||!Array.isArray(t)||1!==t.length&&2!==t.length||"string"!=typeof t[0]||!(0,tr.isAddress)(t[0]))throw q();if(2===t.length){if(!Array.isArray(t[1]))throw q();for(let e of t[1])if("string"!=typeof e||!e.startsWith("0x"))throw q()}let n=e.params[0],r=e.params[1];if(!this.accounts.some(e=>(0,e1.isAddressEqual)(e,n)))throw V("no active account found when getting capabilities");let i=A.getState().account.capabilities;if(!i)return{};if(!r||0===r.length)return i;let a=new Set(r.map(e=>(0,e0.hexToNumber)(e)));return Object.fromEntries(Object.entries(i).filter(([e])=>{try{let t=(0,e0.hexToNumber)(e);return a.has(t)}catch(e){return!1}}))}async sendEncryptedRequest(e){let t=await this.keyManager.getSharedSecret();if(!t)throw V("No shared secret found when encrypting request");let n=await th({action:e,chainId:this.chain.id},t),r=eX(e),i=await this.createRequestMessage({encrypted:n},r);return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e,t){let n=await td("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),correlationId:t,sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var t,n,r;let i=e.content;if("failure"in i)throw i.failure;let a=await this.keyManager.getSharedSecret();if(!a)throw V("Invalid session: no shared secret found when decrypting response");let s=await tp(i.encrypted,a),o=null==(t=s.data)?void 0:t.chains;if(o){let e=null==(n=s.data)?void 0:n.nativeCurrencies,t=Object.entries(o).map(([t,n])=>{let r=null==e?void 0:e[Number(t)];return Object.assign({id:Number(t),rpcUrl:n},r?{nativeCurrency:r}:{})});A.chains.set(t),this.updateChain(this.chain.id,t),e9(t)}let c=null==(r=s.data)?void 0:r.capabilities;return c&&A.account.set({capabilities:c}),s}updateChain(e,t){var n;let r=A.getState(),i=null!=t?t:r.chains,a=null==i?void 0:i.find(t=>t.id===e);return!!a&&(a!==this.chain&&(this.chain=a,A.account.set({chain:a}),null==(n=this.callback)||n.call(this,"chainChanged",ed(a.id))),!0)}async addSubAccount(e){var t,n,r,i;let a=A.getState().subAccount,s=A.subAccountsConfig.get();if(null==a?void 0:a.address)return this.accounts=(null==s?void 0:s.enableAutoSubAccounts)?s$(this.accounts,a.address):sK(this.accounts,a.address),null==(t=this.callback)||t.call(this,"accountsChanged",this.accounts),a;if(await (null==(r=(n=this.communicator).waitForPopupLoaded)?void 0:r.call(n)),Array.isArray(e.params)&&e.params.length>0&&e.params[0].account&&"create"===e.params[0].account.type){let t;if(e.params[0].account.keys&&e.params[0].account.keys.length>0)t=e.params[0].account.keys;else{let e=null!=(i=A.subAccountsConfig.get())?i:{},{account:n}=e.toOwnerAccount?await e.toOwnerAccount():await sS();if(!n)throw V("could not get subaccount owner account when adding sub account");t=[{type:n.address?"address":"webauthn-p256",publicKey:n.address||n.publicKey}]}e.params[0].account.keys=t}let o=await this.sendRequestToPopup(e);return ta(o),o}shouldRequestUseSubAccountSigner(e){let t=sR(e),n=A.subAccounts.get();return!!t&&t.toLowerCase()===(null==n?void 0:n.address.toLowerCase())}async sendRequestToSubAccountSigner(e){var t;let n=A.subAccounts.get(),r=A.subAccountsConfig.get(),i=A.config.get();tt(null==n?void 0:n.address,V("no active sub account when sending request to sub account signer"));let a=(null==r?void 0:r.toOwnerAccount)?await r.toOwnerAccount():await sS();tt(null==a?void 0:a.account,V("no active sub account owner when sending request to sub account signer")),void 0===sR(e)&&(e=function(e,t){if(!Array.isArray(e.params))throw q();let n=[...e.params];switch(e.method){case"eth_signTransaction":case"eth_sendTransaction":case"wallet_sendCalls":n[0].from=t;break;case"eth_signTypedData_v4":n[0]=t;break;case"personal_sign":n[1]=t}return Object.assign(Object.assign({},e),{params:n})}(e,n.address));let s=te(this.chain.id);tt(s,W(`client not found for chainId ${this.chain.id} when sending request to sub account signer`));let o=this.accounts.find(e=>e.toLowerCase()!==n.address.toLowerCase());tt(o,V("no global account found when sending request to sub account signer"));let c=function({attribution:e,dappOrigin:t}){if(e){if("auto"in e&&e.auto&&t)return(0,sB.slice)((0,sP.keccak256)((0,e2.toHex)(t)),0,16);if("dataSuffix"in e)return e.dataSuffix}}({attribution:null==(t=i.preference)?void 0:t.attribution,dappOrigin:window.location.origin}),l="local"===a.account.type?a.account.address:a.account.publicKey,u=await ol({address:n.address,factory:n.factory,factoryData:n.factoryData,publicKey:l,client:s});if(-1===u){let t=eX(e);(({method:e,correlationId:t})=>{var n;eP("scw_sub_account.add_owner.started",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t,enableAutoSubAccounts:null==(n=A.subAccountsConfig.get())?void 0:n.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:t});try{u=await oh({ownerAccount:a.account,globalAccountRequest:this.sendRequestToPopup.bind(this)}),(({method:e,correlationId:t})=>{var n;eP("scw_sub_account.add_owner.completed",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t,enableAutoSubAccounts:null==(n=A.subAccountsConfig.get())?void 0:n.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:t})}catch(n){return(({method:e,correlationId:t,errorMessage:n})=>{var r;eP("scw_sub_account.add_owner.error",{action:m.error,componentType:p.unknown,method:e,correlationId:t,errorMessage:n,enableAutoSubAccounts:null==(r=A.subAccountsConfig.get())?void 0:r.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:t,errorMessage:e3(n)}),V("failed to add sub account owner when sending request to sub account signer")}}let{request:d}=await oi({address:n.address,owner:a.account,client:s,factory:n.factory,factoryData:n.factoryData,parentAddress:o,attribution:c?{suffix:c}:void 0,ownerIndex:u});try{return await d(e)}catch(i){let t;if(et(i))t=JSON.parse(i.details);else if(ee(i))t=i;else throw i;if(!(ee(t)&&t.data)||!t.data)throw i;let r=eX(e);(({method:e,correlationId:t})=>{var n;eP("scw_sub_account.insufficient_balance.error_handling.started",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t,enableAutoSubAccounts:null==(n=A.subAccountsConfig.get())?void 0:n.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:r});try{let i=await om({errorData:t.data,globalAccountAddress:o,subAccountAddress:n.address,client:s,request:e,subAccountRequest:d,globalAccountRequest:this.request.bind(this)});return(({method:e,correlationId:t})=>{var n;eP("scw_sub_account.insufficient_balance.error_handling.completed",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t,enableAutoSubAccounts:null==(n=A.subAccountsConfig.get())?void 0:n.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:r}),i}catch(t){throw console.error(t),(({method:e,correlationId:t,errorMessage:n})=>{var r;eP("scw_sub_account.insufficient_balance.error_handling.error",{action:m.error,componentType:p.unknown,method:e,correlationId:t,errorMessage:n,enableAutoSubAccounts:null==(r=A.subAccountsConfig.get())?void 0:r.enableAutoSubAccounts},b.high)})({method:e.method,correlationId:r,errorMessage:e3(t)}),i}}}}let og=()=>{eP("walletlink_signer.walletlink_connection.connection_failed",{action:m.measurement,componentType:p.unknown},b.high)};var oy=e.i(980423);let ow="Addresses";class ov{constructor(e){this.secret=e}async encrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");let n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.importKey("raw",eo(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},r,i.encode(e)),s=a.slice(a.byteLength-16),o=a.slice(0,a.byteLength-16),c=new Uint8Array(s),l=new Uint8Array(o);return es(new Uint8Array([...n,...c,...l]))}async decrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");return new Promise((n,r)=>{(async()=>{let i=await crypto.subtle.importKey("raw",eo(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=eo(e),s=a.slice(0,12),o=a.slice(12,28),c=new Uint8Array([...a.slice(28),...o]),l={name:"AES-GCM",iv:new Uint8Array(s)};try{let e=await window.crypto.subtle.decrypt(l,i,c),t=new TextDecoder;n(t.decode(e))}catch(e){r(e)}})()})}}class ox{constructor(e,t,n){this.linkAPIUrl=e,this.sessionId=t;const r=`${t}:${n}`;this.auth=`Basic ${btoa(r)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(e=>fetch(`${this.linkAPIUrl}/events/${e.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(e=>console.error("Unable to mark events as seen:",e))}async fetchUnseenEvents(){var e;let t=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(t.ok){let{events:n,error:r}=await t.json();if(r)throw Error(`Check unseen events failed: ${r}`);let i=null!=(e=null==n?void 0:n.filter(e=>"Web3Response"===e.event).map(e=>({type:"Event",sessionId:this.sessionId,eventId:e.id,event:e.event,data:e.data})))?e:[];return this.markUnseenEventsAsSeen(i),i}throw Error(`Check unseen events failed: ${t.status}`)}}(f=g||(g={}))[f.DISCONNECTED=0]="DISCONNECTED",f[f.CONNECTING=1]="CONNECTING",f[f.CONNECTED=2]="CONNECTED";class ok{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.isDisconnecting=!1,this.url=e.replace(/^http/,"ws"),this.instanceId=ok.instanceCounter++,ok.activeInstances.add(this.instanceId)}async connect(){if(this.webSocket)throw Error("webSocket object is not null");if(this.isDisconnecting)throw Error("WebSocket is disconnecting, cannot reconnect on same instance");return new Promise((e,t)=>{var n;let r;try{this.webSocket=r=new this.WebSocketClass(this.url)}catch(e){t(e);return}null==(n=this.connectionStateListener)||n.call(this,g.CONNECTING),r.onclose=e=>{var n;this.clearWebSocket(),r.readyState!==WebSocket.OPEN&&t(Error(`websocket error ${e.code}: ${e.reason}`)),null==(n=this.connectionStateListener)||n.call(this,g.DISCONNECTED)},r.onopen=t=>{var n;e(),null==(n=this.connectionStateListener)||n.call(this,g.CONNECTED),ok.pendingData.length>0&&([...ok.pendingData].forEach(e=>this.sendData(e)),ok.pendingData=[])},r.onmessage=e=>{var t,n;if("h"===e.data)null==(t=this.incomingDataListener)||t.call(this,{type:"Heartbeat"});else try{let t=JSON.parse(e.data);null==(n=this.incomingDataListener)||n.call(this,t)}catch(e){}}})}disconnect(){var e;let{webSocket:t}=this;if(t){this.isDisconnecting=!0,this.clearWebSocket(),null==(e=this.connectionStateListener)||e.call(this,g.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{t.close()}catch(e){}}}sendData(e){let{webSocket:t}=this;if(!t){ok.pendingData.push(e),this.isDisconnecting||this.connect();return}t.readyState!==WebSocket.OPEN?ok.pendingData.push(e):t.send(e)}clearWebSocket(){let{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}cleanup(){ok.activeInstances.delete(this.instanceId)}}ok.instanceCounter=0,ok.activeInstances=new Set,ok.pendingData=[];class oE{constructor({session:e,linkAPIUrl:t,listener:n}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=en(1),this.reconnectAttempts=0,this.isReconnecting=!1,this._connected=!1,this._linked=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=e=>{e&&new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",t=>e.JsonRpcUrl&&this.handleChainUpdated(t,e.JsonRpcUrl)]]).forEach((t,n)=>{let r=e[n];void 0!==r&&t(r)})},this.handleDestroyed=e=>{var t;"1"===e&&(null==(t=this.listener)||t.resetAndReload())},this.handleAccountUpdated=async e=>{var t;try{let n=await this.cipher.decrypt(e);null==(t=this.listener)||t.accountUpdated(n)}catch(e){}},this.handleMetadataUpdated=async(e,t)=>{var n;try{let r=await this.cipher.decrypt(t);null==(n=this.listener)||n.metadataUpdated(e,r)}catch(e){}},this.handleWalletUsernameUpdated=async e=>{this.handleMetadataUpdated("walletUsername",e)},this.handleAppVersionUpdated=async e=>{this.handleMetadataUpdated("AppVersion",e)},this.handleChainUpdated=async(e,t)=>{var n;try{let r=await this.cipher.decrypt(e),i=await this.cipher.decrypt(t);null==(n=this.listener)||n.chainUpdated(r,i)}catch(e){}},this.session=e,this.cipher=new ov(e.secret),this.listener=n,this.linkAPIUrl=t,this.WebSocketClass=WebSocket;const r=this.createWebSocket();this.ws=r,this.http=new ox(t,e.id,e.key),this.setupVisibilityChangeHandler()}createWebSocket(){let e=new ok(`${this.linkAPIUrl}/rpc`,this.WebSocketClass);return this.activeWsInstance=e,e.setConnectionStateListener(async t=>{if(e!==this.activeWsInstance)return;let n=!1;switch(t){case g.DISCONNECTED:this.heartbeatIntervalId&&(clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=void 0),this.lastHeartbeatResponse=0,n=!1,this.destroyed||(async()=>{if(this.isReconnecting)return;this.isReconnecting=!0;let t=3e3*(0!==this.reconnectAttempts);await new Promise(e=>setTimeout(e,t)),this.destroyed||e!==this.activeWsInstance?this.isReconnecting=!1:(this.reconnectAttempts++,"cleanup"in this.ws&&"function"==typeof this.ws.cleanup&&this.ws.cleanup(),this.ws=this.createWebSocket(),this.ws.connect().catch(()=>{og()}).finally(()=>{this.isReconnecting=!1}))})();break;case g.CONNECTED:this.reconnectAttempts=0;try{n=await this.handleConnected(),this.fetchUnseenEventsAPI().catch(()=>{})}catch(e){break}this.connected=n,this.updateLastHeartbeat(),this.heartbeatIntervalId&&clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=window.setInterval(()=>{this.heartbeat()},1e4),setTimeout(()=>{this.heartbeat()},100);case g.CONNECTING:}t!==g.CONNECTED&&(this.connected=n)}),e.setIncomingDataListener(e=>{var t;switch(e.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{let t="IsLinkedOK"===e.type?e.linked:void 0;this.linked=t||e.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":this.handleSessionMetadataUpdated(e.metadata);break;case"Event":this.handleIncomingEvent(e)}void 0!==e.id&&(null==(t=this.requestResolutions.get(e.id))||t(e))}),e}setupVisibilityChangeHandler(){this.visibilityChangeHandler=()=>{document.hidden||this.destroyed||(this.connected?this.heartbeat():this.reconnectWithFreshWebSocket())},this.focusHandler=()=>{this.destroyed||this.connected||this.reconnectWithFreshWebSocket()},document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("focus",this.focusHandler),window.addEventListener("pageshow",e=>{e.persisted&&this.focusHandler&&this.focusHandler()})}reconnectWithFreshWebSocket(){if(this.destroyed)return;let e=this.ws;this.activeWsInstance=void 0,e.disconnect(),"cleanup"in e&&"function"==typeof e.cleanup&&e.cleanup(),this.ws=this.createWebSocket(),this.ws.connect().catch(()=>{og()})}connect(){if(this.destroyed)throw Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:en(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.activeWsInstance=void 0,this.heartbeatIntervalId&&(clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=void 0),this.visibilityChangeHandler&&document.removeEventListener("visibilitychange",this.visibilityChangeHandler),this.focusHandler&&window.removeEventListener("focus",this.focusHandler),this.ws.disconnect(),"cleanup"in this.ws&&"function"==typeof this.ws.cleanup&&this.ws.cleanup(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var t,n;this._linked=e,e&&(null==(t=this.onceLinked)||t.call(this)),null==(n=this.listener)||n.linkedUpdated(e)}setOnceLinked(e){return new Promise(t=>{this.linked?e().then(t):this.onceLinked=()=>{e().then(t),this.onceLinked=void 0}})}async handleIncomingEvent(e){var t;if("Event"===e.type&&"Web3Response"===e.event)try{let n=await this.cipher.decrypt(e.data),r=JSON.parse(n);if("WEB3_RESPONSE"!==r.type)return;null==(t=this.listener)||t.handleWeb3ResponseMessage(r.id,r.response)}catch(e){}}async checkUnseenEvents(){await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){try{(await this.http.fetchUnseenEvents()).forEach(e=>{this.handleIncomingEvent(e)})}catch(e){eP("walletlink_signer.walletlink_connection.fetch_unseen_events_failed",{action:m.measurement,componentType:p.unknown},b.high)}}async publishEvent(e,t,n=!1){let r=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),i={type:"PublishEvent",id:en(this.nextReqId++),sessionId:this.session.id,event:e,data:r,callWebhook:n};return this.setOnceLinked(async()=>{let e=await this.makeRequest(i);if("Fail"===e.type)throw Error(e.error||"failed to publish event");return e.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4)return void this.ws.disconnect();if(this.connected)try{this.ws.sendData("h")}catch(e){}}async makeRequest(e,t={timeout:6e4}){let n,r=e.id;return this.sendData(e),Promise.race([new Promise((e,i)=>{n=window.setTimeout(()=>{i(Error(`request ${r} timed out`))},t.timeout)}),new Promise(e=>{this.requestResolutions.set(r,t=>{clearTimeout(n),e(t),this.requestResolutions.delete(r)})})])}async handleConnected(){return"Fail"!==(await this.makeRequest({type:"HostSession",id:en(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type&&(this.sendData({type:"IsLinked",id:en(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:en(this.nextReqId++),sessionId:this.session.id}),!0)}}class oA{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%0x7fffffff;let e=this._nextRequestId,t=ep(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}function oS(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function oI(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let oT=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),oC=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];let o_=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function oO(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),oS(e),e}class oP{clone(){return this._cloneInto()}}let oB=(e,t,n)=>e&t^~e&n,oj=(e,t,n)=>e&t^e&n^t&n;class oM extends oP{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=oT(this.buffer)}update(e){oI(this);let{view:t,buffer:n,blockLen:r}=this,i=(e=oO(e)).length;for(let a=0;a<i;){let s=Math.min(r-this.pos,i-a);if(s===r){let t=oT(e);for(;r<=i-a;a+=r)this.process(t,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){oI(this);oS(e);let t=this.outputLen;if(e.length<t)throw Error(`digestInto() expects output buffer of length at least ${t}`);this.finished=!0;let{buffer:n,view:r,blockLen:i,isLE:a}=this,{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let e=s;e<i;e++)n[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(n>>i&a),o=Number(n&a),c=4*!!r,l=4*!r;e.setUint32(t+c,s,r),e.setUint32(t+l,o,r)}(r,i-8,BigInt(8*this.length),a),this.process(r,0);let o=oT(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)o.setUint32(4*e,u[e],a)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=a,r%t&&e.buffer.set(n),e}}let oN=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),oL=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),oD=new Uint32Array(64);class oU extends oM{constructor(){super(64,32,8,!1),this.A=0|oL[0],this.B=0|oL[1],this.C=0|oL[2],this.D=0|oL[3],this.E=0|oL[4],this.F=0|oL[5],this.G=0|oL[6],this.H=0|oL[7]}get(){let{A:e,B:t,C:n,D:r,E:i,F:a,G:s,H:o}=this;return[e,t,n,r,i,a,s,o]}set(e,t,n,r,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)oD[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=oD[e-15],n=oD[e-2],r=oC(t,7)^oC(t,18)^t>>>3,i=oC(n,17)^oC(n,19)^n>>>10;oD[e]=i+oD[e-7]+r+oD[e-16]|0}let{A:n,B:r,C:i,D:a,E:s,F:o,G:c,H:l}=this;for(let e=0;e<64;e++){let t=l+(oC(s,6)^oC(s,11)^oC(s,25))+oB(s,o,c)+oN[e]+oD[e]|0,u=(oC(n,2)^oC(n,13)^oC(n,22))+oj(n,r,i)|0;l=c,c=o,o=s,s=a+t|0,a=i,i=r,r=n,n=t+u|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,a,s,o,c,l)}roundClean(){oD.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let oR=(h=()=>new oU,(a=e=>h().update(oO(e)).digest()).outputLen=(s=h()).outputLen,a.blockLen=s.blockLen,a.create=()=>h(),a),oH="session:id",oq="session:secret",oW="session:linked";class oF{constructor(e,t,n,r=!1){this.storage=e,this.id=t,this.secret=n,this.key=function(e){oS(e);let t="";for(let n=0;n<e.length;n++)t+=o_[e[n]];return t}(oR(`${t}, ${n} WalletLink`)),this._linked=!!r}static create(e){return new oF(e,ea(16),ea(32)).save()}static load(e){let t=e.getItem(oH),n=e.getItem(oW),r=e.getItem(oq);return t&&r?new oF(e,t,r,"1"===n):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(oH,this.id),this.storage.setItem(oq,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(oW,this._linked?"1":"0")}}class oz{constructor(){this.root=null,this.darkMode=eU()}attach(){let e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),eM()}present(e){this.render(e)}clear(){this.render(null)}render(e){!this.root||((0,eL.render)(null,this.root),e&&(0,eL.render)((0,eL.h)(oV,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}let oV=({title:e,buttonText:t,darkMode:n,onButtonClick:r,onDismiss:i})=>(0,eL.h)(eH,{darkMode:n},(0,eL.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,eL.h)("style",null,".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"),(0,eL.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,eL.h)("div",{class:eN("-cbwsdk-redirect-dialog-box",n?"dark":"light")},(0,eL.h)("p",null,e),(0,eL.h)("button",{onClick:r},t))));class o${constructor(){this.attached=!1,this.redirectDialog=new oz}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){let t=new URL("https://go.cb-w.com/walletlink");t.searchParams.append("redirect_url",function(){try{if(function(){try{return null!==window.frameElement}catch(e){return!1}}()&&window.top)return window.top.location;return window.location}catch(e){return window.location}}().href),e&&t.searchParams.append("wl_url",e);let n=document.createElement("a");n.target="cbw-opener",n.href=t.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(e){this.redirectToCoinbaseWallet(e),setTimeout(()=>{this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}})},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class oK{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=function(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)}(),this.linkedUpdated=e=>{this.isLinked=e;let t=this.storage.getItem(ow);if(e&&(this._session.linked=e),this.isUnlinkedErrorState=!1,t){let n=t.split(" "),r="true"===this.storage.getItem("IsStandaloneSigning");""===n[0]||e||!this._session.linked||r||(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(e,t)=>{this.storage.setItem(e,t)},this.chainUpdated=(e,t)=>{(this.chainCallbackParams.chainId!==e||this.chainCallbackParams.jsonRpcUrl!==t)&&(this.chainCallbackParams={chainId:e,jsonRpcUrl:t},this.chainCallback&&this.chainCallback(t,Number.parseInt(e,10)))},this.accountUpdated=e=>{this.accountsCallback&&this.accountsCallback([e]),oK.accountRequestCallbackIds.size>0&&(Array.from(oK.accountRequestCallbackIds.values()).forEach(t=>{this.invokeCallback(t,{method:"requestEthereumAccounts",result:[e]})}),oK.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:t,ui:n,connection:r}=this.subscribe();this._session=t,this.connection=r,this.relayEventManager=new oA,this.ui=n,this.ui.attach()}subscribe(){let e=oF.load(this.storage)||oF.create(this.storage),{linkAPIUrl:t}=this,n=new oE({session:e,linkAPIUrl:t,listener:this}),r=this.isMobileWeb?new o$:new eF;return n.connect(),{session:e,ui:r,connection:n}}resetAndReload(){this.connection.destroy().then(()=>{let e=oF.load(this.storage);(null==e?void 0:e.id)===this._session.id&&eY.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:eu(e.weiValue),data:ec(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?eu(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?eu(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?eu(e.gasPriceInWei):null,gasLimit:e.gasLimit?eu(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:eu(e.weiValue),data:ec(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?eu(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?eu(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?eu(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?eu(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:ec(e,!0),chainId:t}})}getWalletLinkSession(){return this._session}sendRequest(e){let t=null,n=ea(8),r=r=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,r),null==t||t()};return new Promise((i,a)=>{t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:r,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(n,e=>{if(null==t||t(),eZ(e))return a(Error(e.errorMessage));i(e)}),this.publishWeb3RequestEvent(n,e)})}publishWeb3RequestEvent(e,t){let n={type:"WEB3_REQUEST",id:e,request:t};this.publishEvent("Web3Request",n,!0).then(e=>{}).catch(e=>{this.handleWeb3ResponseMessage(n.id,{method:t.method,errorMessage:e.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(t.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof o$)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink()}}publishWeb3RequestCanceledEvent(e){this.publishEvent("Web3RequestCanceled",{type:"WEB3_REQUEST_CANCELED",id:e},!1).then()}publishEvent(e,t,n){return this.connection.publishEvent(e,t,n)}handleWeb3ResponseMessage(e,t){if("requestEthereumAccounts"===t.method){oK.accountRequestCallbackIds.forEach(e=>this.invokeCallback(e,t)),oK.accountRequestCallbackIds.clear();return}this.invokeCallback(e,t)}handleErrorResponse(e,t,n){var r;let i=null!=(r=null==n?void 0:n.message)?r:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:t,errorMessage:i})}invokeCallback(e,t){let n=this.relayEventManager.callbacks.get(e);n&&(n(t),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){let{appName:e,appLogoUrl:t}=this.metadata,n={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:t}},r=ea(8);return new Promise((e,t)=>{this.relayEventManager.callbacks.set(r,n=>{if(eZ(n))return t(Error(n.errorMessage));e(n)}),oK.accountRequestCallbackIds.add(r),this.publishWeb3RequestEvent(r,n)})}watchAsset(e,t,n,r,i,a){let s={method:"watchAsset",params:{type:e,options:{address:t,symbol:n,decimals:r,image:i},chainId:a}},o=null,c=ea(8),l=e=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,s.method,e),null==o||o()};return o=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(c,n=>{if(null==o||o(),eZ(n))return t(Error(n.errorMessage));e(n)}),this.publishWeb3RequestEvent(c,s)})}addEthereumChain(e,t,n,r,i,a){let s={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:r,chainName:i,iconUrls:n,nativeCurrency:a}},o=null,c=ea(8),l=e=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,s.method,e),null==o||o()};return o=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(c,n=>{if(null==o||o(),eZ(n))return t(Error(n.errorMessage));e(n)}),this.publishWeb3RequestEvent(c,s)})}switchEthereumChain(e,t){let n={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:t})},r=null,i=ea(8),a=e=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,e),null==r||r()};return r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:a,onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(i,n=>(null==r||r(),eZ(n)&&n.errorCode)?t(Z({code:n.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):eZ(n)?t(Error(n.errorMessage)):void e(n)),this.publishWeb3RequestEvent(i,n)})}}oK.accountRequestCallbackIds=new Set;let oZ="DefaultChainId",oG="DefaultJsonRpcUrl";class oJ{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new eY("walletlink",eO),this.callback=e.callback||null;const t=this._storage.getItem(ow);if(t){const e=t.split(" ");""!==e[0]&&(this._addresses=e.map(e=>ey(e)))}this.initializeRelay()}getSession(){let{id:e,secret:t}=this.initializeRelay().getWalletLinkSession();return{id:e,secret:t}}async handshake(e){let t="eth_requestAccounts",n=eX(e);(({method:e,correlationId:t})=>{eP("walletlink_signer.handshake.started",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t},b.high)})({method:t,correlationId:n});try{await this._eth_requestAccounts(),(({method:e,correlationId:t})=>{eP("walletlink_signer.handshake.completed",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t},b.high)})({method:t,correlationId:n})}catch(e){throw(({method:e,correlationId:t,errorMessage:n})=>{eP("walletlink_signer.handshake.error",{action:m.error,componentType:p.unknown,method:e,correlationId:t,errorMessage:n},b.high)})({method:t,correlationId:n,errorMessage:e3(e)}),e}}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return null!=(e=this._storage.getItem(oG))?e:void 0}set jsonRpcUrl(e){this._storage.setItem(oG,e)}updateProviderInfo(e,t){var n;this.jsonRpcUrl=e;let r=this.getChainId();this._storage.setItem(oZ,t.toString(10)),ev(t)!==r&&(null==(n=this.callback)||n.call(this,"chainChanged",ed(t)))}async watchAsset(e){let t=Array.isArray(e)?e[0]:e;if(!t.type)throw q("Type is required");if((null==t?void 0:t.type)!=="ERC20")throw q(`Asset of type '${t.type}' is not supported`);if(!(null==t?void 0:t.options))throw q("Options are required");if(!(null==t?void 0:t.options.address))throw q("Address is required");let n=this.getChainId(),{address:r,symbol:i,image:a,decimals:s}=t.options,o=this.initializeRelay(),c=await o.watchAsset(t.type,r,i,s,a,null==n?void 0:n.toString());return!eZ(c)&&!!c.result}async addEthereumChain(e){var t,n;let r=e[0];if((null==(t=r.rpcUrls)?void 0:t.length)===0)throw q("please pass in at least 1 rpcUrl");if(!r.chainName||""===r.chainName.trim())throw q("chainName is a required field");if(!r.nativeCurrency)throw q("nativeCurrency is a required field");let i=Number.parseInt(r.chainId,16);if(i===this.getChainId())return!1;let a=this.initializeRelay(),{rpcUrls:s=[],blockExplorerUrls:o=[],chainName:c,iconUrls:l=[],nativeCurrency:u}=r,d=await a.addEthereumChain(i.toString(),s,l,o,c,u);if(eZ(d))return!1;if((null==(n=d.result)?void 0:n.isApproved)===!0)return this.updateProviderInfo(s[0],i),null;throw W("unable to add ethereum chain")}async switchEthereumChain(e){let t=Number.parseInt(e[0].chainId,16),n=this.initializeRelay(),r=await n.switchEthereumChain(t.toString(10),this.selectedAddress||void 0);if(eZ(r))throw r;let i=r.result;return i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,t),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,t){var n;if(!Array.isArray(e))throw Error("addresses is not an array");let r=e.map(e=>ey(e));JSON.stringify(r)!==JSON.stringify(this._addresses)&&(this._addresses=r,null==(n=this.callback)||n.call(this,"accountsChanged",r),this._storage.setItem(ow,r.join(" ")))}async request(e){let t=eX(e);(({method:e,correlationId:t})=>{eP("walletlink_signer.request.started",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t},b.high)})({method:e.method,correlationId:t});try{let n=await this._request(e);return(({method:e,correlationId:t})=>{eP("walletlink_signer.request.completed",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t},b.high)})({method:e.method,correlationId:t}),n}catch(n){throw(({method:e,correlationId:t,errorMessage:n})=>{eP("walletlink_signer.request.error",{action:m.error,componentType:p.unknown,method:e,correlationId:t,errorMessage:n},b.high)})({method:e.method,correlationId:t,errorMessage:e3(n)}),n}}async _request(e){let t=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return ed(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(t);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(t);case"eth_sendTransaction":return this._eth_sendTransaction(t);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(t);case"wallet_switchEthereumChain":return this.switchEthereumChain(t);case"wallet_watchAsset":return this.watchAsset(t);default:if(!this.jsonRpcUrl)throw W("No RPC URL set for chain");return eS(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){let t=ey(e);if(!this._addresses.map(e=>ey(e)).includes(t))throw Error("Unknown Ethereum address")}_prepareTransactionParams(e){let t=e.from?ey(e.from):this.selectedAddress;if(!t)throw Error("Ethereum address is unavailable");this._ensureKnownAddress(t);let n=e.to?ey(e.to):null,r=null!=e.value?ex(e.value):BigInt(0),i=e.data?ew(e.data):T.Buffer.alloc(0),a=null!=e.nonce?ev(e.nonce):null,s=null!=e.gasPrice?ex(e.gasPrice):null,o=null!=e.maxFeePerGas?ex(e.maxFeePerGas):null,c=null!=e.maxPriorityFeePerGas?ex(e.maxPriorityFeePerGas):null;return{fromAddress:t,toAddress:n,weiValue:r,data:i,nonce:a,gasPriceInWei:s,maxFeePerGas:o,maxPriorityFeePerGas:c,gasLimit:null!=e.gas?ex(e.gas):null,chainId:e.chainId?ev(e.chainId):this.getChainId()}}async ecRecover(e){let{method:t,params:n}=e;if(!Array.isArray(n))throw q();let r=this.initializeRelay(),i=await r.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:el(n[0]),signature:el(n[1]),addPrefix:"personal_ecRecover"===t}});if(eZ(i))throw i;return i.result}getChainId(){var e;return Number.parseInt(null!=(e=this._storage.getItem(oZ))?e:"1",10)}async _eth_requestAccounts(){var e,t;if(this._addresses.length>0)return null==(e=this.callback)||e.call(this,"connect",{chainId:ed(this.getChainId())}),this._addresses;let n=this.initializeRelay(),r=await n.requestEthereumAccounts();if(eZ(r))throw r;if(!r.result)throw Error("accounts received is empty");return this._setAddresses(r.result),null==(t=this.callback)||t.call(this,"connect",{chainId:ed(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw q();let t=e[1],n=e[0];this._ensureKnownAddress(t);let r=this.initializeRelay(),i=await r.sendRequest({method:"signEthereumMessage",params:{address:ey(t),message:el(n),addPrefix:!0,typedDataJson:null}});if(eZ(i))throw i;return i.result}async _eth_signTransaction(e){let t=this._prepareTransactionParams(e[0]||{}),n=this.initializeRelay(),r=await n.signEthereumTransaction(t);if(eZ(r))throw r;return r.result}async _eth_sendRawTransaction(e){let t=ew(e[0]),n=this.initializeRelay(),r=await n.submitEthereumTransaction(t,this.getChainId());if(eZ(r))throw r;return r.result}async _eth_sendTransaction(e){let t=this._prepareTransactionParams(e[0]||{}),n=this.initializeRelay(),r=await n.signAndSubmitEthereumTransaction(t);if(eZ(r))throw r;return r.result}async signTypedData(e){let{method:t,params:n}=e;if(!Array.isArray(n))throw q();let r=n[+("eth_signTypedData_v1"===t)],i=n[+("eth_signTypedData_v1"!==t)];this._ensureKnownAddress(r);let a=this.initializeRelay(),s=await a.sendRequest({method:"signEthereumMessage",params:{address:ey(r),message:ec(({eth_signTypedData_v1:oy.default.hashForSignTypedDataLegacy,eth_signTypedData_v3:oy.default.hashForSignTypedData_v3,eth_signTypedData_v4:oy.default.hashForSignTypedData_v4,eth_signTypedData:oy.default.hashForSignTypedData_v4})[t]({data:function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw q(`Not a JSON string or an object: ${String(e)}`)}(i)}),!0),typedDataJson:JSON.stringify(i,null,2),addPrefix:!1}});if(eZ(s))throw s;return s.result}initializeRelay(){return this._relay||(this._relay=new oK({linkAPIUrl:eO,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}let oY="SignerType",oQ=new eY("CBWSDK","SignerConfigurator");function oX(e){if(e)return e instanceof ob?"scw":"walletlink"}async function o0(e){let{communicator:t,metadata:n,handshakeRequest:r,callback:i}=e;o1(t,n,i,r).catch(()=>{});let a={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},e.preference),{handshakeRequest:r})},{data:s}=await t.postRequestAndWaitForResponse(a);return s}async function o1(e,t,n,r){await e.onMessage(({event:e})=>"WalletLinkSessionRequest"===e);let i=new oJ({metadata:t,callback:n});e.postMessage({event:"WalletLinkUpdate",data:{session:i.getSession()}}),await i.handshake(r),e.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}var o2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class o3 extends eJ{constructor(e){var{metadata:t}=e,n=e.preference,{keysUrl:r}=n,i=o2(n,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=t,this.preference=i,this.communicator=new eK({url:r,metadata:t,preference:i});const a=oQ.getItem(oY);a&&(this.signer=this.initSigner(a),(({signerType:e})=>{eP("provider.signer.loaded_from_storage",{action:m.measurement,componentType:p.unknown,signerType:e},b.low)})({signerType:a}))}async request(e){var t,n,r;let i=crypto.randomUUID();t=e,n=i,eQ.setState(e=>{let r=new Map(e.correlationIds);return r.set(t,n),{correlationIds:r}}),(({method:e,correlationId:t})=>{eP("provider.request.started",{action:m.unknown,componentType:p.unknown,method:e,correlationId:t},b.high)})({method:e.method,correlationId:i});try{let t=await this._request(e);return(({method:e,signerType:t,correlationId:n})=>{eP("provider.request.responded",{action:m.unknown,componentType:p.unknown,method:e,signerType:t,correlationId:n},b.high)})({method:e.method,signerType:oX(this.signer),correlationId:i}),t}catch(t){throw(({method:e,correlationId:t,signerType:n,errorMessage:r})=>{eP("provider.request.error",{action:m.error,componentType:p.unknown,method:e,signerType:n,correlationId:t,errorMessage:r},b.high)})({method:e.method,correlationId:i,signerType:oX(this.signer),errorMessage:t instanceof Error?t.message:""}),t}finally{r=e,eQ.setState(e=>{let t=new Map(e.correlationIds);return t.delete(r),{correlationIds:t}})}}async _request(e){try{if(!function(e){if(!e||"object"!=typeof e||Array.isArray(e))throw q({message:"Expected a single, non-array, object argument.",data:e});let{method:t,params:n}=e;if("string"!=typeof t||0===t.length)throw q({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==n&&!Array.isArray(n)&&("object"!=typeof n||null===n))throw q({message:"'args.params' must be an object or array if provided.",data:e});switch(t){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw $()}}(e),!this.signer)switch(e.method){case"eth_requestAccounts":{let t,n=A.subAccountsConfig.get();t=(null==n?void 0:n.enableAutoSubAccounts)?"scw":await this.requestSignerSelection(e);let r=this.initSigner(t);"scw"===t&&(null==n?void 0:n.enableAutoSubAccounts)?(await r.handshake({method:"handshake"}),await r.request(e)):await r.handshake(e),this.signer=r,oQ.setItem(oY,t);break}case"wallet_connect":{let t=this.initSigner("scw");await t.handshake({method:"handshake"});let n=await t.request(e);return this.signer=t,n}case"wallet_sendCalls":case"wallet_sign":{let t=this.initSigner("scw");await t.handshake({method:"handshake"});let n=await t.request(e);return await t.cleanup(),n}case"wallet_getCallsStatus":return await eS(e,e_);case"net_version":return 1;case"eth_chainId":return ed(1);default:throw V("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(r){let e,t,{code:n}=r;return n===B&&this.disconnect(),Promise.reject((e=function(e,{shouldIncludeStack:t=!1}={}){var n,r;let i={};if(e&&"object"==typeof e&&!Array.isArray(e)&&R(e,"code")&&Number.isInteger(n=e.code)&&(N[n.toString()]||(r=n)>=-32099&&r<=-32e3))i.code=e.code,e.message&&"string"==typeof e.message?(i.message=e.message,R(e,"data")&&(i.data=e.data)):(i.message=D(i.code),i.data={originalError:U(e)});else i.code=O,i.message=H(e,"message")?e.message:L,i.data={originalError:U(e)};return t&&(i.stack=H(e,"stack")?e.stack:void 0),i}(function(e){var t;if("string"==typeof e)return{message:e,code:O};if(eZ(e)){let n=e.errorMessage,r=null!=(t=e.errorCode)?t:n.match(/(denied|rejected)/i)?P:void 0;return Object.assign(Object.assign({},e),{message:n,code:r,data:{method:e.method}})}return e}(r),{shouldIncludeStack:!0}),(t=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors")).searchParams.set("version",v),t.searchParams.set("code",e.code.toString()),t.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:t.href})))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),eP("provider.enable_function.called",{action:m.measurement,componentType:p.unknown},b.high),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await (null==(e=this.signer)?void 0:e.cleanup()),this.signer=null,eY.clearAll(),eQ.setState({correlationIds:new Map}),this.emit("disconnect",K("User initiated disconnection"))}async requestSignerSelection(e){eP("signer.selection.requested",{action:m.unknown,componentType:p.unknown},b.high);let t=await o0({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)});return eP("signer.selection.responded",{action:m.unknown,componentType:p.unknown,signerType:t},b.high),t}initSigner(e){return function(e){let{signerType:t,metadata:n,communicator:r,callback:i}=e;switch(t){case"scw":return new ob({metadata:n,callback:i,communicator:r});case"walletlink":return new oJ({metadata:n,callback:i})}}({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}class o5{constructor(e){A.persist.rehydrate(),this.metadata={appName:e.appName||"Dapp",appLogoUrl:e.appLogoUrl||function(){let e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:n}=document.location,r=e?e.getAttribute("href"):null;return!r||r.startsWith("javascript:")||r.startsWith("vbscript:")?`${t}//${n}/favicon.ico`:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?t+r:`${t}//${n}${r}`}(),appChainIds:e.appChainIds||[]},A.config.set({metadata:this.metadata}),eE()}makeWeb3Provider(e={options:"all"}){var t;eT(e),!1!==e.telemetry&&S(),A.config.set({preference:e});let n={metadata:this.metadata,preference:e};return null!=(t=eI(n))?t:new o3(n)}getCoinbaseWalletLogo(e,t=240){let n;switch(e){case"standard":default:return n=t,`data:image/svg+xml,%3Csvg width='${t}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`}}}e.s(["default",0,o5],42460),e.i(42460);let o4={options:"all"};function o8(e){var t,n,r,i;let a={metadata:{appName:e.appName||"Dapp",appLogoUrl:e.appLogoUrl||"",appChainIds:e.appChainIds||[]},preference:Object.assign(o4,null!=(t=e.preference)?t:{}),paymasterUrls:e.paymasterUrls};(null==(n=e.subAccounts)?void 0:n.toOwnerAccount)&&eC(e.subAccounts.toOwnerAccount),A.subAccountsConfig.set({toOwnerAccount:null==(r=e.subAccounts)?void 0:r.toOwnerAccount,enableAutoSubAccounts:null==(i=e.subAccounts)?void 0:i.enableAutoSubAccounts}),A.config.set(a),A.persist.rehydrate(),eE(),!1!==a.preference.telemetry&&S(),eT(a.preference);let s=null,o={getProvider(){var e;let t;return s||(s=null!=(e=eI(t={metadata:a.metadata,preference:a.preference}))?e:new o3(t)),s.sdk=o,s},subAccount:{async create(e){var t,n;return tt(null==(t=A.getState().subAccount)?void 0:t.address,Error("subaccount already exists")),await (null==(n=o.getProvider())?void 0:n.request({method:"wallet_addSubAccount",params:[{version:"1",account:e}]}))},async get(){var e,t;let n=A.subAccounts.get();if(null==n?void 0:n.address)return n;let r=null==(t=(await (null==(e=o.getProvider())?void 0:e.request({method:"wallet_connect",params:[{version:"1",capabilities:{}}]}))).accounts[0].capabilities)?void 0:t.subAccounts;return Array.isArray(r)?r[0]:null},async addOwner({address:e,publicKey:t,chainId:n}){var r,i;let a=A.subAccounts.get(),s=A.account.get();tt(s,Error("account does not exist")),tt(null==a?void 0:a.address,Error("subaccount does not exist"));let c=[];if(t){let[e,n]=(0,od.decodeAbiParameters)([{type:"bytes32"},{type:"bytes32"}],t);c.push({to:a.address,data:(0,s1.encodeFunctionData)({abi:sD,functionName:"addOwnerPublicKey",args:[e,n]}),value:(0,e2.toHex)(0)})}return e&&c.push({to:a.address,data:(0,s1.encodeFunctionData)({abi:sD,functionName:"addOwnerAddress",args:[e]}),value:(0,e2.toHex)(0)}),await (null==(r=o.getProvider())?void 0:r.request({method:"wallet_sendCalls",params:[{calls:c,chainId:(0,e2.toHex)(n),from:null==(i=s.accounts)?void 0:i[0],version:"1"}]}))},setToOwnerAccount(e){eC(e),A.subAccountsConfig.set({toOwnerAccount:e})}}};return o}e.s(["CoinbaseWalletSDK",()=>o5,"createCoinbaseWalletSDK",()=>o8,"default",0,o5,"getCryptoKeyAccount",()=>sS,"removeCryptoKey",()=>sI],471554)}]);