(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,952683,e=>{"use strict";var a=e.i(843476),t=e.i(271645),r=e.i(982615),s=e.i(503116),l=e.i(475254);let n=(0,l.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),i=(0,l.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var d=e.i(595468),o=e.i(373884),c=e.i(494913),x=e.i(64795);let m=(0,l.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g=(0,l.default)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),u=(0,l.default)("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);var p=e.i(531278);let b=(0,l.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var h=e.i(63209),y=e.i(78094),f=e.i(247167),j=e.i(170778),v=e.i(16862),N=e.i(871786),k=e.i(827444);function w({proposalId:e,proposalTitle:s,isOpen:l,onClose:n}){let[i,d]=(0,t.useState)("FOR"),[o,c]=(0,t.useState)("1"),[x,w]=(0,t.useState)(!1),[C,T]=(0,t.useState)(!1),{vote:S,publishVoteToP2P:I,isVoting:A,isConfirming:R,isSuccess:M,error:E,hash:P,p2pConnected:L}=function(){let{address:e,isConnected:a}=(0,r.useAccount)(),s=(0,j.useChainId)(),{writeContractAsync:l,data:n,isPending:i,error:d}=(0,v.useWriteContract)(),{isLoading:o,isSuccess:c}=(0,N.useWaitForTransactionReceipt)({hash:n}),{isConnected:x,publishVote:m}=(0,k.useP2P)({autoConnect:!0}),[g,u]=(0,t.useState)(null);return{vote:async(t,r,s)=>{if(!a||!e)throw Error("Wallet not connected");let n=f.default.env.NEXT_PUBLIC_GOVERNANCE_CONTRACT||"0x0000000000000000000000000000000000000000";try{let e=s||BigInt(1e18);return u({proposalId:t,support:r,weight:e}),await l({address:n,abi:[{name:"vote",type:"function",stateMutability:"nonpayable",inputs:[{name:"proposalId",type:"uint256"},{name:"support",type:"bool"},{name:"weight",type:"uint256"}],outputs:[]}],functionName:"vote",args:[BigInt(t),"FOR"===r,e]})}catch(e){throw console.error("Error voting:",e),u(null),e}},publishVoteToP2P:async()=>{if(!g||!n||!x)return!1;try{let a={hash:n,proposalId:g.proposalId,support:g.support,weight:g.weight.toString(),voter:e,chainId:s,timestamp:Date.now()},t=await m(a);return t?console.log("‚úÖ Voto publicado na rede P2P"):console.warn("‚ö†Ô∏è Falha ao publicar voto no P2P"),t}catch(e){return console.error("‚ùå Erro ao publicar voto no P2P:",e),!1}},isVoting:i||o,isConfirming:o,isSuccess:c,error:d,hash:n,voteData:g,p2pConnected:x}}(),{stats:O}=(0,k.useP2P)({autoConnect:!0});(0,t.useEffect)(()=>{M&&P&&(I(),w(!0),setTimeout(()=>{w(!1),n()},3e3))},[M,P,I,n]),(0,t.useEffect)(()=>{E&&(T(!0),setTimeout(()=>T(!1),5e3))},[E]);let D=async a=>{a.preventDefault();try{let a=BigInt(1e18*parseFloat(o));await S(e,i,a)}catch(e){console.error("Erro ao votar:",e)}};return l?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Votar na Proposta"}),(0,a.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:(0,a.jsx)(m,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:D,className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:["Proposta #",e]}),(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:s})]}),L&&(0,a.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-2",children:[(0,a.jsx)(y.Network,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),(0,a.jsxs)("p",{className:"text-xs text-green-800 dark:text-green-200",children:["Rede P2P ativa ‚Ä¢ ",O.peers," peers conectados"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Seu Voto"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>d("FOR"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${"FOR"===i?"bg-green-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[(0,a.jsx)(g,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"A Favor"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>d("AGAINST"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${"AGAINST"===i?"bg-red-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[(0,a.jsx)(u,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Contra"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Peso do Voto (tokens IDS)"}),(0,a.jsx)("input",{id:"weight",type:"number",min:"0.01",step:"0.01",value:o,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Quanto maior o peso, mais forte √© seu voto"})]}),x&&P&&(0,a.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-start gap-3 animate-fadeIn",children:[(0,a.jsx)(b,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-1",children:"Voto registrado com sucesso!"}),(0,a.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-300 font-mono break-all mb-2",children:["TX: ",P.substring(0,10),"...",P.substring(P.length-8)]}),L&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-green-600 dark:text-green-400",children:[(0,a.jsx)(y.Network,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["Propagado para ",O.peers," peers na rede P2P"]})]})]})]}),C&&E&&(0,a.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3 animate-fadeIn",children:[(0,a.jsx)(h.AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-1",children:"Erro ao votar"}),(0,a.jsx)("p",{className:"text-xs text-red-700 dark:text-red-300",children:E.message})]})]}),(0,a.jsx)("button",{type:"submit",disabled:A,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 disabled:from-gray-400 disabled:to-gray-400 text-white font-medium py-3 px-4 rounded-lg transition-all flex items-center justify-center gap-2 disabled:cursor-not-allowed",children:A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Loader2,{className:"w-5 h-5 animate-spin"}),R?"Confirmando...":"Enviando..."]}):(0,a.jsxs)(a.Fragment,{children:["FOR"===i?(0,a.jsx)(g,{className:"w-5 h-5"}):(0,a.jsx)(u,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Confirmar Voto"})]})})]})]})}):null}function C({proposal:e}){let[r,l]=(0,t.useState)(!1),m=e.votesFor+e.votesAgainst,g=m>0n?Number(100n*e.votesFor/m):0,u=100-g,p={LINEAR:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",QUADRATIC:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",LOGARITHMIC:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",CONSENSUS:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},b=(0,c.formatDistanceToNow)(e.endTime,{locale:x.ptBR,addSuffix:!0});return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:e.description})]}),(0,a.jsx)("span",{className:`ml-4 px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap ${p[e.voteType]||p.LINEAR}`,children:{LINEAR:"Linear",QUADRATIC:"Quadr√°tica",LOGARITHMIC:"Logar√≠tmica",CONSENSUS:"Consenso"}[e.voteType]||e.voteType})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-400",children:[(0,a.jsx)(n,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[e.totalVoters," votantes"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-400",children:[(0,a.jsx)(s.Clock,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Encerra ",b]})]})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm font-medium",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[(0,a.jsx)(d.CheckCircle2,{className:"w-4 h-4"}),"A favor: ",g.toFixed(1),"%"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1 text-red-600 dark:text-red-400",children:[(0,a.jsx)(o.XCircle,{className:"w-4 h-4"}),"Contra: ",u.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:(0,a.jsxs)("div",{className:"flex h-full",children:[(0,a.jsx)("div",{className:"bg-green-500 dark:bg-green-600 transition-all duration-300",style:{width:`${g}%`}}),(0,a.jsx)("div",{className:"bg-red-500 dark:bg-red-600 transition-all duration-300",style:{width:`${u}%`}})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-400",children:"Votos a favor"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:[(Number(e.votesFor)/1e18).toFixed(2)," IDS"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-400",children:"Votos contra"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:[(Number(e.votesAgainst)/1e18).toFixed(2)," IDS"]})]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-4",children:["Proposta por: ",(0,a.jsxs)("code",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:[e.proposer.slice(0,6),"...",e.proposer.slice(-4)]})]}),(0,a.jsxs)("button",{onClick:()=>l(!0),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(i,{className:"w-4 h-4"}),"Votar nesta Proposta"]}),(0,a.jsx)(w,{proposalId:e.id,proposalTitle:e.title,isOpen:r,onClose:()=>l(!1)})]})}var T=e.i(266027);let S="revolucao_cibernetica_proposals",I="revolucao_cibernetica_proposal_counter";class A{static saveProposal(e){let a=this.getCounter()+1,t={...e,id:a},r=this.getProposals();return r.push(t),window.localStorage.setItem(S,JSON.stringify(r)),window.localStorage.setItem(I,JSON.stringify(a)),t}static getProposals(){try{let e=window.localStorage.getItem(S);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading proposals from localStorage:",e),[]}}static getProposal(e){return this.getProposals().find(a=>a.id===e)||null}static updateProposal(e,a){let t=this.getProposals(),r=t.findIndex(a=>a.id===e);return -1!==r&&(t[r]={...t[r],...a},window.localStorage.setItem(S,JSON.stringify(t)),!0)}static addVote(e,a,t){let r=this.getProposal(e);if(!r)return!1;let s=BigInt(r.votesFor),l=BigInt(r.votesAgainst),n={votesFor:a?(s+t).toString():s.toString(),votesAgainst:a?l.toString():(l+t).toString(),totalVoters:r.totalVoters+1};return this.updateProposal(e,n)}static getCounter(){try{let e=window.localStorage.getItem(I);return e?JSON.parse(e):0}catch(e){return 0}}static clearAll(){window.localStorage.removeItem(S),window.localStorage.removeItem(I)}static initializeDemoData(){if(this.getProposals().length>0)return;let e=Date.now();[{title:"Implementar Sistema de Reputa√ß√£o Descentralizada",description:"Proposta para criar um sistema de reputa√ß√£o baseado em contribui√ß√µes √† comunidade, usando tokens de aten√ß√£o e valida√ß√£o por pares.",ipfsHash:"QmDemo1234567890abcdef",proposer:"0x1234567890123456789012345678901234567890",voteType:"QUADRATIC",startTime:e-1728e5,endTime:e+432e6,votesFor:"15000",votesAgainst:"3000",totalVoters:42,state:"ACTIVE",tags:{isTechnical:!0,requiresExpertise:!0}},{title:"Alocar Recursos para Educa√ß√£o Digital",description:"Proposta para destinar 20% do or√ßamento para programas de educa√ß√£o digital e alfabetiza√ß√£o tecnol√≥gica nas comunidades.",ipfsHash:"QmDemo2345678901bcdefg",proposer:"0x2345678901234567890123456789012345678901",voteType:"LINEAR",startTime:e-864e5,endTime:e+5184e5,votesFor:"25000",votesAgainst:"5000",totalVoters:78,state:"ACTIVE",tags:{isResourceAllocation:!0,budgetImpact:"100000"}},{title:"Estabelecer C√≥digo de √âtica para IA",description:"Proposta para criar e adotar um c√≥digo de √©tica para desenvolvimento e uso de intelig√™ncia artificial na comunidade.",ipfsHash:"QmDemo3456789012cdefgh",proposer:"0x3456789012345678901234567890123456789012",voteType:"CONSENSUS",startTime:e-2592e5,endTime:e+3456e5,votesFor:"18000",votesAgainst:"2000",totalVoters:56,state:"ACTIVE",tags:{isEthical:!0}}].forEach(e=>{this.saveProposal(e)})}}function R(e={}){let{state:a,first:t=100,skip:r=0}=e;return(0,T.useQuery)({queryKey:["proposals",a,t,r],queryFn:async()=>{{A.initializeDemoData();let e=A.getProposals(),s=e;return a&&(s=e.filter(e=>e.state===a)),s.slice(r,r+t).map(e=>({id:e.id,title:e.title,description:e.description,ipfsHash:e.ipfsHash,proposer:e.proposer,voteType:e.voteType,startTime:e.startTime,endTime:e.endTime,votesFor:BigInt(e.votesFor),votesAgainst:BigInt(e.votesAgainst),totalVoters:e.totalVoters,state:e.state}))}},staleTime:1e4,refetchInterval:3e4})}function M(){let{address:e}=(0,r.useAccount)(),[s,l]=(0,t.useState)("all"),{data:n=[],isLoading:i,error:d}=R({state:"ACTIVE"}),o=n.filter(e=>"all"===s||e.voteType===s);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-6",children:[(0,a.jsx)("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${"all"===s?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Todas"}),(0,a.jsx)("button",{onClick:()=>l("LINEAR"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${"LINEAR"===s?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Linear"}),(0,a.jsx)("button",{onClick:()=>l("QUADRATIC"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${"QUADRATIC"===s?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Quadr√°tica"}),(0,a.jsx)("button",{onClick:()=>l("LOGARITHMIC"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${"LOGARITHMIC"===s?"bg-yellow-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Logar√≠tmica"}),(0,a.jsx)("button",{onClick:()=>l("CONSENSUS"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${"CONSENSUS"===s?"bg-red-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Consenso"})]}),i?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(p.Loader2,{className:"w-8 h-8 animate-spin text-purple-600"})}):d?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-red-600 dark:text-red-400 mb-2",children:"Erro ao carregar propostas"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Verifique se o subgraph est√° rodando"})]}):0===o.length?(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Nenhuma proposta encontrada"}):(0,a.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,a.jsx)(C,{proposal:e},e.id))})]})}let E=(0,l.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),P={31337:{FederationVoting:"0x5FbDB2315678afecb367f032d93F642f64180aa3",GovernanceToken:"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",SovereignWallet:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",MultiWalletIdentity:"0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9",FraudDetection:"0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9",WalletRecovery:"0x5FC8d32690cc91D4c39d9d3abcBD16989F875707",ProofOfLife:"0x0165878A594ca255338adfa4d48449f69242Eb8F",SovereignCurrency:"0xa513E6E4b8f2a923D98304ec87F64353C4D5C853"}},L=P[31337].SovereignWallet,O=P[31337].MultiWalletIdentity,D=P[31337].FraudDetection,F=P[31337].WalletRecovery;P[31337].ProofOfLife;let W=P[31337].SovereignCurrency,B=[{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getSecurityStatus",outputs:[{internalType:"bool",name:"isVerified",type:"bool"},{internalType:"bool",name:"isBlocked",type:"bool"},{internalType:"uint256",name:"riskScore",type:"uint256"},{internalType:"uint8",name:"status",type:"uint8"},{internalType:"uint256",name:"balance",type:"uint256"},{components:[{internalType:"bool",name:"requireBiometric",type:"bool"},{internalType:"bool",name:"requireGeolocation",type:"bool"},{internalType:"bool",name:"autoBlockOnFraud",type:"bool"},{internalType:"bool",name:"allowRecovery",type:"bool"},{internalType:"uint8",name:"minConfirmations",type:"uint8"},{internalType:"uint256",name:"dailyTransferLimit",type:"uint256"}],internalType:"struct SovereignWallet.SecurityConfig",name:"config",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getWalletHealthScore",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getWalletStats",outputs:[{internalType:"uint256",name:"totalTransfers",type:"uint256"},{internalType:"uint256",name:"totalReceived",type:"uint256"},{internalType:"uint256",name:"totalSent",type:"uint256"},{internalType:"uint256",name:"fraudIncidents",type:"uint256"},{internalType:"uint256",name:"recoveryAttempts",type:"uint256"},{internalType:"uint256",name:"lastActivityAt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getRemainingDailyLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"biometricHash",type:"bytes32"},{internalType:"string",name:"geolocation",type:"string"},{internalType:"bytes32",name:"deviceFingerprint",type:"bytes32"}],name:"secureTransfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"requireBiometric",type:"bool"},{internalType:"bool",name:"requireGeolocation",type:"bool"},{internalType:"bool",name:"autoBlockOnFraud",type:"bool"},{internalType:"bool",name:"allowRecovery",type:"bool"},{internalType:"uint8",name:"minConfirmations",type:"uint8"},{internalType:"uint256",name:"dailyTransferLimit",type:"uint256"}],internalType:"struct SovereignWallet.SecurityConfig",name:"newConfig",type:"tuple"}],name:"configureSecuritySettings",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"actionId",type:"bytes32"}],name:"confirmPendingAction",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"riskScore",type:"uint256"}],name:"SecureTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"riskScore",type:"uint256"},{indexed:!1,internalType:"string",name:"reason",type:"string"}],name:"FraudDetected",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint8",name:"newStatus",type:"uint8"}],name:"SecurityStatusChanged",type:"event"}];async function $(e){try{let a=new TextEncoder().encode(e),t=await crypto.subtle.digest("SHA-256",a),r=Array.from(new Uint8Array(t)).map(e=>e.toString(16).padStart(2,"0")).join("");return`Qm${r.substring(0,44)}`}catch(e){throw console.error("Error simulating IPFS upload:",e),Error("Failed to generate content hash")}}let V=(0,l.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),q=(0,l.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),H=[{name:"educacao",label:"Educa√ß√£o",color:"blue",tags:["educa√ß√£o b√°sica","ensino superior","forma√ß√£o profissional","educa√ß√£o infantil","alfabetiza√ß√£o","educa√ß√£o digital","pesquisa acad√™mica","bolsas de estudo","educa√ß√£o especial","educa√ß√£o a dist√¢ncia"]},{name:"saude",label:"Sa√∫de",color:"red",tags:["sa√∫de p√∫blica","hospitais","medicamentos","preven√ß√£o","sa√∫de mental","vacinas","atendimento b√°sico","emerg√™ncia m√©dica","nutri√ß√£o","saneamento"]},{name:"economia",label:"Economia",color:"green",tags:["or√ßamento","financiamento","investimento","desenvolvimento econ√¥mico","empreendedorismo","microcr√©dito","com√©rcio","tributa√ß√£o","renda b√°sica","economia solid√°ria"]},{name:"tecnologia",label:"Tecnologia",color:"purple",tags:["tecnologia","inova√ß√£o","infraestrutura digital","internet","telecomunica√ß√µes","criptografia","blockchain","intelig√™ncia artificial","seguran√ßa digital","c√≥digo aberto"]},{name:"meio-ambiente",label:"Meio Ambiente",color:"emerald",tags:["meio ambiente","biodiversidade","clima","energia renov√°vel","preserva√ß√£o","desmatamento","polui√ß√£o","reciclagem","√°gua","sustentabilidade"]},{name:"cultura",label:"Cultura",color:"pink",tags:["cultura","arte","patrim√¥nio hist√≥rico","m√∫sica","cinema","teatro","literatura","museus","festivais","artesanato"]},{name:"infraestrutura",label:"Infraestrutura",color:"orange",tags:["infraestrutura","transporte p√∫blico","mobilidade urbana","rodovias","portos","aeroportos","obras p√∫blicas","urbanismo","habita√ß√£o","energia"]},{name:"direitos",label:"Direitos e √âtica",color:"amber",tags:["direitos humanos","√©tico","fundamental","constitucional","dignidade","igualdade","liberdade","justi√ßa social","acessibilidade","inclus√£o"]},{name:"seguranca",label:"Seguran√ßa",color:"slate",tags:["seguran√ßa p√∫blica","defesa civil","preven√ß√£o de desastres","policiamento","seguran√ßa","emerg√™ncias","vigil√¢ncia","crime","justi√ßa","prote√ß√£o"]},{name:"social",label:"Social",color:"cyan",tags:["assist√™ncia social","vulnerabilidade","comunidade","fam√≠lia","crian√ßa e adolescente","idosos","trabalho","emprego","moradia","alimenta√ß√£o"]},{name:"ciencia",label:"Ci√™ncia e Pesquisa",color:"indigo",tags:["ci√™ncia","pesquisa cient√≠fica","laborat√≥rios","inova√ß√£o cient√≠fica","medicina","biologia","f√≠sica","qu√≠mica","astronomia","tecnologia cient√≠fica"]},{name:"esporte",label:"Esporte e Lazer",color:"teal",tags:["esporte","lazer","recrea√ß√£o","esporte amador","esporte profissional","olimp√≠adas","infraestrutura esportiva","atividade f√≠sica","parques","turismo"]},{name:"comunicacao",label:"Comunica√ß√£o",color:"violet",tags:["comunica√ß√£o","m√≠dia","jornalismo","transpar√™ncia","informa√ß√£o p√∫blica","dados abertos","liberdade de express√£o","redes sociais","radiodifus√£o","imprensa"]},{name:"administrativo",label:"Administrativo",color:"gray",tags:["administrativo","procedural","operacional","gest√£o p√∫blica","burocracia","processos","documenta√ß√£o","contratos","licita√ß√µes","recursos humanos"]}].flatMap(e=>e.tags.map(a=>({tag:a,category:e.name,categoryLabel:e.label,color:e.color})));function G({selectedTags:e,onTagsChange:r,maxTags:s=5,placeholder:l="Buscar tags..."}){let[n,i]=(0,t.useState)(""),[d,o]=(0,t.useState)(!1),[c,x]=(0,t.useState)(H),[g,u]=(0,t.useState)(0),p=(0,t.useRef)(null),b=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(""===n.trim())x(H);else{let a=n.toLowerCase();x(H.filter(({tag:t,categoryLabel:r})=>!e.includes(t)&&(t.toLowerCase().includes(a)||r.toLowerCase().includes(a))))}u(0)},[n,e]),(0,t.useEffect)(()=>{let e=e=>{!b.current||b.current.contains(e.target)||p.current?.contains(e.target)||o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let h=a=>{!e.includes(a)&&e.length<s&&(r([...e,a]),i(""),o(!1),p.current?.focus())},y=a=>{r(e.filter(e=>e!==a))},f=e=>{let a={blue:{bg:"bg-blue-100 dark:bg-blue-900/30",text:"text-blue-800 dark:text-blue-200",border:"border-blue-300 dark:border-blue-700",hover:"hover:bg-blue-200 dark:hover:bg-blue-900/50"},red:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-800 dark:text-red-200",border:"border-red-300 dark:border-red-700",hover:"hover:bg-red-200 dark:hover:bg-red-900/50"},green:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-800 dark:text-green-200",border:"border-green-300 dark:border-green-700",hover:"hover:bg-green-200 dark:hover:bg-green-900/50"},purple:{bg:"bg-purple-100 dark:bg-purple-900/30",text:"text-purple-800 dark:text-purple-200",border:"border-purple-300 dark:border-purple-700",hover:"hover:bg-purple-200 dark:hover:bg-purple-900/50"},emerald:{bg:"bg-emerald-100 dark:bg-emerald-900/30",text:"text-emerald-800 dark:text-emerald-200",border:"border-emerald-300 dark:border-emerald-700",hover:"hover:bg-emerald-200 dark:hover:bg-emerald-900/50"},pink:{bg:"bg-pink-100 dark:bg-pink-900/30",text:"text-pink-800 dark:text-pink-200",border:"border-pink-300 dark:border-pink-700",hover:"hover:bg-pink-200 dark:hover:bg-pink-900/50"},orange:{bg:"bg-orange-100 dark:bg-orange-900/30",text:"text-orange-800 dark:text-orange-200",border:"border-orange-300 dark:border-orange-700",hover:"hover:bg-orange-200 dark:hover:bg-orange-900/50"},amber:{bg:"bg-amber-100 dark:bg-amber-900/30",text:"text-amber-800 dark:text-amber-200",border:"border-amber-300 dark:border-amber-700",hover:"hover:bg-amber-200 dark:hover:bg-amber-900/50"},slate:{bg:"bg-slate-100 dark:bg-slate-900/30",text:"text-slate-800 dark:text-slate-200",border:"border-slate-300 dark:border-slate-700",hover:"hover:bg-slate-200 dark:hover:bg-slate-900/50"},cyan:{bg:"bg-cyan-100 dark:bg-cyan-900/30",text:"text-cyan-800 dark:text-cyan-200",border:"border-cyan-300 dark:border-cyan-700",hover:"hover:bg-cyan-200 dark:hover:bg-cyan-900/50"},indigo:{bg:"bg-indigo-100 dark:bg-indigo-900/30",text:"text-indigo-800 dark:text-indigo-200",border:"border-indigo-300 dark:border-indigo-700",hover:"hover:bg-indigo-200 dark:hover:bg-indigo-900/50"},teal:{bg:"bg-teal-100 dark:bg-teal-900/30",text:"text-teal-800 dark:text-teal-200",border:"border-teal-300 dark:border-teal-700",hover:"hover:bg-teal-200 dark:hover:bg-teal-900/50"},violet:{bg:"bg-violet-100 dark:bg-violet-900/30",text:"text-violet-800 dark:text-violet-200",border:"border-violet-300 dark:border-violet-700",hover:"hover:bg-violet-200 dark:hover:bg-violet-900/50"},gray:{bg:"bg-gray-100 dark:bg-gray-900/30",text:"text-gray-800 dark:text-gray-200",border:"border-gray-300 dark:border-gray-700",hover:"hover:bg-gray-200 dark:hover:bg-gray-900/50"}};return a[e]||a.gray};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(q,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})}),(0,a.jsx)("input",{ref:p,type:"text",value:n,onChange:e=>{i(e.target.value),o(!0)},onFocus:()=>o(!0),onKeyDown:a=>{"Enter"===a.key?(a.preventDefault(),c.length>0&&g>=0&&h(c[g].tag)):"ArrowDown"===a.key?(a.preventDefault(),u(e=>Math.min(e+1,c.length-1))):"ArrowUp"===a.key?(a.preventDefault(),u(e=>Math.max(e-1,0))):"Escape"===a.key?o(!1):"Backspace"===a.key&&""===n&&e.length>0&&y(e[e.length-1])},placeholder:e.length>=s?`M\xe1ximo de ${s} tags`:l,disabled:e.length>=s,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 disabled:opacity-50 disabled:cursor-not-allowed"})]}),d&&c.length>0&&e.length<s&&(0,a.jsx)("div",{ref:b,className:"absolute z-10 w-full mt-1 max-h-64 overflow-y-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:c.map((e,t)=>{let r=f(e.color);return(0,a.jsxs)("button",{type:"button",onClick:()=>h(e.tag),className:`w-full px-4 py-2 text-left flex items-center justify-between gap-2 transition-colors ${t===g?"bg-gray-100 dark:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-750"}`,children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.tag}),(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.categoryLabel})]}),(0,a.jsxs)("span",{className:`flex-shrink-0 text-xs px-2 py-1 rounded-full ${r.bg} ${r.text}`,children:[(0,a.jsx)(V,{className:"h-3 w-3 inline mr-1"}),e.categoryLabel]})]},`${e.category}-${e.tag}`)})}),e.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:e.map(e=>{let t,r=f((t=H.find(a=>a.tag===e))?t.color:"gray");return(0,a.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium ${r.bg} ${r.text} ${r.border} border`,children:[(0,a.jsx)(V,{className:"h-3 w-3"}),e,(0,a.jsx)("button",{type:"button",onClick:()=>y(e),className:`ml-1 ${r.hover} rounded-full p-0.5 transition-colors`,children:(0,a.jsx)(m,{className:"h-3 w-3"})})]},e)})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[e.length,"/",s," tags selecionadas. Use ‚Üë‚Üì para navegar, Enter para selecionar, Backspace para remover."]})]})}let U={administrativo:"LINEAR",procedural:"LINEAR",operacional:"LINEAR","gest√£o p√∫blica":"LINEAR",burocracia:"LINEAR",processos:"LINEAR",documenta√ß√£o:"LINEAR",contratos:"LINEAR",licita√ß√µes:"LINEAR","recursos humanos":"LINEAR",or√ßamento:"QUADRATIC",recurso:"QUADRATIC",financiamento:"QUADRATIC",investimento:"QUADRATIC","desenvolvimento econ√¥mico":"QUADRATIC",empreendedorismo:"QUADRATIC",microcr√©dito:"QUADRATIC",com√©rcio:"QUADRATIC",tributa√ß√£o:"QUADRATIC","renda b√°sica":"QUADRATIC","economia solid√°ria":"QUADRATIC","bolsas de estudo":"QUADRATIC","assist√™ncia social":"QUADRATIC",alimenta√ß√£o:"QUADRATIC",t√©cnico:"LOGARITHMIC",tecnologia:"LOGARITHMIC",infraestrutura:"LOGARITHMIC",seguran√ßa:"LOGARITHMIC",sa√∫de:"LOGARITHMIC",energia:"LOGARITHMIC",criptografia:"LOGARITHMIC",biodiversidade:"LOGARITHMIC",inova√ß√£o:"LOGARITHMIC","infraestrutura digital":"LOGARITHMIC",internet:"LOGARITHMIC",telecomunica√ß√µes:"LOGARITHMIC",blockchain:"LOGARITHMIC","intelig√™ncia artificial":"LOGARITHMIC","seguran√ßa digital":"LOGARITHMIC","c√≥digo aberto":"LOGARITHMIC","sa√∫de p√∫blica":"LOGARITHMIC",hospitais:"LOGARITHMIC",medicamentos:"LOGARITHMIC",preven√ß√£o:"LOGARITHMIC",vacinas:"LOGARITHMIC",saneamento:"LOGARITHMIC","transporte p√∫blico":"LOGARITHMIC","mobilidade urbana":"LOGARITHMIC",rodovias:"LOGARITHMIC",portos:"LOGARITHMIC",aeroportos:"LOGARITHMIC","obras p√∫blicas":"LOGARITHMIC",urbanismo:"LOGARITHMIC",habita√ß√£o:"LOGARITHMIC","energia renov√°vel":"LOGARITHMIC",clima:"LOGARITHMIC","meio ambiente":"LOGARITHMIC",preserva√ß√£o:"LOGARITHMIC",√°gua:"LOGARITHMIC",sustentabilidade:"LOGARITHMIC","educa√ß√£o digital":"LOGARITHMIC","pesquisa acad√™mica":"LOGARITHMIC",ci√™ncia:"LOGARITHMIC","pesquisa cient√≠fica":"LOGARITHMIC",laborat√≥rios:"LOGARITHMIC","inova√ß√£o cient√≠fica":"LOGARITHMIC",medicina:"LOGARITHMIC",√©tico:"CONSENSUS",direitos:"CONSENSUS",fundamental:"CONSENSUS",constitucional:"CONSENSUS",dignidade:"CONSENSUS","direitos humanos":"CONSENSUS",igualdade:"CONSENSUS",liberdade:"CONSENSUS","justi√ßa social":"CONSENSUS",acessibilidade:"CONSENSUS",inclus√£o:"CONSENSUS","liberdade de express√£o":"CONSENSUS",transpar√™ncia:"CONSENSUS","educa√ß√£o b√°sica":"CONSENSUS",alfabetiza√ß√£o:"CONSENSUS","educa√ß√£o especial":"CONSENSUS"};function Q(){let{address:e,isConnected:s}=(0,r.useAccount)(),l=(0,j.useChainId)(),[n,i]=(0,t.useState)(""),[d,o]=(0,t.useState)(""),[c,x]=(0,t.useState)([]),[m,g]=(0,t.useState)("LINEAR"),[u,f]=(0,t.useState)(!0),[w,C]=(0,t.useState)(!1),[T,S]=(0,t.useState)(!1),[I,R]=(0,t.useState)(""),{createProposal:M,isPending:P,isConfirming:L,isSuccess:O,error:D,hash:F}=function(){let{data:e,writeContract:a,isPending:r,error:s}=(0,v.useWriteContract)(),[l,n]=(0,t.useState)(!1),[i,d]=(0,t.useState)(null),{isLoading:o,isSuccess:c}=(0,N.useWaitForTransactionReceipt)({hash:e});return{createProposal:async(e,a,t,r=31337)=>{try{{d(null),n(!1);let r=function(e){let a={isProcedural:!1,isResourceAllocation:!1,isTechnical:!1,isEthical:!1,budgetImpact:BigInt(0),requiresExpertise:!1,expertDomain:"0x0000000000000000000000000000000000000000000000000000000000000000"};switch(e){case"LINEAR":return{...a,isProcedural:!0};case"QUADRATIC":return{...a,isResourceAllocation:!0,budgetImpact:BigInt(1e3)};case"LOGARITHMIC":return{...a,isTechnical:!0,requiresExpertise:!0};case"CONSENSUS":return{...a,isEthical:!0};default:return a}}(t),s=JSON.stringify({title:e,description:a}),l=await $(s),i=Date.now();A.saveProposal({title:e,description:a,ipfsHash:l,proposer:"0xDemoUser000000000000000000000000000000000",voteType:t,startTime:i,endTime:i+6048e5,votesFor:"0",votesAgainst:"0",totalVoters:0,state:"ACTIVE",tags:{isProcedural:r.isProcedural,isResourceAllocation:r.isResourceAllocation,isTechnical:r.isTechnical,isEthical:r.isEthical,budgetImpact:r.budgetImpact.toString(),requiresExpertise:r.requiresExpertise}}),await new Promise(e=>setTimeout(e,1e3)),n(!0);return}}catch(e){throw console.error("Error creating proposal:",e),d(e),e}},isPending:!1,isConfirming:!1,isSuccess:l,error:i,hash:void 0}}(),{isConnected:W,publishProposal:B,stats:V}=(0,k.useP2P)({autoConnect:!0}),q=P||L;(0,t.useEffect)(()=>{if(u&&0!==c.length){for(let e of c){let a=e.toLowerCase().trim();if(U[a])return void g(U[a])}g("LINEAR")}},[c,u]),(0,t.useEffect)(()=>{O&&F&&(C(!0),W&&B({hash:F,title:n,description:d,voteType:m,tags:c,chainId:l,timestamp:Date.now(),creator:e}).then(e=>{e?console.log("‚úÖ Proposta publicada na rede P2P"):console.warn("‚ö†Ô∏è Falha ao publicar proposta no P2P")}).catch(e=>{console.error("‚ùå Erro ao publicar proposta no P2P:",e)}),i(""),o(""),x([]),g("LINEAR"),f(!0),setTimeout(()=>C(!1),5e3))},[O,F,W,B,n,d,m,c,l,e]),(0,t.useEffect)(()=>{D&&(S(!0),R(D.message||"Erro desconhecido"),setTimeout(()=>S(!1),5e3))},[D]);let H=async e=>{if(e.preventDefault(),!s){R("Por favor, conecte sua carteira primeiro"),S(!0),setTimeout(()=>S(!1),3e3);return}try{await M(n,d,m,l)}catch(e){console.error("Erro ao criar proposta:",e),R("Erro ao enviar transa√ß√£o"),S(!0),setTimeout(()=>S(!1),5e3)}};return(0,a.jsxs)("form",{onSubmit:H,className:"space-y-4",children:[W&&(0,a.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-2",children:[(0,a.jsx)(y.Network,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-green-800 dark:text-green-200",children:"Rede P2P Conectada"}),(0,a.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-300",children:[V.peers," peers conectados ‚Ä¢ Proposta ser√° propagada automaticamente"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"T√≠tulo da Proposta"}),(0,a.jsx)("input",{id:"title",type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Ex: Alocar recursos para...",required:!0,maxLength:100,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[n.length,"/100 caracteres"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descri√ß√£o"}),(0,a.jsx)("textarea",{id:"description",value:d,onChange:e=>o(e.target.value),placeholder:"Descreva sua proposta em detalhes...",required:!0,maxLength:500,rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[d.length,"/500 caracteres"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (influenciam tipo de vota√ß√£o)"}),(0,a.jsx)(G,{selectedTags:c,onTagsChange:x,maxTags:5,placeholder:"Buscar tags por categoria (ex: educa√ß√£o, sa√∫de, tecnologia)..."}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"üí° Dica: Tags influenciam o tipo de vota√ß√£o automaticamente. Use categorias como educa√ß√£o, sa√∫de, economia, tecnologia, etc."})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de Vota√ß√£o"}),(0,a.jsx)("button",{type:"button",onClick:()=>f(!u),className:`text-xs px-3 py-1 rounded-full transition-colors ${u?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:u?"ü§ñ Autom√°tico":"‚úã Manual"})]}),u&&c.length>0&&(0,a.jsx)("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,a.jsxs)("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:["üí° Tipo selecionado automaticamente baseado nas tags: ",(0,a.jsx)("strong",{children:m})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{f(!1),g("LINEAR")},disabled:u,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"LINEAR"===m?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"} ${u?"opacity-50 cursor-not-allowed":""}`,children:"Linear"}),(0,a.jsx)("button",{type:"button",onClick:()=>{f(!1),g("QUADRATIC")},disabled:u,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"QUADRATIC"===m?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"} ${u?"opacity-50 cursor-not-allowed":""}`,children:"Quadr√°tica"}),(0,a.jsx)("button",{type:"button",onClick:()=>{f(!1),g("LOGARITHMIC")},disabled:u,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"LOGARITHMIC"===m?"bg-yellow-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"} ${u?"opacity-50 cursor-not-allowed":""}`,children:"Logar√≠tmica"}),(0,a.jsx)("button",{type:"button",onClick:()=>{f(!1),g("CONSENSUS")},disabled:u,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"CONSENSUS"===m?"bg-red-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"} ${u?"opacity-50 cursor-not-allowed":""}`,children:"Consenso"})]})]}),(0,a.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["LINEAR"===m&&"1 token = 1 voto. Vota√ß√£o simples e direta.","QUADRATIC"===m&&"Custo quadr√°tico: previne domina√ß√£o por grandes holders.","LOGARITHMIC"===m&&"Reduz peso de grandes holders, favorece participa√ß√£o ampla.","CONSENSUS"===m&&"Requer aprova√ß√£o por m√∫ltiplas federa√ß√µes."]})}),(0,a.jsx)("button",{type:"submit",disabled:!s||q||!n||!d,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 disabled:from-gray-400 disabled:to-gray-400 text-white font-medium py-3 px-4 rounded-lg transition-all flex items-center justify-center gap-2 disabled:cursor-not-allowed",children:q?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}),L?"Confirmando...":"Enviando..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E,{className:"w-4 h-4"}),"Criar Proposta"]})}),w&&F&&(0,a.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-start gap-3 animate-fadeIn",children:[(0,a.jsx)(b,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-1",children:"Proposta criada com sucesso!"}),(0,a.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-300 font-mono break-all mb-2",children:["TX: ",F.substring(0,10),"...",F.substring(F.length-8)]}),W&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-green-600 dark:text-green-400",children:[(0,a.jsx)(y.Network,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["Propagada para ",V.peers," peers na rede P2P"]})]})]})]}),T&&(0,a.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3 animate-fadeIn",children:[(0,a.jsx)(h.AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-1",children:"Erro ao criar proposta"}),(0,a.jsx)("p",{className:"text-xs text-red-700 dark:text-red-300",children:I})]})]}),!s&&(0,a.jsx)("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:"Conecte sua carteira para criar propostas"})]})}let z=(0,l.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),X=(0,l.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),_="http://localhost:8000/subgraphs/name/constituicao2.0",J=`
  query GovernanceStats {
    governanceStats(id: "governance") {
      totalProposals
      activeProposals
      totalVoters
      totalVotingPower
    }
  }
`,Y=`
  query AggregateStats {
    proposals(first: 1000) {
      id
      status
    }
    votes(first: 1000) {
      voter
      votingPower
    }
  }
`;async function K(){try{let e=await fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:J})}),{data:a,errors:t}=await e.json();if(t||!a?.governanceStats){let e=await fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:Y})}),{data:a}=await e.json();if(a){let e=a.proposals||[],t=a.votes||[],r=e.filter(e=>"Active"===e.status||"1"===e.status).length,s=new Set(t.map(e=>e.voter.toLowerCase())),l=t.reduce((e,a)=>e+BigInt(a.votingPower||0),BigInt(0));return{totalProposals:e.length,activeProposals:r,totalVoters:s.size,totalVotingPower:l.toString()}}}if(a?.governanceStats)return a.governanceStats;return{totalProposals:0,activeProposals:0,totalVoters:0,totalVotingPower:"0"}}catch(e){return console.error("Error fetching governance stats:",e),{totalProposals:0,activeProposals:0,totalVoters:0,totalVotingPower:"0"}}}function Z(){let{data:e,isLoading:t,error:r}=(0,T.useQuery)({queryKey:["governance-stats"],queryFn:K,refetchInterval:3e4,staleTime:2e4});if(t)return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>(0,a.jsxs)("div",{className:"glass-effect rounded-xl shadow-lg p-6 border border-gray-200/50 dark:border-gray-700/50 animate-pulse",children:[(0,a.jsx)("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),(0,a.jsx)("div",{className:"h-10 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})]},e))});if(r)return(0,a.jsx)("div",{className:"glass-effect rounded-xl shadow-lg p-6 border border-red-200/50 dark:border-red-700/50",children:(0,a.jsx)("p",{className:"text-red-600 dark:text-red-400",children:"Erro ao carregar estat√≠sticas. Verifique se o subgraph est√° rodando."})});let s=e?.totalVotingPower?(BigInt(e.totalVotingPower)/BigInt(1e18)).toString():"0";return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"glass-effect rounded-xl shadow-lg p-6 border border-gray-200/50 dark:border-gray-700/50 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/40 dark:to-blue-800/40 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,a.jsx)(z,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,a.jsx)("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Total"})]}),(0,a.jsx)("h3",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 dark:from-blue-400 dark:to-blue-600 bg-clip-text text-transparent mb-1",children:e?.totalProposals||0}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400 font-medium",children:"Propostas criadas"})]}),(0,a.jsxs)("div",{className:"glass-effect rounded-xl shadow-lg p-6 border border-gray-200/50 dark:border-gray-700/50 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900/40 dark:to-green-800/40 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,a.jsx)(i,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,a.jsx)("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Ativas"})]}),(0,a.jsx)("h3",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-green-800 dark:from-green-400 dark:to-green-600 bg-clip-text text-transparent mb-1",children:e?.activeProposals||0}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400 font-medium",children:"Em vota√ß√£o agora"})]}),(0,a.jsxs)("div",{className:"glass-effect rounded-xl shadow-lg p-6 border border-gray-200/50 dark:border-gray-700/50 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-purple-100 to-purple-200 dark:from-purple-900/40 dark:to-purple-800/40 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,a.jsx)(n,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,a.jsx)("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Votantes"})]}),(0,a.jsx)("h3",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-purple-800 dark:from-purple-400 dark:to-purple-600 bg-clip-text text-transparent mb-1",children:(e?.totalVoters||0).toLocaleString()}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400 font-medium",children:"Participantes √∫nicos"})]}),(0,a.jsxs)("div",{className:"glass-effect rounded-xl shadow-lg p-6 border border-gray-200/50 dark:border-gray-700/50 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-red-100 to-red-200 dark:from-red-900/40 dark:to-red-800/40 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,a.jsx)(X,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,a.jsx)("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Poder"})]}),(0,a.jsxs)("h3",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-800 dark:from-red-400 dark:to-red-600 bg-clip-text text-transparent mb-1",children:[(Number(s)/1e6).toFixed(2),"M"]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400 font-medium",children:"IDS em circula√ß√£o"})]})]})}let ee=(0,l.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),ea=(0,l.default)("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);function et({proposals:e}){let r=(0,t.useMemo)(()=>{if(!e||0===e.length)return{plutonimiaIndex:0,giniCoefficient:0,topVoterConcentration:0,averageVoteEquality:0};let a=0,t=0,r=0,s=0,l=0;return(e.forEach(e=>{if(!e.votes||0===e.votes.length)return;let n=[...e.votes].sort((e,a)=>{let t=Number(e.weight);return Number(a.weight)-t}),i=n.reduce((e,a)=>e+Number(a.weight),0);if(0===i)return;let d=Number(n[0].weight),o=i/n.length;a+=Math.max(0,100-(d/o-1)*10);let c=0,x=0;for(let e=0;e<n.length;e++)for(let a=0;a<n.length;a++)x+=Math.abs(Number(n[e].weight)-Number(n[a].weight));n.length>1&&(c=x/(2*n.length*i)),t+=(1-c)*100;let m=Math.max(1,Math.floor(.1*n.length)),g=n.slice(0,m).reduce((e,a)=>e+Number(a.weight),0);r+=Math.max(0,100-g/i*100);let u=n.map(e=>Math.abs(Number(e.weight)-o)/o),p=Math.max(0,100-100*(u.reduce((e,a)=>e+a,0)/u.length));s+=p,l++}),0===l)?{plutonimiaIndex:0,giniCoefficient:0,topVoterConcentration:0,averageVoteEquality:0}:{plutonimiaIndex:Math.round(a/l),giniCoefficient:Math.round(t/l),topVoterConcentration:Math.round(r/l),averageVoteEquality:Math.round(s/l)}},[e]),s=e=>e>=80?"text-green-600 dark:text-green-400":e>=60?"text-yellow-600 dark:text-yellow-400":e>=40?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400",l=Math.round((r.plutonimiaIndex+r.giniCoefficient+r.topVoterConcentration+r.averageVoteEquality)/4);return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(ea,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"M√©tricas de Plutonomia"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400 mb-6",children:"An√°lise da distribui√ß√£o de poder de voto no sistema. Quanto mais pr√≥ximo de 100, mais igualit√°rio."}),(0,a.jsx)("div",{className:`mb-6 p-4 rounded-lg ${l>=80?"bg-green-100 dark:bg-green-900/20":l>=60?"bg-yellow-100 dark:bg-yellow-900/20":l>=40?"bg-orange-100 dark:bg-orange-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"√çndice Geral de Igualdade"}),(0,a.jsxs)("p",{className:`text-3xl font-bold ${s(l)}`,children:[l,"/100"]})]}),(0,a.jsx)("div",{className:"text-4xl",children:l>=80?"üéâ":l>=60?"‚úÖ":l>=40?"‚ö†Ô∏è":"üö®"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(ee,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"√çndice Anti-Plutonomia"})]}),(0,a.jsxs)("p",{className:`text-2xl font-bold ${s(r.plutonimiaIndex)}`,children:[r.plutonimiaIndex,"/100"]}),(0,a.jsx)("p",{className:"text-xs text-gray-700 dark:text-gray-400 mt-1",children:"Mede a redu√ß√£o de poder de grandes holders"})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(ea,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Coeficiente de Gini Invertido"})]}),(0,a.jsxs)("p",{className:`text-2xl font-bold ${s(r.giniCoefficient)}`,children:[r.giniCoefficient,"/100"]}),(0,a.jsx)("p",{className:"text-xs text-gray-700 dark:text-gray-400 mt-1",children:"Desigualdade de distribui√ß√£o (100 = igualit√°rio)"})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(h.AlertCircle,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Desconcentra√ß√£o Top 10%"})]}),(0,a.jsxs)("p",{className:`text-2xl font-bold ${s(r.topVoterConcentration)}`,children:[r.topVoterConcentration,"/100"]}),(0,a.jsx)("p",{className:"text-xs text-gray-700 dark:text-gray-400 mt-1",children:"Quanto poder os maiores votantes N√ÉO t√™m"})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(n,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Igualdade M√©dia de Voto"})]}),(0,a.jsxs)("p",{className:`text-2xl font-bold ${s(r.averageVoteEquality)}`,children:[r.averageVoteEquality,"/100"]}),(0,a.jsx)("p",{className:"text-xs text-gray-700 dark:text-gray-400 mt-1",children:"Proximidade √† m√©dia (desvio padr√£o)"})]})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"üìä Como Interpretar"}),(0,a.jsxs)("ul",{className:"text-xs text-blue-800 dark:text-blue-200 space-y-1",children:[(0,a.jsxs)("li",{children:["‚Ä¢ ",(0,a.jsx)("strong",{children:"80-100:"})," Sistema altamente igualit√°rio ‚úÖ"]}),(0,a.jsxs)("li",{children:["‚Ä¢ ",(0,a.jsx)("strong",{children:"60-79:"})," Boa distribui√ß√£o de poder ‚öñÔ∏è"]}),(0,a.jsxs)("li",{children:["‚Ä¢ ",(0,a.jsx)("strong",{children:"40-59:"})," Concentra√ß√£o moderada ‚ö†Ô∏è"]}),(0,a.jsxs)("li",{children:["‚Ä¢ ",(0,a.jsx)("strong",{children:"0-39:"})," Plutonomia detectada üö®"]})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Distribui√ß√£o por Tipo de Vota√ß√£o"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["LINEAR","QUADRATIC","LOGARITHMIC","CONSENSUS"].map(t=>{let r=e.filter(e=>e.voteType===t).length,s=e.length>0?Math.round(r/e.length*100):0;return(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-700/50 rounded",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:["LINEAR"===t&&"Linear","QUADRATIC"===t&&"Quadr√°tica","LOGARITHMIC"===t&&"Logar√≠tmica","CONSENSUS"===t&&"Consenso"]}),(0,a.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[s,"%"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",r,")"]})]},t)})})]})]})}var er=e.i(878894);let es=(0,l.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var el=e.i(896137);function en(){let{address:e}=(0,r.useAccount)(),{status:s,health:l,stats:n,loading:i}=function(e){let[a,r]=(0,t.useState)(null),[s,l]=(0,t.useState)(0),[n,i]=(0,t.useState)(null),[d,o]=(0,t.useState)(!0),{data:c,refetch:x}=(0,el.useReadContract)({address:L,abi:B,functionName:"getSecurityStatus",args:e?[e]:void 0,query:{enabled:!!e}}),{data:m,refetch:g}=(0,el.useReadContract)({address:L,abi:B,functionName:"getWalletHealthScore",args:e?[e]:void 0,query:{enabled:!!e}}),{data:u,refetch:p}=(0,el.useReadContract)({address:L,abi:B,functionName:"getWalletStats",args:e?[e]:void 0,query:{enabled:!!e}}),{data:b}=(0,el.useReadContract)({address:L,abi:B,functionName:"getRemainingDailyLimit",args:e?[e]:void 0,query:{enabled:!!e}});(0,t.useEffect)(()=>{if(!e)return void o(!1);if(c){let[e,a,t,s,l,n]=c;r({isVerified:e,isBlocked:a,riskScore:Number(t),status:["Active","Monitoring","Quarantine","Blocked","Destroyed"][Number(s)],balance:l.toString(),config:{requireBiometric:n.requireBiometric,requireGeolocation:n.requireGeolocation,autoBlockOnFraud:n.autoBlockOnFraud,allowRecovery:n.allowRecovery,minConfirmations:Number(n.minConfirmations),dailyTransferLimit:n.dailyTransferLimit.toString()}})}if(m&&l(Number(m)),u){let[e,a,t,r,s,l]=u;i({totalTransfers:Number(e),totalReceived:a.toString(),totalSent:t.toString(),fraudIncidents:Number(r),recoveryAttempts:Number(s),lastActivityAt:Number(l)})}o(!1)},[e,c,m,u]);let h=async()=>{await Promise.all([x(),g(),p()])};return{status:a,health:s,stats:n,dailyLimitRemaining:b?b.toString():"0",loading:d,refresh:h}}(e);if(!e)return(0,a.jsxs)("div",{className:"glass-panel p-6 text-center",children:[(0,a.jsx)(X,{className:"w-12 h-12 text-gray-500 dark:text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-400",children:"Conecte sua carteira para ver o status de seguran√ßa"})]});if(i)return(0,a.jsx)("div",{className:"glass-panel p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded"}),(0,a.jsx)("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded"}),(0,a.jsx)("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded"})]})});let d=s?.isBlocked?"red":s?.status==="Quarantine"?"orange":s?.status==="Monitoring"?"yellow":"green",c=l>=90?"green":l>=70?"yellow":l>=50?"orange":"red";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"glass-panel p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold gradient-rgb flex items-center gap-2",children:[(0,a.jsx)(X,{className:"w-7 h-7"}),"Carteira Soberana"]}),(0,a.jsxs)("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full bg-${d}-100 dark:bg-${d}-900/30 text-${d}-700 dark:text-${d}-400`,children:[s?.isBlocked?(0,a.jsx)(o.XCircle,{className:"w-6 h-6"}):s?.status==="Quarantine"?(0,a.jsx)(er.AlertTriangle,{className:"w-6 h-6"}):(0,a.jsx)(b,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"font-semibold",children:s?.isBlocked?"Bloqueada":s?.status||"Ativa"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Risk Score"}),(0,a.jsx)("span",{className:`text-2xl font-bold text-${d}-600 dark:text-${d}-400`,children:s?.riskScore||0})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-3 rounded-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 transition-all duration-500",style:{width:`${Math.min(s?.riskScore||0,100)}%`}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-600 dark:text-gray-500",children:[(0,a.jsx)("span",{children:"0 (Seguro)"}),(0,a.jsx)("span",{children:"40 (Quarentena)"}),(0,a.jsx)("span",{children:"70 (Bloqueio)"})]})]})]}),(0,a.jsxs)("div",{className:"glass-panel p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(es,{className:"w-5 h-5"}),"Sa√∫de da Carteira"]}),(0,a.jsxs)("span",{className:`text-3xl font-bold text-${c}-600 dark:text-${c}-400`,children:[l||0,(0,a.jsx)("span",{className:"text-lg",children:"/100"})]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 mb-4",children:(0,a.jsx)("div",{className:`h-4 rounded-full bg-gradient-to-r from-${c}-400 to-${c}-600 transition-all duration-500`,style:{width:`${l||0}%`}})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-400",children:"Status:"}),(0,a.jsx)("span",{className:"ml-2 font-semibold",children:l>=90?"üü¢ Excelente":l>=70?"üü° Bom":l>=50?"üü† Aten√ß√£o":"üî¥ Cr√≠tico"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-400",children:"A√ß√£o:"}),(0,a.jsx)("span",{className:"ml-2 font-semibold",children:l>=90?"Nada":l>=70?"Revisar":l>=50?"Aumentar seguran√ßa":"Imediata"})]})]})]}),(0,a.jsxs)("div",{className:"glass-panel p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Saldo SOB"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl font-bold gradient-rgb mb-2",children:s?.balance?parseFloat(s.balance).toLocaleString("pt-BR",{maximumFractionDigits:2}):"0"}),(0,a.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Tokens Soberanos"})]})]}),(0,a.jsxs)("div",{className:"glass-panel p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Estat√≠sticas"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(ei,{label:"Transfer√™ncias",value:n?.totalTransfers||0,icon:"üì§"}),(0,a.jsx)(ei,{label:"Recebido",value:`${n?.totalReceived||0} SOB`,icon:"üì•"}),(0,a.jsx)(ei,{label:"Enviado",value:`${n?.totalSent||0} SOB`,icon:"üí∏"}),(0,a.jsx)(ei,{label:"Incidentes",value:n?.fraudIncidents||0,icon:(n?.fraudIncidents||0)>0?"‚ö†Ô∏è":"‚úÖ",alert:(n?.fraudIncidents||0)>0})]})]}),(0,a.jsxs)("div",{className:"glass-panel p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Configura√ß√µes Ativas"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(ed,{label:"Biometria Obrigat√≥ria",enabled:s?.config?.requireBiometric}),(0,a.jsx)(ed,{label:"Geolocaliza√ß√£o",enabled:s?.config?.requireGeolocation}),(0,a.jsx)(ed,{label:"Auto-Bloqueio em Fraude",enabled:s?.config?.autoBlockOnFraud}),(0,a.jsx)(ed,{label:"Recupera√ß√£o Habilitada",enabled:s?.config?.allowRecovery})]})]}),s?.isBlocked&&(0,a.jsx)("div",{className:"glass-panel p-6 border-2 border-red-500",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(o.XCircle,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-red-700 dark:text-red-400 mb-2",children:"Carteira Bloqueada"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400 mb-3",children:"Sua carteira foi bloqueada automaticamente devido a atividade suspeita. Seus tokens est√£o seguros."}),(0,a.jsx)("button",{className:"btn-primary text-sm",children:"Iniciar Recupera√ß√£o"})]})]})}),s?.status==="Quarantine"&&(0,a.jsx)("div",{className:"glass-panel p-6 border-2 border-orange-500",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(er.AlertTriangle,{className:"w-6 h-6 text-orange-500 flex-shrink-0 mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-orange-700 dark:text-orange-400 mb-2",children:"Carteira em Quarentena"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Atividade suspeita detectada. Transa√ß√µes grandes requerem confirma√ß√£o adicional de outra carteira."})]})]})})]})}function ei({label:e,value:t,icon:r,alert:s=!1}){return(0,a.jsxs)("div",{className:`p-4 rounded-lg ${s?"bg-red-50 dark:bg-red-900/20":"bg-gray-50 dark:bg-gray-800/50"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-xl",children:r}),(0,a.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-400",children:e})]}),(0,a.jsx)("div",{className:`text-xl font-bold ${s?"text-red-600 dark:text-red-400":""}`,children:t})]})}function ed({label:e,enabled:t}){return(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e}),(0,a.jsxs)("div",{className:`flex items-center gap-2 ${t?"text-green-600":"text-gray-400"}`,children:[t?(0,a.jsx)(b,{className:"w-5 h-5"}):(0,a.jsx)(o.XCircle,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:t?"Ativado":"Desativado"})]})]})}let eo=[{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getIdentity",outputs:[{internalType:"bytes32",name:"identityId",type:"bytes32"},{internalType:"address",name:"primaryWallet",type:"address"},{internalType:"address[]",name:"wallets",type:"address[]"},{internalType:"uint8",name:"walletCount",type:"uint8"},{internalType:"bool",name:"isActive",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"createIdentity",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newWallet",type:"address"}],name:"addWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"walletToRemove",type:"address"}],name:"removeWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newPrimary",type:"address"}],name:"changePrimaryWallet",outputs:[],stateMutability:"nonpayable",type:"function"}];function ec(e){let[a,r]=(0,t.useState)(null),[s,l]=(0,t.useState)(!0),{data:n,refetch:i}=(0,el.useReadContract)({address:O,abi:eo,functionName:"getIdentity",args:e?[e]:void 0,query:{enabled:!!e}}),{writeContract:d,isPending:o}=(0,v.useWriteContract)(),{writeContract:c,isPending:x}=(0,v.useWriteContract)(),{writeContract:m,isPending:g}=(0,v.useWriteContract)(),{writeContract:u,isPending:p}=(0,v.useWriteContract)();return(0,t.useEffect)(()=>{if(!e)return void l(!1);if(n){let[e,a,t,s,l]=n;r({identityId:e,primaryWallet:a,wallets:[...t],walletCount:Number(s),isActive:l})}l(!1)},[e,n]),{identity:a,loading:s,refetch:i,createIdentity:()=>{d({address:O,abi:eo,functionName:"createIdentity"})},addWallet:e=>{c({address:O,abi:eo,functionName:"addWallet",args:[e]})},removeWallet:e=>{m({address:O,abi:eo,functionName:"removeWallet",args:[e]})},changePrimary:e=>{u({address:O,abi:eo,functionName:"changePrimaryWallet",args:[e]})},isCreating:o,isAdding:x,isRemoving:g,isChanging:p}}function ex(){let{address:e}=(0,r.useAccount)(),{identity:s,loading:l,createIdentity:n,addWallet:i,removeWallet:d,changePrimary:o,isAdding:c,isRemoving:x}=ec(e),[m,g]=(0,t.useState)("");return l?(0,a.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})}):s?.isActive?(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Multi-Wallet Manager"}),(0,a.jsx)("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border dark:border-gray-700",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Identity ID"}),(0,a.jsxs)("p",{className:"font-mono text-sm",children:[s.identityId.slice(0,10),"..."]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Carteiras Ativas"}),(0,a.jsxs)("p",{className:"font-bold text-lg",children:[s.walletCount," / 5"]})]})]})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Carteira Prim√°ria"}),(0,a.jsx)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-lg",children:(0,a.jsx)("p",{className:"font-mono text-sm",children:s.primaryWallet})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Todas as Carteiras"}),(0,a.jsx)("div",{className:"space-y-2",children:s.wallets.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:["#",t+1]}),(0,a.jsx)("p",{className:"font-mono text-sm",children:e}),e===s.primaryWallet&&(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Prim√°ria"})]}),(0,a.jsx)("div",{className:"flex space-x-2",children:e!==s.primaryWallet&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>o(e),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Tornar Prim√°ria"}),(0,a.jsx)("button",{onClick:()=>d(e),disabled:x,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition disabled:bg-gray-400",children:"Remover"})]})})]},e))})]}),s.walletCount<5&&(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Adicionar Nova Carteira"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"0x...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"}),(0,a.jsx)("button",{onClick:()=>{m.match(/^0x[a-fA-F0-9]{40}$/)&&(i(m),g(""))},disabled:c||!m.match(/^0x[a-fA-F0-9]{40}$/),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:bg-gray-400",children:"Adicionar"})]}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-500",children:"‚ö†Ô∏è Nova carteira ter√° per√≠odo de espera de 7 dias antes de se tornar ativa"})]})]}):(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Multi-Wallet Identity"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Voc√™ ainda n√£o tem uma identidade multi-carteira. Crie uma para gerenciar at√© 5 carteiras."}),(0,a.jsx)("button",{onClick:n,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition",children:"Criar Identidade"})]})}let em=[{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getWalletStatus",outputs:[{internalType:"uint256",name:"riskScore",type:"uint256"},{internalType:"bool",name:"isBlocked",type:"bool"},{internalType:"uint256",name:"lastActionTime",type:"uint256"},{internalType:"uint256",name:"actionCount24h",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getRecentIncidents",outputs:[{components:[{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"string",name:"reason",type:"string"},{internalType:"uint256",name:"riskScore",type:"uint256"},{internalType:"bool",name:"wasBlocked",type:"bool"}],internalType:"struct FraudDetection.Incident[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getDetectionRules",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint256",name:"weight",type:"uint256"}],internalType:"struct FraudDetection.Rule[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}];function eg(){var e;let{address:s}=(0,r.useAccount)(),{status:l,incidents:n,rules:i,loading:d,refresh:o}=function(e){let[a,r]=(0,t.useState)(null),[s,l]=(0,t.useState)([]),[n,i]=(0,t.useState)([]),[d,o]=(0,t.useState)(!0),{data:c,refetch:x}=(0,el.useReadContract)({address:D,abi:em,functionName:"getWalletStatus",args:e?[e]:void 0,query:{enabled:!!e}}),{data:m,refetch:g}=(0,el.useReadContract)({address:D,abi:em,functionName:"getRecentIncidents",args:e?[e]:void 0,query:{enabled:!!e}}),{data:u,refetch:p}=(0,el.useReadContract)({address:D,abi:em,functionName:"getDetectionRules",args:e?[e]:void 0,query:{enabled:!!e}});return(0,t.useEffect)(()=>{if(!e)return void o(!1);if(c){let[e,a,t,s]=c;r({riskScore:Number(e),isBlocked:a,lastActionTime:Number(t),actionCount24h:Number(s)})}m&&l(m.map(e=>({timestamp:Number(e.timestamp),reason:e.reason,riskScore:Number(e.riskScore),wasBlocked:e.wasBlocked}))),u&&i(u.map(e=>({name:e.name,isActive:e.isActive,weight:Number(e.weight)}))),o(!1)},[e,c,m,u]),{status:a,incidents:s,rules:n,loading:d,refresh:async()=>{await Promise.all([x(),g(),p()])}}}(s);if((0,t.useEffect)(()=>{let e=setInterval(()=>{o()},3e4);return()=>clearInterval(e)},[o]),d)return(0,a.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})});let c=e=>e>=70?"red":e>=40?"orange":e>=20?"yellow":"green";return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Monitor de Fraude"}),(0,a.jsx)("button",{onClick:o,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"üîÑ Atualizar"})]}),l&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Score de Risco"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("p",{className:`text-2xl font-bold text-${c(l.riskScore)}-600 dark:text-${c(l.riskScore)}-400`,children:l.riskScore}),(0,a.jsx)("span",{className:`px-2 py-1 bg-${c(l.riskScore)}-100 dark:bg-${c(l.riskScore)}-900/30 text-${c(l.riskScore)}-800 dark:text-${c(l.riskScore)}-400 text-xs rounded-full`,children:(e=l.riskScore)>=70?"Alto":e>=40?"M√©dio":e>=20?"Baixo":"M√≠nimo"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Status"}),(0,a.jsx)("p",{className:`text-lg font-semibold ${l.isBlocked?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:l.isBlocked?"üîí Bloqueado":"‚úÖ Ativo"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"A√ß√µes (24h)"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:l.actionCount24h})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"√öltima A√ß√£o"}),(0,a.jsx)("p",{className:"text-sm",children:l.lastActionTime>0?new Date(1e3*l.lastActionTime).toLocaleString("pt-BR"):"Nenhuma"})]})]})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Regras de Detec√ß√£o"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.map((e,t)=>(0,a.jsx)("div",{className:`p-3 rounded-lg border-2 ${e.isActive?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700"}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:["Peso: ",e.weight," pontos"]})]}),(0,a.jsx)("div",{className:`w-3 h-3 rounded-full ${e.isActive?"bg-green-500":"bg-gray-400"}`})]})},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Incidentes Recentes"}),0===n.length?(0,a.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-center",children:(0,a.jsx)("p",{className:"text-green-800 dark:text-green-200",children:"‚úÖ Nenhum incidente detectado"})}):(0,a.jsx)("div",{className:"space-y-2",children:n.map((e,t)=>(0,a.jsx)("div",{className:`p-4 rounded-lg border-2 ${e.wasBlocked?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"}`,children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("span",{className:"text-lg",children:e.wasBlocked?"üö´":"‚ö†Ô∏è"}),(0,a.jsx)("p",{className:"font-medium",children:e.reason})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:new Date(1e3*e.timestamp).toLocaleString("pt-BR")})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Score"}),(0,a.jsx)("p",{className:`text-lg font-bold text-${c(e.riskScore)}-600 dark:text-${c(e.riskScore)}-400`,children:e.riskScore})]})]})},t))})]})]})}let eu=[{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getRecoveryStatus",outputs:[{internalType:"bool",name:"isActive",type:"bool"},{internalType:"address",name:"newWallet",type:"address"},{internalType:"uint256",name:"proofsSubmitted",type:"uint256"},{internalType:"uint256",name:"totalScore",type:"uint256"},{internalType:"uint256",name:"guardiansVoted",type:"uint256"},{internalType:"uint256",name:"guardiansRequired",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"compromisedWallet",type:"address"},{internalType:"address",name:"newWallet",type:"address"}],name:"initiateRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"},{internalType:"uint8",name:"proofType",type:"uint8"},{internalType:"bytes32",name:"proofHash",type:"bytes32"}],name:"submitProof",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"},{internalType:"bool",name:"approve",type:"bool"}],name:"voteRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"executeRecovery",outputs:[],stateMutability:"nonpayable",type:"function"}],ep=[{id:0,name:"Biom√©trico",weight:"90-100%"},{id:1,name:"Dispositivo",weight:"85-95%"},{id:2,name:"Documento",weight:"80-90%"},{id:3,name:"Email",weight:"70-80%"},{id:4,name:"Telefone",weight:"70-80%"},{id:5,name:"Localiza√ß√£o",weight:"60-70%"},{id:6,name:"Social",weight:"50-60%"},{id:7,name:"Hist√≥rico",weight:"40-50%"}];function eb(){let{address:e}=(0,r.useAccount)(),{status:s,loading:l,initiateRecovery:n,submitProof:i,executeRecovery:d,isInitiating:o,isSubmitting:c,isExecuting:x}=function(e){let[a,r]=(0,t.useState)(null),[s,l]=(0,t.useState)(!0),{data:n,refetch:i}=(0,el.useReadContract)({address:F,abi:eu,functionName:"getRecoveryStatus",args:e?[e]:void 0,query:{enabled:!!e}}),{writeContract:d,isPending:o}=(0,v.useWriteContract)(),{writeContract:c,isPending:x}=(0,v.useWriteContract)(),{writeContract:m,isPending:g}=(0,v.useWriteContract)(),{writeContract:u,isPending:p}=(0,v.useWriteContract)();return(0,t.useEffect)(()=>{if(!e)return void l(!1);if(n){let[e,a,t,s,l,i,d]=n;r({isActive:e,newWallet:a,proofsSubmitted:Number(t),totalScore:Number(s),guardiansVoted:Number(l),guardiansRequired:Number(i),executionTime:Number(d)})}l(!1)},[e,n]),{status:a,loading:s,refetch:i,initiateRecovery:(e,a)=>{d({address:F,abi:eu,functionName:"initiateRecovery",args:[e,a]})},submitProof:(e,a,t)=>{c({address:F,abi:eu,functionName:"submitProof",args:[e,a,t]})},voteRecovery:(e,a)=>{m({address:F,abi:eu,functionName:"voteRecovery",args:[e,a]})},executeRecovery:e=>{u({address:F,abi:eu,functionName:"executeRecovery",args:[e]})},isInitiating:o,isSubmitting:x,isVoting:g,isExecuting:p}}(e),[m,g]=(0,t.useState)(""),[u,p]=(0,t.useState)(0),[b,h]=(0,t.useState)("");if(l)return(0,a.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})});let y=s?.isActive&&s.guardiansVoted>=s.guardiansRequired&&s.totalScore>=80&&s.executionTime>0&&Date.now()/1e3>=s.executionTime,f=s?.executionTime?Math.max(0,s.executionTime-Date.now()/1e3):0;return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Recupera√ß√£o de Carteira"}),s?.isActive?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-200 dark:border-yellow-800 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-3",children:"üîÑ Recupera√ß√£o em Andamento"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Nova Carteira"}),(0,a.jsxs)("p",{className:"font-mono text-sm",children:[s.newWallet.slice(0,10),"...",s.newWallet.slice(-8)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Provas Submetidas"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:s.proofsSubmitted})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Pontua√ß√£o Total"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("p",{className:`text-xl font-bold ${s.totalScore>=80?"text-green-600":"text-yellow-600"}`,children:s.totalScore}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-500",children:"/ 80 m√≠nimo"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Votos dos Guardi√µes"}),(0,a.jsxs)("p",{className:"text-xl font-bold",children:[s.guardiansVoted," / ",s.guardiansRequired]})]})]})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Submeter Prova"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Prova"}),(0,a.jsx)("select",{value:u,onChange:e=>p(Number(e.target.value)),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:ep.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.weight,")"]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dados da Prova (Hash)"}),(0,a.jsx)("input",{type:"text",value:b,onChange:e=>h(e.target.value),placeholder:"Digite o hash da prova...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),(0,a.jsx)("button",{onClick:()=>{e&&b&&(i(e,u,`0x${b.padEnd(64,"0")}`),h(""))},disabled:c||!b,className:"w-full px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:bg-gray-400",children:c?"Submetendo...":"Submeter Prova"})]})]}),s.totalScore>=80&&s.guardiansVoted>=s.guardiansRequired&&(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Executar Recupera√ß√£o"}),f>0?(0,a.jsx)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-center",children:(0,a.jsxs)("p",{className:"text-blue-800 dark:text-blue-200",children:["‚è≥ Per√≠odo de contesta√ß√£o: ",Math.ceil(f/3600)," horas restantes"]})}):y?(0,a.jsx)("button",{onClick:()=>{e&&d(e)},disabled:x,className:"w-full px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition disabled:bg-gray-400 font-semibold text-lg",children:x?"Executando...":"‚úÖ Executar Recupera√ß√£o"}):(0,a.jsx)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg text-center",children:(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-400",children:"Requisitos ainda n√£o atendidos"})})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"‚ÑπÔ∏è Como Funciona"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-1",children:[(0,a.jsx)("li",{children:"‚Ä¢ Inicie a recupera√ß√£o informando a nova carteira"}),(0,a.jsx)("li",{children:"‚Ä¢ Submeta provas de identidade (m√≠nimo 80 pontos)"}),(0,a.jsx)("li",{children:"‚Ä¢ Guardi√µes votam na aprova√ß√£o (quorum 2/3)"}),(0,a.jsx)("li",{children:"‚Ä¢ Aguarde 72h para contesta√ß√£o"}),(0,a.jsx)("li",{children:"‚Ä¢ Execute a recupera√ß√£o e transfira os tokens"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova Carteira (destino)"}),(0,a.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"0x...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),(0,a.jsx)("button",{onClick:()=>{e&&m.match(/^0x[a-fA-F0-9]{40}$/)&&n(e,m)},disabled:o||!m.match(/^0x[a-fA-F0-9]{40}$/),className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:bg-gray-400 font-semibold",children:o?"Iniciando...":"Iniciar Recupera√ß√£o"})]})]})]})}var eh=e.i(599509);function ey(){let{address:e}=(0,r.useAccount)(),{transfer:s,isPending:l,isSuccess:n,error:i}=function(){let[e,a]=(0,t.useState)(!1),[r,s]=(0,t.useState)(null),{writeContract:l,isSuccess:n,data:i}=(0,v.useWriteContract)();return{transfer:async e=>{a(!0),s(null);try{let a=e.biometricHash||"0x0000000000000000000000000000000000000000000000000000000000000000",t=e.geolocation||"",r=e.deviceFingerprint||"0x0000000000000000000000000000000000000000000000000000000000000000";l({address:L,abi:B,functionName:"secureTransfer",args:[e.to,e.amount,a,t,r]})}catch(e){s(e.message||"Transfer failed")}finally{a(!1)}},isPending:e,isSuccess:n,error:r,hash:i}}(),[d,o]=(0,t.useState)(""),[c,x]=(0,t.useState)(""),[m,g]=(0,t.useState)(!1),[u,p]=(0,t.useState)(!1),[b,h]=(0,t.useState)(""),[y,f]=(0,t.useState)(""),j=async e=>{if(e.preventDefault(),!d.match(/^0x[a-fA-F0-9]{40}$/))return void alert("Endere√ßo do destinat√°rio inv√°lido");if(0>=parseFloat(c))return void alert("Valor deve ser maior que zero");let a=`0x${navigator.userAgent.slice(0,64).split("").map(e=>e.charCodeAt(0).toString(16)).join("").padEnd(64,"0")}`,t=m&&b?`0x${b.padEnd(64,"0")}`:void 0;await s({to:d,amount:(0,eh.parseEther)(c),biometricHash:t,geolocation:u?y:void 0,deviceFingerprint:a}),n&&(o(""),x(""),h(""),f(""))};return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Transfer√™ncia Segura"}),e?(0,a.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Destinat√°rio"}),(0,a.jsx)("input",{type:"text",value:d,onChange:e=>o(e.target.value),placeholder:"0x...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor (SOB)"}),(0,a.jsx)("input",{type:"number",step:"0.000001",value:c,onChange:e=>x(e.target.value),placeholder:"0.0",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",required:!0})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Op√ß√µes de Seguran√ßa"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:m,onChange:e=>g(e.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Verifica√ß√£o Biom√©trica"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Adiciona camada extra de seguran√ßa"})]})]}),m&&(0,a.jsxs)("div",{className:"mt-2 ml-8",children:[(0,a.jsx)("input",{type:"text",value:b,onChange:e=>h(e.target.value),placeholder:"Hash da impress√£o digital",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-600 dark:text-gray-500",children:"Em produ√ß√£o: captura autom√°tica via WebAuthn"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:u,onChange:e=>p(e.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Verifica√ß√£o de Localiza√ß√£o"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Detecta transfer√™ncias de locais suspeitos"})]})]}),u&&(0,a.jsx)("div",{className:"mt-2 ml-8",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",value:y,readOnly:!0,placeholder:"Clique para capturar",className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800"}),(0,a.jsx)("button",{type:"button",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{f(`${e.coords.latitude},${e.coords.longitude}`)},e=>{alert("Erro ao capturar geolocaliza√ß√£o: "+e.message)}):alert("Geolocaliza√ß√£o n√£o suportada pelo navegador")},className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"üìç Capturar"})]})})]})]}),(0,a.jsx)("div",{className:"border-t pt-4",children:(0,a.jsx)("button",{type:"submit",disabled:l,className:"w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:bg-gray-400 font-semibold text-lg",children:l?"Processando...":"üí∞ Transferir"})}),i&&(0,a.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,a.jsxs)("p",{className:"text-red-800 dark:text-red-200 text-sm",children:["‚ùå Erro: ",i]})}),n&&(0,a.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:(0,a.jsx)("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"‚úÖ Transfer√™ncia realizada com sucesso!"})}),(0,a.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"‚ÑπÔ∏è Seguran√ßa"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[(0,a.jsx)("li",{children:"‚Ä¢ A transfer√™ncia ser√° analisada em tempo real"}),(0,a.jsx)("li",{children:"‚Ä¢ Score de risco ser√° calculado automaticamente"}),(0,a.jsx)("li",{children:"‚Ä¢ Transfer√™ncias suspeitas podem ser bloqueadas"}),(0,a.jsx)("li",{children:"‚Ä¢ Dispositivo e padr√µes de uso s√£o verificados"})]})]})]}):(0,a.jsx)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-center",children:(0,a.jsx)("p",{className:"text-yellow-800 dark:text-yellow-200",children:"‚ö†Ô∏è Conecte sua carteira para realizar transfer√™ncias"})})]})}var ef=e.i(121821),ej=e.i(426254),ev=e.i(210920);function eN(e={}){let{enabled:a=!0,onLogs:r,config:s,...l}=e,n=(0,ev.useConfig)(e),i=(0,j.useChainId)({config:n}),d=e.chainId??i;(0,t.useEffect)(()=>{if(a&&r)return function(e,a){let t,r,{syncConnectedChain:s=e._internal.syncConnectedChain,...l}=a,n=a=>{t&&t();let r=e.getClient({chainId:a});return t=(0,ej.getAction)(r,ef.watchContractEvent,"watchContractEvent")(l)},i=n(a.chainId);return s&&!a.chainId&&(r=e.subscribe(({chainId:e})=>e,async e=>n(e))),()=>{i?.(),r?.()}}(n,{...l,chainId:d,onLogs:r})},[d,n,a,r,l.abi,l.address,l.args,l.batch,l.eventName,l.fromBlock,l.onError,l.poll,l.pollingInterval,l.strict,l.syncConnectedChain])}var ek=e.i(285973);let ew=[{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getWalletIdentity",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"validateWalletTokens",outputs:[{internalType:"bool",name:"valid",type:"bool"},{internalType:"string",name:"reason",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"citizen",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"citizen",type:"address"}],name:"balanceOfRaw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"citizen",type:"address"}],name:"getCitizenInfo",outputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"totalEarned",type:"uint256"},{internalType:"uint256",name:"lastActivity",type:"uint256"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"address",name:"originalWallet",type:"address"},{internalType:"uint256",name:"checkpointCount",type:"uint256"},{internalType:"uint256",name:"activityCount",type:"uint256"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!0,internalType:"bytes32",name:"identityId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TokensBound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"fromWallet",type:"address"},{indexed:!0,internalType:"address",name:"toWallet",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"identityId",type:"bytes32"}],name:"TokensMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"address",name:"originalWallet",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"string",name:"reason",type:"string"}],name:"TokensDestroyed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!0,internalType:"bytes32",name:"identityId",type:"bytes32"}],name:"WalletIdentityLinked",type:"event"}],eC=[{inputs:[{internalType:"address",name:"fromWallet",type:"address"},{internalType:"address",name:"toWallet",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"migrateTokens",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];function eT(){let{address:e}=(0,r.useAccount)(),[a,s]=(0,t.useState)(null),[l,n]=(0,t.useState)(!1),[i,d]=(0,t.useState)(null),[o,c]=(0,t.useState)([]),{data:x}=(0,el.useReadContract)({address:W,abi:ew,functionName:"getWalletIdentity",args:e?[e]:void 0,query:{enabled:!!e}}),{data:m}=(0,el.useReadContract)({address:W,abi:ew,functionName:"validateWalletTokens",args:e?[e]:void 0,query:{enabled:!!e}}),{data:g}=(0,el.useReadContract)({address:W,abi:ew,functionName:"balanceOf",args:e?[e]:void 0,query:{enabled:!!e}}),{data:u}=(0,el.useReadContract)({address:W,abi:ew,functionName:"balanceOfRaw",args:e?[e]:void 0,query:{enabled:!!e}}),{data:p}=(0,el.useReadContract)({address:W,abi:ew,functionName:"getCitizenInfo",args:e?[e]:void 0,query:{enabled:!!e}});eN({address:W,abi:ew,eventName:"TokensMigrated",onLogs:e=>{let a=e.map(e=>({fromWallet:e.args.fromWallet,toWallet:e.args.toWallet,amount:(0,ek.formatEther)(e.args.amount),identityId:e.args.identityId,timestamp:Date.now()}));c(e=>[...a,...e].slice(0,10))}}),eN({address:W,abi:ew,eventName:"TokensDestroyed",onLogs:a=>{a.some(a=>a.args.wallet===e)&&d("‚ö†Ô∏è Tokens stolen detected and destroyed! Please use wallet recovery.")}}),(0,t.useEffect)(()=>{if(!e)return void s(null);let[a,t]=m||[!1,"Not checked"],r=p?.[4];s({address:e,identityId:x||"0x0",balance:g?(0,ek.formatEther)(g):"0",rawBalance:u?(0,ek.formatEther)(u):"0",isValid:a,validationReason:t,originalWallet:r||"0x0",isOriginal:!!r&&r.toLowerCase()===e.toLowerCase(),isMigrated:!!r&&r.toLowerCase()!==e.toLowerCase()})},[e,x,m,g,u,p]);let{writeContractAsync:b}=(0,v.useWriteContract)();return{walletInfo:a,isLoading:l,error:i,recentMigrations:o,migrate:async(a,t)=>{if(!e)return void d("No wallet connected");n(!0),d(null);try{let r=BigInt(Math.floor(1e18*parseFloat(t)));return await b({address:O,abi:eC,functionName:"migrateTokens",args:[e,a,r]})}catch(e){throw d(e.message||"Migration failed"),e}finally{n(!1)}},hasIdentity:!!x&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==x,isSecure:a?.isValid??!1,needsAttention:!!a&&!a.isValid}}let eS=(0,l.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),eI=(0,l.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function eA(){let{walletInfo:e,isLoading:t,hasIdentity:r,isSecure:s,needsAttention:l,recentMigrations:n}=eT();return t?(0,a.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 border border-gray-200 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(eI,{className:"w-5 h-5 text-blue-400 animate-spin"}),(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Loading wallet security status..."})]})}):e?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:`rounded-lg p-6 border-2 ${l?"border-red-500 dark:border-red-600 bg-red-50 dark:bg-red-900/20":s?"border-green-500 dark:border-green-600 bg-green-50 dark:bg-green-900/20":"border-yellow-500 dark:border-yellow-600 bg-yellow-50 dark:bg-yellow-900/20"}`,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[l?(0,a.jsx)(o.XCircle,{className:"w-6 h-6 text-red-400"}):s?(0,a.jsx)(b,{className:"w-6 h-6 text-green-400"}):(0,a.jsx)(er.AlertTriangle,{className:"w-6 h-6 text-yellow-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Wallet Security Status"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r?l?"Security issue detected":s&&e.isMigrated?"Secure (Migrated)":s&&e.isOriginal?"Secure (Original)":"Checking...":"No identity linked"})]})]}),(0,a.jsx)(X,{className:"w-8 h-8 text-gray-400 dark:text-gray-600"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 border border-gray-200 dark:border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"SOB Balance"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[parseFloat(e.balance).toFixed(2)," SOB"]}),e.balance!==e.rawBalance&&(0,a.jsxs)("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:["Raw: ",parseFloat(e.rawBalance).toFixed(2)," SOB"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 border border-gray-200 dark:border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)(eS,{className:"w-4 h-4 text-purple-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Wallet Type"})]}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[e.isOriginal&&"Original Wallet",e.isMigrated&&"Migrated Wallet",!e.isOriginal&&!e.isMigrated&&"New Wallet"]}),e.isMigrated&&(0,a.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 font-mono",children:["From: ",e.originalWallet.slice(0,6),"...",e.originalWallet.slice(-4)]})]})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-900/30 rounded-lg border border-gray-200 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Validation Status:"}),(0,a.jsx)("span",{className:`text-sm font-medium ${e.isValid?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:e.validationReason})]})}),r&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-900/30 rounded-lg border border-gray-200 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Identity ID:"}),(0,a.jsxs)("span",{className:"text-sm font-mono text-blue-600 dark:text-blue-400",children:[e.identityId.slice(0,10),"...",e.identityId.slice(-8)]})]})}),l&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border-2 border-red-500 dark:border-red-500/50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(er.AlertTriangle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-red-700 dark:text-red-400 mb-1",children:"Security Alert"}),(0,a.jsx)("p",{className:"text-sm text-red-600 dark:text-red-300",children:e.validationReason}),(0,a.jsx)("button",{className:"mt-3 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Initiate Recovery"})]})]})})]}),n.length>0&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 border border-gray-200 dark:border-gray-800",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,a.jsx)(eI,{className:"w-5 h-5 text-blue-400"}),(0,a.jsx)("span",{children:"Recent Token Migrations"})]}),(0,a.jsx)("div",{className:"space-y-3",children:n.map((e,t)=>(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-950/50 rounded-lg p-3 border border-gray-200 dark:border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Amount"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[parseFloat(e.amount).toFixed(2)," SOB"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-500",children:[(0,a.jsxs)("span",{className:"font-mono",children:[e.fromWallet.slice(0,6),"...",e.fromWallet.slice(-4)]}),(0,a.jsx)("span",{children:"‚Üí"}),(0,a.jsxs)("span",{className:"font-mono",children:[e.toWallet.slice(0,6),"...",e.toWallet.slice(-4)]})]})]},t))})]}),(0,a.jsx)("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-500/30 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(X,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[(0,a.jsx)("strong",{children:"Wallet Binding:"})," Your SOB tokens are bound to your identity, not your wallet. This prevents theft - stolen tokens are automatically destroyed. You can safely use up to 5 wallets and migrate tokens between them."]})})]})})]}):null}let eR=(0,l.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var eM=e.i(252754);let eE=(0,l.default)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);function eP(){let{address:e}=(0,r.useAccount)(),{walletInfo:s,migrate:l,isLoading:n,error:i}=eT(),{identity:d}=ec(e),[o,c]=(0,t.useState)(""),[x,m]=(0,t.useState)(""),[g,u]=(0,t.useState)(null),[p,y]=(0,t.useState)(null),f=s?parseFloat(s.balance):0,j=d?.wallets||[],v=j&&j.length>1,N=async()=>{if(!o||!x)return void y("Please select a wallet and enter an amount");let e=parseFloat(x);if(isNaN(e)||e<=0)return void y("Invalid amount");if(e>f)return void y("Insufficient balance");y(null),u(null);try{let e=await l(o,x);u(e),m(""),c("")}catch(e){y(e.message||"Migration failed")}};if(!v)return(0,a.jsx)("div",{className:"bg-gray-800 dark:bg-gray-900 dark:bg-gray-950 rounded-lg p-6 border border-gray-700 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(h.AlertCircle,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Token Migration Not Available"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"You need at least 2 wallets to migrate tokens. Add a new wallet using the Multi-Wallet Manager."})]})]})});let k=j?.filter(a=>a.toLowerCase()!==e?.toLowerCase())||[];return(0,a.jsxs)("div",{className:"bg-gray-800 dark:bg-gray-900 dark:bg-gray-950 rounded-lg p-6 border border-gray-700 dark:border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)(E,{className:"w-6 h-6 text-blue-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Migrate Tokens Between Wallets"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Safely move SOB tokens to another wallet in your identity"})]})]}),(0,a.jsx)("div",{className:"bg-gray-900 dark:bg-gray-950/50 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Available Balance"}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-white",children:[f.toFixed(2)," SOB"]})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount to Migrate"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"number",value:x,onChange:e=>m(e.target.value),placeholder:"0.00",step:"0.01",min:"0",max:f,className:"w-full bg-gray-900 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"}),(0,a.jsx)("button",{onClick:()=>m(f.toString()),className:"absolute right-3 top-1/2 -translate-y-1/2 px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-xs font-medium transition-colors",children:"MAX"})]}),x&&(0,a.jsxs)("p",{className:"mt-1 text-xs text-gray-400",children:["Remaining: ",(f-parseFloat(x||"0")).toFixed(2)," SOB"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Destination Wallet"}),(0,a.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"w-full bg-gray-900 border border-gray-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select a wallet..."}),k.map(e=>(0,a.jsxs)("option",{value:e,children:[e.slice(0,6),"...",e.slice(-4)]},e))]})]}),e&&o&&(0,a.jsxs)("div",{className:"bg-gray-900 dark:bg-gray-950/30 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eM.Wallet,{className:"w-4 h-4 text-blue-400"}),(0,a.jsxs)("span",{className:"text-sm font-mono text-gray-300",children:[e.slice(0,6),"...",e.slice(-4)]})]}),(0,a.jsx)(eR,{className:"w-5 h-5 text-gray-500"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eM.Wallet,{className:"w-4 h-4 text-green-400"}),(0,a.jsxs)("span",{className:"text-sm font-mono text-gray-300",children:[o.slice(0,6),"...",o.slice(-4)]})]})]}),x&&(0,a.jsx)("div",{className:"mt-3 text-center",children:(0,a.jsxs)("span",{className:"text-lg font-bold text-white",children:[parseFloat(x).toFixed(2)," SOB"]})})]}),(i||p)&&(0,a.jsx)("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(h.AlertCircle,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{className:"text-sm text-red-300",children:i||p})]})}),g&&(0,a.jsx)("div",{className:"bg-green-900/20 border border-green-500/50 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(b,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-green-300 mb-1",children:"Migration successful!"}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 font-mono break-all",children:["Tx: ",g]})]})]})}),(0,a.jsx)("button",{onClick:N,disabled:n||!x||!o,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg px-6 py-3 font-semibold text-white transition-colors flex items-center justify-center space-x-2",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eE,{className:"w-5 h-5 animate-spin"}),(0,a.jsx)("span",{children:"Migrating..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Migrate Tokens"})]})})]}),(0,a.jsx)("div",{className:"mt-6 bg-blue-950/20 border border-blue-500/30 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(h.AlertCircle,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1 text-sm text-blue-300",children:[(0,a.jsx)("p",{className:"font-semibold mb-1",children:"Safe Migration"}),(0,a.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,a.jsx)("li",{children:"‚Ä¢ Only works between wallets of the same identity"}),(0,a.jsx)("li",{children:"‚Ä¢ Original wallet reference is preserved"}),(0,a.jsx)("li",{children:"‚Ä¢ Tokens remain secure after migration"}),(0,a.jsx)("li",{children:"‚Ä¢ Transaction is atomic (all or nothing)"})]})]})]})})]})}let eL=(0,l.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var eO=e.i(174886);function eD({address:e,isPrimary:r,isCurrent:s,identityId:l}){let[n,i]=t.default.useState(!1),d=`${e.slice(0,6)}...${e.slice(-4)}`;return(0,a.jsxs)("div",{className:`
      bg-gray-900 dark:bg-gray-950 rounded-lg p-4 border-2 transition-all
      ${s?"border-blue-500":"border-gray-700"}
      ${r?"ring-2 ring-yellow-500 ring-offset-2 ring-offset-gray-800":""}
    `,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eM.Wallet,{className:`w-5 h-5 ${s?"text-blue-400":"text-gray-400"}`}),r&&(0,a.jsx)(eL,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[s&&(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-900/50 text-blue-300 text-xs rounded-full",children:"Active"}),r&&(0,a.jsx)("span",{className:"px-2 py-1 bg-yellow-900/50 text-yellow-300 text-xs rounded-full",children:"Primary"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)("code",{className:"text-sm font-mono text-white",children:d}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e),i(!0),setTimeout(()=>i(!1),2e3)},className:"p-1 hover:bg-gray-800 rounded transition-colors",title:"Copy address",children:(0,a.jsx)(eO.Copy,{className:`w-3 h-3 ${n?"text-green-400":"text-gray-400"}`})})]}),l&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[(0,a.jsx)(X,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Linked to Identity"})]})]})}function eF(){let{address:e}=(0,r.useAccount)(),{identity:t,loading:s}=ec(e),{walletInfo:l,hasIdentity:n}=eT();if(s)return(0,a.jsx)("div",{className:"bg-gray-800 dark:bg-gray-900 dark:bg-gray-950 rounded-lg p-6 border border-gray-700 dark:border-gray-800",children:(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})});if(!t||!t.isActive)return(0,a.jsx)("div",{className:"bg-gray-800 dark:bg-gray-900 dark:bg-gray-950 rounded-lg p-6 border border-gray-700 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(er.AlertTriangle,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Multi-Wallet Identity"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"You need to create a multi-wallet identity first."})]})]})});let i=t.wallets.length;return(0,a.jsxs)("div",{className:"bg-gray-800 dark:bg-gray-900 dark:bg-gray-950 rounded-lg p-6 border border-gray-700 dark:border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(eM.Wallet,{className:"w-6 h-6 text-blue-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Your Wallets"}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[i," of ",5," wallets linked"]})]})]}),n&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-900/20 rounded-lg",children:[(0,a.jsx)(b,{className:"w-4 h-4 text-green-400"}),(0,a.jsx)("span",{className:"text-sm text-green-300",children:"Secure"})]})]}),(0,a.jsx)("div",{className:"bg-gray-900 dark:bg-gray-950/50 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs text-gray-400 block mb-1",children:"Identity ID"}),(0,a.jsxs)("code",{className:"text-sm font-mono text-white",children:[t.identityId.slice(0,10),"...",t.identityId.slice(-8)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs text-gray-400 block mb-1",children:"Primary Wallet"}),(0,a.jsxs)("code",{className:"text-sm font-mono text-white",children:[t.primaryWallet.slice(0,6),"...",t.primaryWallet.slice(-4)]})]})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:t.wallets.map(r=>(0,a.jsx)(eD,{address:r,isPrimary:r.toLowerCase()===t.primaryWallet.toLowerCase(),isCurrent:r.toLowerCase()===e?.toLowerCase(),identityId:n?t.identityId:null},r))}),l&&(0,a.jsx)("div",{className:"bg-blue-950/20 border border-blue-500/30 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(X,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-sm text-blue-300 mb-2",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Current Wallet Balance:"})," ",parseFloat(l.balance).toFixed(2)," SOB"]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:l.isValid?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b,{className:"w-4 h-4 text-green-400"}),(0,a.jsx)("span",{className:"text-xs text-green-300",children:"Tokens validated and secure"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.XCircle,{className:"w-4 h-4 text-red-400"}),(0,a.jsxs)("span",{className:"text-xs text-red-300",children:["Validation issue: ",l.validationReason]})]})})]})]})}),i<5&&(0,a.jsx)("div",{className:"mt-6 bg-gray-900/50 border border-gray-700 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["üí° You can add up to ",5-i," more wallet(s) to your identity using the Multi-Wallet Manager."]})})]})}function eW(){return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(eA,{}),(0,a.jsx)(eF,{}),(0,a.jsx)(eP,{})]})}var eB=e.i(173924);function e$(){let{address:e,isConnected:s}=(0,r.useAccount)(),[l,n]=(0,t.useState)("dashboard");return s?(0,a.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"üîê Carteira Soberana"}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-400",children:"Sistema integrado de seguran√ßa com 5 camadas de prote√ß√£o"})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md mb-6",children:(0,a.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[{id:"dashboard",name:"Dashboard",icon:"üõ°Ô∏è"},{id:"transfer",name:"Transferir",icon:"üí∞"},{id:"wallets",name:"Multi-Wallet",icon:"üëõ"},{id:"binding",name:"Seguran√ßa SOB",icon:"üîó"},{id:"fraud",name:"Monitor",icon:"üîç"},{id:"recovery",name:"Recupera√ß√£o",icon:"üîÑ"},{id:"settings",name:"Rede",icon:"üåê"}].map(e=>(0,a.jsxs)("button",{onClick:()=>n(e.id),className:`flex items-center space-x-2 px-6 py-4 font-semibold transition whitespace-nowrap ${l===e.id?"border-b-2 border-blue-600 dark:border-blue-400 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,a.jsx)("span",{className:"text-xl",children:e.icon}),(0,a.jsx)("span",{children:e.name})]},e.id))})}),(0,a.jsxs)("div",{className:"transition-all duration-300",children:["dashboard"===l&&(0,a.jsx)(en,{}),"transfer"===l&&(0,a.jsx)(ey,{}),"wallets"===l&&(0,a.jsx)(ex,{}),"binding"===l&&(0,a.jsx)(eW,{}),"fraud"===l&&(0,a.jsx)(eg,{}),"recovery"===l&&(0,a.jsx)(eb,{}),"settings"===l&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"üåê Configura√ß√µes de Rede"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Selecione a rede blockchain para suas transa√ß√µes. O sistema suporta m√∫ltiplas chains EVM."}),(0,a.jsx)(eB.ChainSelector,{showTestnets:!1})]})]}),(0,a.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"üìã Camadas de Seguran√ßa Ativas"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Prova de Vida"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Multi-Wallet"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Detec√ß√£o Fraude"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Recupera√ß√£o"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Token SOB"})]})]})]})]}):(0,a.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-12 text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"üîê"}),(0,a.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Carteira Soberana"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sistema de seguran√ßa de 5 camadas com prote√ß√£o contra fraude, multi-wallet e recupera√ß√£o avan√ßada"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border dark:border-blue-800",children:[(0,a.jsx)("div",{className:"text-3xl mb-2",children:"üîí"}),(0,a.jsx)("h3",{className:"font-semibold mb-1",children:"Prova de Vida"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Verifica√ß√£o biom√©trica e comportamental"})]}),(0,a.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border dark:border-green-800",children:[(0,a.jsx)("div",{className:"text-3xl mb-2",children:"üëõ"}),(0,a.jsx)("h3",{className:"font-semibold mb-1",children:"Multi-Wallet"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"At√© 5 carteiras por identidade"})]}),(0,a.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border dark:border-purple-800",children:[(0,a.jsx)("div",{className:"text-3xl mb-2",children:"üîç"}),(0,a.jsx)("h3",{className:"font-semibold mb-1",children:"Detec√ß√£o de Fraude"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"An√°lise em tempo real com 8 regras"})]})]}),(0,a.jsx)("p",{className:"text-lg text-blue-600 font-semibold",children:"üëÜ Conecte sua carteira para come√ßar"})]})})}let eV=()=>{let{isConnected:e,isConnecting:r,error:s,stats:l,connect:n,disconnect:i,subscribe:d}=(0,k.useP2P)({autoConnect:!0}),[o,c]=(0,t.useState)([]),[x,m]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let e=d("proposal:new",e=>{c(a=>[{type:"proposal",data:e,timestamp:Date.now()},...a.slice(0,9)])}),a=d("vote:new",e=>{c(a=>[{type:"vote",data:e,timestamp:Date.now()},...a.slice(0,9)])}),t=d("dao:mitosis",e=>{c(a=>[{type:"mitosis",data:e,timestamp:Date.now()},...a.slice(0,9)])});return()=>{e(),a(),t()}},[d]),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:`w-3 h-3 rounded-full ${r?"bg-yellow-500":e?"bg-green-500":s?"bg-red-500":"bg-gray-500"} animate-pulse`}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Rede P2P"}),(0,a.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-400",children:e?"Conectado":"Desconectado"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[!e&&!r&&(0,a.jsx)("button",{onClick:n,className:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Conectar"}),e&&(0,a.jsx)("button",{onClick:i,className:"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600 transition",children:"Desconectar"}),(0,a.jsxs)("button",{onClick:()=>m(!x),className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition",children:[x?"‚ñº":"‚ñ∂"," Detalhes"]})]})]}),s&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded",children:(0,a.jsxs)("p",{className:"text-sm text-red-700 dark:text-red-300",children:["‚ö†Ô∏è ",s.message]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded",children:[(0,a.jsx)("div",{className:"text-xs text-gray-700 dark:text-gray-400 mb-1",children:"Peers"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.peers})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded",children:[(0,a.jsx)("div",{className:"text-xs text-gray-700 dark:text-gray-400 mb-1",children:"Mensagens"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.metrics.messagesReceived})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded",children:[(0,a.jsx)("div",{className:"text-xs text-gray-700 dark:text-gray-400 mb-1",children:"Propostas"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.metrics.proposalsReceived})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded",children:[(0,a.jsx)("div",{className:"text-xs text-gray-700 dark:text-gray-400 mb-1",children:"Votos"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.metrics.votesReceived})]})]}),x&&e&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Seu Peer ID"}),(0,a.jsx)("button",{onClick:()=>navigator.clipboard.writeText(l.peerId||""),className:"text-xs text-blue-500 hover:text-blue-600",children:"üìã Copiar"})]}),(0,a.jsx)("code",{className:"block w-full p-2 bg-gray-100 dark:bg-gray-900 rounded text-xs font-mono text-gray-800 dark:text-gray-200 overflow-x-auto",children:l.peerId||"N/A"})]}),o.length>0&&(0,a.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Mensagens Recentes"}),(0,a.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.map((e,t)=>{var r;let s;return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 dark:bg-gray-700/50 rounded text-sm",children:[(0,a.jsx)("span",{className:"text-lg",children:(e=>{switch(e){case"proposal":return"üìù";case"vote":return"üó≥Ô∏è";case"mitosis":return"üß¨";default:return"üì°"}})(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-gray-900 dark:text-white font-medium capitalize truncate",children:e.type}),(0,a.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.data.id||e.data.proposalId||"N/A"})]}),(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-500 whitespace-nowrap",children:(r=e.timestamp,(s=Date.now()-r)<1e3?"agora":s<6e4?`${Math.floor(s/1e3)}s atr\xe1s`:s<36e5?`${Math.floor(s/6e4)}m atr\xe1s`:`${Math.floor(s/36e5)}h atr\xe1s`)})]},t)})})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"M√©tricas de Rede"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-400",children:"Recebidas:"}),(0,a.jsx)("span",{className:"font-mono text-gray-900 dark:text-white",children:l.metrics.messagesReceived})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-400",children:"Enviadas:"}),(0,a.jsx)("span",{className:"font-mono text-gray-900 dark:text-white",children:l.metrics.messagesSent})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-400",children:"Propostas:"}),(0,a.jsx)("span",{className:"font-mono text-gray-900 dark:text-white",children:l.metrics.proposalsReceived})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-400",children:"Votos:"}),(0,a.jsx)("span",{className:"font-mono text-gray-900 dark:text-white",children:l.metrics.votesReceived})]})]})]})]}),r&&(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-700 dark:text-gray-400",children:"Conectando √† rede P2P..."})]}),!e&&!r&&!s&&(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Desconectado da rede P2P"}),(0,a.jsx)("button",{onClick:n,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"üîó Conectar Agora"})]})]})};var eq=e.i(22530),eH=e.i(443816);let eG=(0,l.default)("vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);function eU(){let[e,r]=(0,t.useState)("governance"),{data:s=[]}=R();return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-white via-gray-50 to-blue-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-blue-950/20",children:[(0,a.jsx)("header",{className:"border-b border-gray-200/50 dark:border-gray-800/50 glass-effect sticky top-0 z-50 shadow-sm",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between animate-fadeIn",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 via-green-600 to-red-600 rounded-xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-300",children:(0,a.jsx)(eG,{className:"w-7 h-7 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold gradient-rgb",children:"Revolu√ß√£o Cibern√©tica"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Governan√ßa Descentralizada Multi-Chain"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(eq.default,{}),(0,a.jsx)("div",{className:"transform hover:scale-105 transition-transform duration-200",children:(0,a.jsx)(eH.CustomConnectButton,{})})]})]})})}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex space-x-2 bg-white dark:bg-gray-900 rounded-lg shadow-md p-1",children:[(0,a.jsxs)("button",{onClick:()=>r("governance"),className:`flex-1 flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-all ${"governance"===e?"bg-gradient-to-br from-blue-600 to-purple-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[(0,a.jsx)(eG,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Governan√ßa"})]}),(0,a.jsxs)("button",{onClick:()=>r("wallet"),className:`flex-1 flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-all ${"wallet"===e?"bg-gradient-to-br from-green-600 to-blue-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[(0,a.jsx)(X,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Carteira Soberana"})]})]})}),(0,a.jsx)("main",{className:"container mx-auto px-4 py-8 animate-fadeIn",children:"governance"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-12 text-center",children:[(0,a.jsx)("h2",{className:"text-5xl font-bold mb-4 gradient-rgb animate-slideIn",children:"Sistema de Vota√ß√£o H√≠brida"}),(0,a.jsxs)("p",{className:"text-lg text-gray-700 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:[(0,a.jsx)("strong",{className:"text-blue-600 dark:text-blue-400",children:"4 fun√ß√µes biomim√©tico-cibern√©ticas"}),":",(0,a.jsx)("span",{className:"text-red-600 dark:text-red-400",children:" Linear"}),",",(0,a.jsx)("span",{className:"text-green-600 dark:text-green-400",children:" Quadr√°tica"}),",",(0,a.jsx)("span",{className:"text-blue-600 dark:text-blue-400",children:" Logar√≠tmica"})," e",(0,a.jsx)("span",{className:"text-purple-600 dark:text-purple-400",children:" Consenso"}),".",(0,a.jsx)("br",{}),"Vote em propostas, crie novas BIPs e participe da governan√ßa on-chain."]})]}),(0,a.jsxs)("div",{className:"mb-12 grid md:grid-cols-2 gap-6",children:[(0,a.jsx)("a",{href:"/dao-mitosis",className:"group glass-effect rounded-2xl p-6 border-2 border-orange-200/50 dark:border-orange-700/50 hover:border-orange-400 dark:hover:border-orange-500 transition-all duration-300 hover:shadow-2xl hover:shadow-orange-500/20 transform hover:-translate-y-1",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-orange-100 to-red-100 dark:from-orange-900/30 dark:to-red-900/30 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,a.jsx)("span",{className:"text-4xl",children:"üß¨"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold bg-gradient-to-r from-orange-600 to-red-600 dark:from-orange-400 dark:to-red-400 bg-clip-text text-transparent mb-2",children:"Sistema de Mitose"}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-3 leading-relaxed",children:["Divis√£o org√¢nica de DAOs quando atingem o limite de Dunbar (150 membros). Implementa√ß√£o do ",(0,a.jsx)("strong",{children:"Artigo 5¬∫-C"})," da Constitui√ß√£o."]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full text-xs font-semibold",children:"Governan√ßa Escal√°vel"}),(0,a.jsx)("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-full text-xs font-semibold",children:"√Årvore Geneal√≥gica"}),(0,a.jsx)("span",{className:"px-3 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-full text-xs font-semibold",children:"Limite de Dunbar"})]})]})]})}),(0,a.jsx)("a",{href:"/federation-voting",className:"group glass-effect rounded-2xl p-6 border-2 border-blue-200/50 dark:border-blue-700/50 hover:border-blue-400 dark:hover:border-blue-500 transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 transform hover:-translate-y-1",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,a.jsx)("span",{className:"text-4xl",children:"üó≥Ô∏è"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent mb-2",children:"Sistema de Vota√ß√£o Federal"}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-3 leading-relaxed",children:["Vota√ß√£o descentralizada em propostas federais. Cada voto registra atividade no sistema de mitose. ",(0,a.jsx)("strong",{children:"Governan√ßa transparente"})," e democr√°tica."]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-xs font-semibold",children:"A Favor ‚Ä¢ Contra ‚Ä¢ Absten√ß√£o"}),(0,a.jsx)("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-xs font-semibold",children:"Quorum ‚Ä¢ Transpar√™ncia"})]})]})]})})]}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(Z,{})}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(eV,{})}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(et,{proposals:s})}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"glass-effect rounded-2xl shadow-xl border border-gray-200/50 dark:border-gray-700/50 p-6 hover:shadow-2xl transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-lg",children:(0,a.jsx)(z,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,a.jsx)("h3",{className:"text-2xl font-bold gradient-rgb",children:"Propostas Ativas"})]}),(0,a.jsx)(M,{})]})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"glass-effect rounded-2xl shadow-xl border-2 border-transparent bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-blue-950/40 dark:via-purple-950/40 dark:to-pink-950/40 p-6 sticky top-24 hover:shadow-2xl transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg",children:(0,a.jsx)(i,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,a.jsx)("h3",{className:"text-2xl font-bold gradient-rgb",children:"Nova Proposta"})]}),(0,a.jsx)(Q,{})]})})]})]}):(0,a.jsx)(e$,{})}),(0,a.jsx)("footer",{className:"border-t border-gray-200/50 dark:border-gray-800/50 mt-16 py-8 glass-effect",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,a.jsx)("p",{className:"mb-2 font-semibold gradient-rgb text-lg",children:"Revolu√ß√£o Cibern√©tica - Cybersyn 2.0"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Powered by ",(0,a.jsx)("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"O Besta Fera"})," ‚Ä¢ Built with ",(0,a.jsx)("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Next.js"}),",",(0,a.jsx)("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:" Wagmi"})," &",(0,a.jsx)("span",{className:"text-pink-600 dark:text-pink-400 font-medium",children:" The Graph"})]})]})})]})}e.s(["default",()=>eU],952683)}]);