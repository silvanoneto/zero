module.exports=[240777,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(933323),e=a.i(641710),f=a.i(170106);let g=(0,f.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),h=(0,f.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var i=a.i(167453),j=a.i(862722),k=a.i(294632),l=a.i(493862);let m=(0,f.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),n=(0,f.default)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),o=(0,f.default)("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);var p=a.i(596221);let q=(0,f.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var r=a.i(292e3),s=a.i(862214),t=a.i(852098),u=a.i(164098),v=a.i(801141),w=a.i(111048);function x({proposalId:a,proposalTitle:e,isOpen:f,onClose:g}){let[h,i]=(0,c.useState)("FOR"),[j,k]=(0,c.useState)("1"),[l,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(!1),{vote:A,publishVoteToP2P:B,isVoting:C,isConfirming:D,isSuccess:E,error:F,hash:G,p2pConnected:H}=function(){let{address:a,isConnected:b}=(0,d.useAccount)(),e=(0,t.useChainId)(),{writeContractAsync:f,data:g,isPending:h,error:i}=(0,u.useWriteContract)(),{isLoading:j,isSuccess:k}=(0,v.useWaitForTransactionReceipt)({hash:g}),{isConnected:l,publishVote:m}=(0,w.useP2P)({autoConnect:!0}),[n,o]=(0,c.useState)(null);return{vote:async(c,d,e)=>{if(!b||!a)throw Error("Wallet not connected");let g=process.env.NEXT_PUBLIC_GOVERNANCE_CONTRACT||"0x0000000000000000000000000000000000000000";try{let a=e||BigInt(1e18);return o({proposalId:c,support:d,weight:a}),await f({address:g,abi:[{name:"vote",type:"function",stateMutability:"nonpayable",inputs:[{name:"proposalId",type:"uint256"},{name:"support",type:"bool"},{name:"weight",type:"uint256"}],outputs:[]}],functionName:"vote",args:[BigInt(c),"FOR"===d,a]})}catch(a){throw console.error("Error voting:",a),o(null),a}},publishVoteToP2P:async()=>{if(!n||!g||!l)return!1;try{let b={hash:g,proposalId:n.proposalId,support:n.support,weight:n.weight.toString(),voter:a,chainId:e,timestamp:Date.now()},c=await m(b);return c?console.log("âœ… Voto publicado na rede P2P"):console.warn("âš ï¸ Falha ao publicar voto no P2P"),c}catch(a){return console.error("âŒ Erro ao publicar voto no P2P:",a),!1}},isVoting:h||j,isConfirming:j,isSuccess:k,error:i,hash:g,voteData:n,p2pConnected:l}}(),{stats:I}=(0,w.useP2P)({autoConnect:!0});(0,c.useEffect)(()=>{E&&G&&(B(),x(!0),setTimeout(()=>{x(!1),g()},3e3))},[E,G,B,g]),(0,c.useEffect)(()=>{F&&(z(!0),setTimeout(()=>z(!1),5e3))},[F]);let J=async b=>{b.preventDefault();try{let b=BigInt(1e18*parseFloat(j));await A(a,h,b)}catch(a){console.error("Erro ao votar:",a)}};return f?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Votar na Proposta"}),(0,b.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:(0,b.jsx)(m,{className:"w-5 h-5"})})]}),(0,b.jsxs)("form",{onSubmit:J,className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:["Proposta #",a]}),(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e})]}),H&&(0,b.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-2",children:[(0,b.jsx)(s.Network,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),(0,b.jsxs)("p",{className:"text-xs text-green-800 dark:text-green-200",children:["Rede P2P ativa â€¢ ",I.peers," peers conectados"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Seu Voto"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>i("FOR"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${"FOR"===h?"bg-green-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[(0,b.jsx)(n,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"A Favor"})]}),(0,b.jsxs)("button",{type:"button",onClick:()=>i("AGAINST"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${"AGAINST"===h?"bg-red-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[(0,b.jsx)(o,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Contra"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Peso do Voto (tokens IDS)"}),(0,b.jsx)("input",{id:"weight",type:"number",min:"0.01",step:"0.01",value:j,onChange:a=>k(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Quanto maior o peso, mais forte Ã© seu voto"})]}),l&&G&&(0,b.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-start gap-3 animate-fadeIn",children:[(0,b.jsx)(q,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-1",children:"Voto registrado com sucesso!"}),(0,b.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-300 font-mono break-all mb-2",children:["TX: ",G.substring(0,10),"...",G.substring(G.length-8)]}),H&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-green-600 dark:text-green-400",children:[(0,b.jsx)(s.Network,{className:"w-3 h-3"}),(0,b.jsxs)("span",{children:["Propagado para ",I.peers," peers na rede P2P"]})]})]})]}),y&&F&&(0,b.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3 animate-fadeIn",children:[(0,b.jsx)(r.AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-1",children:"Erro ao votar"}),(0,b.jsx)("p",{className:"text-xs text-red-700 dark:text-red-300",children:F.message})]})]}),(0,b.jsx)("button",{type:"submit",disabled:C,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 disabled:from-gray-400 disabled:to-gray-400 text-white font-medium py-3 px-4 rounded-lg transition-all flex items-center justify-center gap-2 disabled:cursor-not-allowed",children:C?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.Loader2,{className:"w-5 h-5 animate-spin"}),D?"Confirmando...":"Enviando..."]}):(0,b.jsxs)(b.Fragment,{children:["FOR"===h?(0,b.jsx)(n,{className:"w-5 h-5"}):(0,b.jsx)(o,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Confirmar Voto"})]})})]})]})}):null}function y({proposal:a}){let[d,f]=(0,c.useState)(!1),m=a.votesFor+a.votesAgainst,n=m>0n?Number(100n*a.votesFor/m):0,o=100-n,p={LINEAR:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",QUADRATIC:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",LOGARITHMIC:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",CONSENSUS:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},q=(0,k.formatDistanceToNow)(a.endTime,{locale:l.ptBR,addSuffix:!0});return(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:a.title}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:a.description})]}),(0,b.jsx)("span",{className:`ml-4 px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap ${p[a.voteType]||p.LINEAR}`,children:{LINEAR:"Linear",QUADRATIC:"QuadrÃ¡tica",LOGARITHMIC:"LogarÃ­tmica",CONSENSUS:"Consenso"}[a.voteType]||a.voteType})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-400",children:[(0,b.jsx)(g,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:[a.totalVoters," votantes"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-400",children:[(0,b.jsx)(e.Clock,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:["Encerra ",q]})]})]}),(0,b.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm font-medium",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[(0,b.jsx)(i.CheckCircle2,{className:"w-4 h-4"}),"A favor: ",n.toFixed(1),"%"]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-red-600 dark:text-red-400",children:[(0,b.jsx)(j.XCircle,{className:"w-4 h-4"}),"Contra: ",o.toFixed(1),"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:(0,b.jsxs)("div",{className:"flex h-full",children:[(0,b.jsx)("div",{className:"bg-green-500 dark:bg-green-600 transition-all duration-300",style:{width:`${n}%`}}),(0,b.jsx)("div",{className:"bg-red-500 dark:bg-red-600 transition-all duration-300",style:{width:`${o}%`}})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-700 dark:text-gray-400",children:"Votos a favor"}),(0,b.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:[(Number(a.votesFor)/1e18).toFixed(2)," IDS"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-700 dark:text-gray-400",children:"Votos contra"}),(0,b.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:[(Number(a.votesAgainst)/1e18).toFixed(2)," IDS"]})]})]}),(0,b.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-4",children:["Proposta por: ",(0,b.jsxs)("code",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:[a.proposer.slice(0,6),"...",a.proposer.slice(-4)]})]}),(0,b.jsxs)("button",{onClick:()=>f(!0),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(h,{className:"w-4 h-4"}),"Votar nesta Proposta"]}),(0,b.jsx)(x,{proposalId:a.id,proposalTitle:a.title,isOpen:d,onClose:()=>f(!1)})]})}var z=a.i(433217);class A{static saveProposal(a){throw Error("localStorage is not available on server side")}static getProposals(){return[]}static getProposal(a){return this.getProposals().find(b=>b.id===a)||null}static updateProposal(a,b){return!1}static addVote(a,b,c){let d=this.getProposal(a);if(!d)return!1;let e=BigInt(d.votesFor),f=BigInt(d.votesAgainst),g={votesFor:b?(e+c).toString():e.toString(),votesAgainst:b?f.toString():(f+c).toString(),totalVoters:d.totalVoters+1};return this.updateProposal(a,g)}static getCounter(){return 0}static clearAll(){}static initializeDemoData(){}}function B(a={}){let{state:b,first:c=100,skip:d=0}=a;return(0,z.useQuery)({queryKey:["proposals",b,c,d],queryFn:async()=>{{let a=A.getProposals(),e=a;return b&&(e=a.filter(a=>a.state===b)),e.slice(d,d+c).map(a=>({id:a.id,title:a.title,description:a.description,ipfsHash:a.ipfsHash,proposer:a.proposer,voteType:a.voteType,startTime:a.startTime,endTime:a.endTime,votesFor:BigInt(a.votesFor),votesAgainst:BigInt(a.votesAgainst),totalVoters:a.totalVoters,state:a.state}))}},staleTime:1e4,refetchInterval:3e4})}function C(){let{address:a}=(0,d.useAccount)(),[e,f]=(0,c.useState)("all"),{data:g=[],isLoading:h,error:i}=B({state:"ACTIVE"}),j=g.filter(a=>"all"===e||a.voteType===e);return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mb-6",children:[(0,b.jsx)("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${"all"===e?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Todas"}),(0,b.jsx)("button",{onClick:()=>f("LINEAR"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${"LINEAR"===e?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Linear"}),(0,b.jsx)("button",{onClick:()=>f("QUADRATIC"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${"QUADRATIC"===e?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"QuadrÃ¡tica"}),(0,b.jsx)("button",{onClick:()=>f("LOGARITHMIC"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${"LOGARITHMIC"===e?"bg-yellow-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"LogarÃ­tmica"}),(0,b.jsx)("button",{onClick:()=>f("CONSENSUS"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${"CONSENSUS"===e?"bg-red-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Consenso"})]}),h?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(p.Loader2,{className:"w-8 h-8 animate-spin text-purple-600"})}):i?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("p",{className:"text-red-600 dark:text-red-400 mb-2",children:"Erro ao carregar propostas"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Verifique se o subgraph estÃ¡ rodando"})]}):0===j.length?(0,b.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Nenhuma proposta encontrada"}):(0,b.jsx)("div",{className:"space-y-4",children:j.map(a=>(0,b.jsx)(y,{proposal:a},a.id))})]})}let D=(0,f.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),E={31337:{FederationVoting:"0x5FbDB2315678afecb367f032d93F642f64180aa3",GovernanceToken:"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",SovereignWallet:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",MultiWalletIdentity:"0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9",FraudDetection:"0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9",WalletRecovery:"0x5FC8d32690cc91D4c39d9d3abcBD16989F875707",ProofOfLife:"0x0165878A594ca255338adfa4d48449f69242Eb8F",SovereignCurrency:"0xa513E6E4b8f2a923D98304ec87F64353C4D5C853"}},F=E[31337].SovereignWallet,G=E[31337].MultiWalletIdentity,H=E[31337].FraudDetection,I=E[31337].WalletRecovery;E[31337].ProofOfLife;let J=E[31337].SovereignCurrency,K=[{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getSecurityStatus",outputs:[{internalType:"bool",name:"isVerified",type:"bool"},{internalType:"bool",name:"isBlocked",type:"bool"},{internalType:"uint256",name:"riskScore",type:"uint256"},{internalType:"uint8",name:"status",type:"uint8"},{internalType:"uint256",name:"balance",type:"uint256"},{components:[{internalType:"bool",name:"requireBiometric",type:"bool"},{internalType:"bool",name:"requireGeolocation",type:"bool"},{internalType:"bool",name:"autoBlockOnFraud",type:"bool"},{internalType:"bool",name:"allowRecovery",type:"bool"},{internalType:"uint8",name:"minConfirmations",type:"uint8"},{internalType:"uint256",name:"dailyTransferLimit",type:"uint256"}],internalType:"struct SovereignWallet.SecurityConfig",name:"config",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getWalletHealthScore",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getWalletStats",outputs:[{internalType:"uint256",name:"totalTransfers",type:"uint256"},{internalType:"uint256",name:"totalReceived",type:"uint256"},{internalType:"uint256",name:"totalSent",type:"uint256"},{internalType:"uint256",name:"fraudIncidents",type:"uint256"},{internalType:"uint256",name:"recoveryAttempts",type:"uint256"},{internalType:"uint256",name:"lastActivityAt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getRemainingDailyLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"biometricHash",type:"bytes32"},{internalType:"string",name:"geolocation",type:"string"},{internalType:"bytes32",name:"deviceFingerprint",type:"bytes32"}],name:"secureTransfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"requireBiometric",type:"bool"},{internalType:"bool",name:"requireGeolocation",type:"bool"},{internalType:"bool",name:"autoBlockOnFraud",type:"bool"},{internalType:"bool",name:"allowRecovery",type:"bool"},{internalType:"uint8",name:"minConfirmations",type:"uint8"},{internalType:"uint256",name:"dailyTransferLimit",type:"uint256"}],internalType:"struct SovereignWallet.SecurityConfig",name:"newConfig",type:"tuple"}],name:"configureSecuritySettings",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"actionId",type:"bytes32"}],name:"confirmPendingAction",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"riskScore",type:"uint256"}],name:"SecureTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"riskScore",type:"uint256"},{indexed:!1,internalType:"string",name:"reason",type:"string"}],name:"FraudDetected",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint8",name:"newStatus",type:"uint8"}],name:"SecurityStatusChanged",type:"event"}];async function L(a){try{let b=new TextEncoder().encode(a),c=await crypto.subtle.digest("SHA-256",b),d=Array.from(new Uint8Array(c)).map(a=>a.toString(16).padStart(2,"0")).join("");return`Qm${d.substring(0,44)}`}catch(a){throw console.error("Error simulating IPFS upload:",a),Error("Failed to generate content hash")}}let M=(0,f.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),N=(0,f.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),O=[{name:"educacao",label:"EducaÃ§Ã£o",color:"blue",tags:["educaÃ§Ã£o bÃ¡sica","ensino superior","formaÃ§Ã£o profissional","educaÃ§Ã£o infantil","alfabetizaÃ§Ã£o","educaÃ§Ã£o digital","pesquisa acadÃªmica","bolsas de estudo","educaÃ§Ã£o especial","educaÃ§Ã£o a distÃ¢ncia"]},{name:"saude",label:"SaÃºde",color:"red",tags:["saÃºde pÃºblica","hospitais","medicamentos","prevenÃ§Ã£o","saÃºde mental","vacinas","atendimento bÃ¡sico","emergÃªncia mÃ©dica","nutriÃ§Ã£o","saneamento"]},{name:"economia",label:"Economia",color:"green",tags:["orÃ§amento","financiamento","investimento","desenvolvimento econÃ´mico","empreendedorismo","microcrÃ©dito","comÃ©rcio","tributaÃ§Ã£o","renda bÃ¡sica","economia solidÃ¡ria"]},{name:"tecnologia",label:"Tecnologia",color:"purple",tags:["tecnologia","inovaÃ§Ã£o","infraestrutura digital","internet","telecomunicaÃ§Ãµes","criptografia","blockchain","inteligÃªncia artificial","seguranÃ§a digital","cÃ³digo aberto"]},{name:"meio-ambiente",label:"Meio Ambiente",color:"emerald",tags:["meio ambiente","biodiversidade","clima","energia renovÃ¡vel","preservaÃ§Ã£o","desmatamento","poluiÃ§Ã£o","reciclagem","Ã¡gua","sustentabilidade"]},{name:"cultura",label:"Cultura",color:"pink",tags:["cultura","arte","patrimÃ´nio histÃ³rico","mÃºsica","cinema","teatro","literatura","museus","festivais","artesanato"]},{name:"infraestrutura",label:"Infraestrutura",color:"orange",tags:["infraestrutura","transporte pÃºblico","mobilidade urbana","rodovias","portos","aeroportos","obras pÃºblicas","urbanismo","habitaÃ§Ã£o","energia"]},{name:"direitos",label:"Direitos e Ã‰tica",color:"amber",tags:["direitos humanos","Ã©tico","fundamental","constitucional","dignidade","igualdade","liberdade","justiÃ§a social","acessibilidade","inclusÃ£o"]},{name:"seguranca",label:"SeguranÃ§a",color:"slate",tags:["seguranÃ§a pÃºblica","defesa civil","prevenÃ§Ã£o de desastres","policiamento","seguranÃ§a","emergÃªncias","vigilÃ¢ncia","crime","justiÃ§a","proteÃ§Ã£o"]},{name:"social",label:"Social",color:"cyan",tags:["assistÃªncia social","vulnerabilidade","comunidade","famÃ­lia","crianÃ§a e adolescente","idosos","trabalho","emprego","moradia","alimentaÃ§Ã£o"]},{name:"ciencia",label:"CiÃªncia e Pesquisa",color:"indigo",tags:["ciÃªncia","pesquisa cientÃ­fica","laboratÃ³rios","inovaÃ§Ã£o cientÃ­fica","medicina","biologia","fÃ­sica","quÃ­mica","astronomia","tecnologia cientÃ­fica"]},{name:"esporte",label:"Esporte e Lazer",color:"teal",tags:["esporte","lazer","recreaÃ§Ã£o","esporte amador","esporte profissional","olimpÃ­adas","infraestrutura esportiva","atividade fÃ­sica","parques","turismo"]},{name:"comunicacao",label:"ComunicaÃ§Ã£o",color:"violet",tags:["comunicaÃ§Ã£o","mÃ­dia","jornalismo","transparÃªncia","informaÃ§Ã£o pÃºblica","dados abertos","liberdade de expressÃ£o","redes sociais","radiodifusÃ£o","imprensa"]},{name:"administrativo",label:"Administrativo",color:"gray",tags:["administrativo","procedural","operacional","gestÃ£o pÃºblica","burocracia","processos","documentaÃ§Ã£o","contratos","licitaÃ§Ãµes","recursos humanos"]}].flatMap(a=>a.tags.map(b=>({tag:b,category:a.name,categoryLabel:a.label,color:a.color})));function P({selectedTags:a,onTagsChange:d,maxTags:e=5,placeholder:f="Buscar tags..."}){let[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(O),[n,o]=(0,c.useState)(0),p=(0,c.useRef)(null),q=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(""===g.trim())l(O);else{let b=g.toLowerCase();l(O.filter(({tag:c,categoryLabel:d})=>!a.includes(c)&&(c.toLowerCase().includes(b)||d.toLowerCase().includes(b))))}o(0)},[g,a]),(0,c.useEffect)(()=>{let a=a=>{!q.current||q.current.contains(a.target)||p.current?.contains(a.target)||j(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let r=b=>{!a.includes(b)&&a.length<e&&(d([...a,b]),h(""),j(!1),p.current?.focus())},s=b=>{d(a.filter(a=>a!==b))},t=a=>{let b={blue:{bg:"bg-blue-100 dark:bg-blue-900/30",text:"text-blue-800 dark:text-blue-200",border:"border-blue-300 dark:border-blue-700",hover:"hover:bg-blue-200 dark:hover:bg-blue-900/50"},red:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-800 dark:text-red-200",border:"border-red-300 dark:border-red-700",hover:"hover:bg-red-200 dark:hover:bg-red-900/50"},green:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-800 dark:text-green-200",border:"border-green-300 dark:border-green-700",hover:"hover:bg-green-200 dark:hover:bg-green-900/50"},purple:{bg:"bg-purple-100 dark:bg-purple-900/30",text:"text-purple-800 dark:text-purple-200",border:"border-purple-300 dark:border-purple-700",hover:"hover:bg-purple-200 dark:hover:bg-purple-900/50"},emerald:{bg:"bg-emerald-100 dark:bg-emerald-900/30",text:"text-emerald-800 dark:text-emerald-200",border:"border-emerald-300 dark:border-emerald-700",hover:"hover:bg-emerald-200 dark:hover:bg-emerald-900/50"},pink:{bg:"bg-pink-100 dark:bg-pink-900/30",text:"text-pink-800 dark:text-pink-200",border:"border-pink-300 dark:border-pink-700",hover:"hover:bg-pink-200 dark:hover:bg-pink-900/50"},orange:{bg:"bg-orange-100 dark:bg-orange-900/30",text:"text-orange-800 dark:text-orange-200",border:"border-orange-300 dark:border-orange-700",hover:"hover:bg-orange-200 dark:hover:bg-orange-900/50"},amber:{bg:"bg-amber-100 dark:bg-amber-900/30",text:"text-amber-800 dark:text-amber-200",border:"border-amber-300 dark:border-amber-700",hover:"hover:bg-amber-200 dark:hover:bg-amber-900/50"},slate:{bg:"bg-slate-100 dark:bg-slate-900/30",text:"text-slate-800 dark:text-slate-200",border:"border-slate-300 dark:border-slate-700",hover:"hover:bg-slate-200 dark:hover:bg-slate-900/50"},cyan:{bg:"bg-cyan-100 dark:bg-cyan-900/30",text:"text-cyan-800 dark:text-cyan-200",border:"border-cyan-300 dark:border-cyan-700",hover:"hover:bg-cyan-200 dark:hover:bg-cyan-900/50"},indigo:{bg:"bg-indigo-100 dark:bg-indigo-900/30",text:"text-indigo-800 dark:text-indigo-200",border:"border-indigo-300 dark:border-indigo-700",hover:"hover:bg-indigo-200 dark:hover:bg-indigo-900/50"},teal:{bg:"bg-teal-100 dark:bg-teal-900/30",text:"text-teal-800 dark:text-teal-200",border:"border-teal-300 dark:border-teal-700",hover:"hover:bg-teal-200 dark:hover:bg-teal-900/50"},violet:{bg:"bg-violet-100 dark:bg-violet-900/30",text:"text-violet-800 dark:text-violet-200",border:"border-violet-300 dark:border-violet-700",hover:"hover:bg-violet-200 dark:hover:bg-violet-900/50"},gray:{bg:"bg-gray-100 dark:bg-gray-900/30",text:"text-gray-800 dark:text-gray-200",border:"border-gray-300 dark:border-gray-700",hover:"hover:bg-gray-200 dark:hover:bg-gray-900/50"}};return b[a]||b.gray};return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,b.jsx)(N,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})}),(0,b.jsx)("input",{ref:p,type:"text",value:g,onChange:a=>{h(a.target.value),j(!0)},onFocus:()=>j(!0),onKeyDown:b=>{"Enter"===b.key?(b.preventDefault(),k.length>0&&n>=0&&r(k[n].tag)):"ArrowDown"===b.key?(b.preventDefault(),o(a=>Math.min(a+1,k.length-1))):"ArrowUp"===b.key?(b.preventDefault(),o(a=>Math.max(a-1,0))):"Escape"===b.key?j(!1):"Backspace"===b.key&&""===g&&a.length>0&&s(a[a.length-1])},placeholder:a.length>=e?`M\xe1ximo de ${e} tags`:f,disabled:a.length>=e,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 disabled:opacity-50 disabled:cursor-not-allowed"})]}),i&&k.length>0&&a.length<e&&(0,b.jsx)("div",{ref:q,className:"absolute z-10 w-full mt-1 max-h-64 overflow-y-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:k.map((a,c)=>{let d=t(a.color);return(0,b.jsxs)("button",{type:"button",onClick:()=>r(a.tag),className:`w-full px-4 py-2 text-left flex items-center justify-between gap-2 transition-colors ${c===n?"bg-gray-100 dark:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-750"}`,children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:a.tag}),(0,b.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.categoryLabel})]}),(0,b.jsxs)("span",{className:`flex-shrink-0 text-xs px-2 py-1 rounded-full ${d.bg} ${d.text}`,children:[(0,b.jsx)(M,{className:"h-3 w-3 inline mr-1"}),a.categoryLabel]})]},`${a.category}-${a.tag}`)})}),a.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:a.map(a=>{let c,d=t((c=O.find(b=>b.tag===a))?c.color:"gray");return(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium ${d.bg} ${d.text} ${d.border} border`,children:[(0,b.jsx)(M,{className:"h-3 w-3"}),a,(0,b.jsx)("button",{type:"button",onClick:()=>s(a),className:`ml-1 ${d.hover} rounded-full p-0.5 transition-colors`,children:(0,b.jsx)(m,{className:"h-3 w-3"})})]},a)})}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[a.length,"/",e," tags selecionadas. Use â†‘â†“ para navegar, Enter para selecionar, Backspace para remover."]})]})}let Q={administrativo:"LINEAR",procedural:"LINEAR",operacional:"LINEAR","gestÃ£o pÃºblica":"LINEAR",burocracia:"LINEAR",processos:"LINEAR",documentaÃ§Ã£o:"LINEAR",contratos:"LINEAR",licitaÃ§Ãµes:"LINEAR","recursos humanos":"LINEAR",orÃ§amento:"QUADRATIC",recurso:"QUADRATIC",financiamento:"QUADRATIC",investimento:"QUADRATIC","desenvolvimento econÃ´mico":"QUADRATIC",empreendedorismo:"QUADRATIC",microcrÃ©dito:"QUADRATIC",comÃ©rcio:"QUADRATIC",tributaÃ§Ã£o:"QUADRATIC","renda bÃ¡sica":"QUADRATIC","economia solidÃ¡ria":"QUADRATIC","bolsas de estudo":"QUADRATIC","assistÃªncia social":"QUADRATIC",alimentaÃ§Ã£o:"QUADRATIC",tÃ©cnico:"LOGARITHMIC",tecnologia:"LOGARITHMIC",infraestrutura:"LOGARITHMIC",seguranÃ§a:"LOGARITHMIC",saÃºde:"LOGARITHMIC",energia:"LOGARITHMIC",criptografia:"LOGARITHMIC",biodiversidade:"LOGARITHMIC",inovaÃ§Ã£o:"LOGARITHMIC","infraestrutura digital":"LOGARITHMIC",internet:"LOGARITHMIC",telecomunicaÃ§Ãµes:"LOGARITHMIC",blockchain:"LOGARITHMIC","inteligÃªncia artificial":"LOGARITHMIC","seguranÃ§a digital":"LOGARITHMIC","cÃ³digo aberto":"LOGARITHMIC","saÃºde pÃºblica":"LOGARITHMIC",hospitais:"LOGARITHMIC",medicamentos:"LOGARITHMIC",prevenÃ§Ã£o:"LOGARITHMIC",vacinas:"LOGARITHMIC",saneamento:"LOGARITHMIC","transporte pÃºblico":"LOGARITHMIC","mobilidade urbana":"LOGARITHMIC",rodovias:"LOGARITHMIC",portos:"LOGARITHMIC",aeroportos:"LOGARITHMIC","obras pÃºblicas":"LOGARITHMIC",urbanismo:"LOGARITHMIC",habitaÃ§Ã£o:"LOGARITHMIC","energia renovÃ¡vel":"LOGARITHMIC",clima:"LOGARITHMIC","meio ambiente":"LOGARITHMIC",preservaÃ§Ã£o:"LOGARITHMIC",Ã¡gua:"LOGARITHMIC",sustentabilidade:"LOGARITHMIC","educaÃ§Ã£o digital":"LOGARITHMIC","pesquisa acadÃªmica":"LOGARITHMIC",ciÃªncia:"LOGARITHMIC","pesquisa cientÃ­fica":"LOGARITHMIC",laboratÃ³rios:"LOGARITHMIC","inovaÃ§Ã£o cientÃ­fica":"LOGARITHMIC",medicina:"LOGARITHMIC",Ã©tico:"CONSENSUS",direitos:"CONSENSUS",fundamental:"CONSENSUS",constitucional:"CONSENSUS",dignidade:"CONSENSUS","direitos humanos":"CONSENSUS",igualdade:"CONSENSUS",liberdade:"CONSENSUS","justiÃ§a social":"CONSENSUS",acessibilidade:"CONSENSUS",inclusÃ£o:"CONSENSUS","liberdade de expressÃ£o":"CONSENSUS",transparÃªncia:"CONSENSUS","educaÃ§Ã£o bÃ¡sica":"CONSENSUS",alfabetizaÃ§Ã£o:"CONSENSUS","educaÃ§Ã£o especial":"CONSENSUS"};function R(){let{address:a,isConnected:e}=(0,d.useAccount)(),f=(0,t.useChainId)(),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)("LINEAR"),[o,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),[E,F]=(0,c.useState)(""),{createProposal:G,isPending:H,isConfirming:I,isSuccess:J,error:K,hash:M}=function(){let{data:a,writeContract:b,isPending:d,error:e}=(0,u.useWriteContract)(),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(null),{isLoading:j,isSuccess:k}=(0,v.useWaitForTransactionReceipt)({hash:a});return{createProposal:async(a,b,c,d=31337)=>{try{{i(null),g(!1);let d=function(a){let b={isProcedural:!1,isResourceAllocation:!1,isTechnical:!1,isEthical:!1,budgetImpact:BigInt(0),requiresExpertise:!1,expertDomain:"0x0000000000000000000000000000000000000000000000000000000000000000"};switch(a){case"LINEAR":return{...b,isProcedural:!0};case"QUADRATIC":return{...b,isResourceAllocation:!0,budgetImpact:BigInt(1e3)};case"LOGARITHMIC":return{...b,isTechnical:!0,requiresExpertise:!0};case"CONSENSUS":return{...b,isEthical:!0};default:return b}}(c),e=JSON.stringify({title:a,description:b}),f=await L(e),h=Date.now();A.saveProposal({title:a,description:b,ipfsHash:f,proposer:"0xDemoUser000000000000000000000000000000000",voteType:c,startTime:h,endTime:h+6048e5,votesFor:"0",votesAgainst:"0",totalVoters:0,state:"ACTIVE",tags:{isProcedural:d.isProcedural,isResourceAllocation:d.isResourceAllocation,isTechnical:d.isTechnical,isEthical:d.isEthical,budgetImpact:d.budgetImpact.toString(),requiresExpertise:d.requiresExpertise}}),await new Promise(a=>setTimeout(a,1e3)),g(!0);return}}catch(a){throw console.error("Error creating proposal:",a),i(a),a}},isPending:!1,isConfirming:!1,isSuccess:f,error:h,hash:void 0}}(),{isConnected:N,publishProposal:O,stats:R}=(0,w.useP2P)({autoConnect:!0}),S=H||I;(0,c.useEffect)(()=>{if(o&&0!==k.length){for(let a of k){let b=a.toLowerCase().trim();if(Q[b])return void n(Q[b])}n("LINEAR")}},[k,o]),(0,c.useEffect)(()=>{J&&M&&(z(!0),N&&O({hash:M,title:g,description:i,voteType:m,tags:k,chainId:f,timestamp:Date.now(),creator:a}).then(a=>{a?console.log("âœ… Proposta publicada na rede P2P"):console.warn("âš ï¸ Falha ao publicar proposta no P2P")}).catch(a=>{console.error("âŒ Erro ao publicar proposta no P2P:",a)}),h(""),j(""),l([]),n("LINEAR"),x(!0),setTimeout(()=>z(!1),5e3))},[J,M,N,O,g,i,m,k,f,a]),(0,c.useEffect)(()=>{K&&(C(!0),F(K.message||"Erro desconhecido"),setTimeout(()=>C(!1),5e3))},[K]);let T=async a=>{if(a.preventDefault(),!e){F("Por favor, conecte sua carteira primeiro"),C(!0),setTimeout(()=>C(!1),3e3);return}try{await G(g,i,m,f)}catch(a){console.error("Erro ao criar proposta:",a),F("Erro ao enviar transaÃ§Ã£o"),C(!0),setTimeout(()=>C(!1),5e3)}};return(0,b.jsxs)("form",{onSubmit:T,className:"space-y-4",children:[N&&(0,b.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-2",children:[(0,b.jsx)(s.Network,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-green-800 dark:text-green-200",children:"Rede P2P Conectada"}),(0,b.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-300",children:[R.peers," peers conectados â€¢ Proposta serÃ¡ propagada automaticamente"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"TÃ­tulo da Proposta"}),(0,b.jsx)("input",{id:"title",type:"text",value:g,onChange:a=>h(a.target.value),placeholder:"Ex: Alocar recursos para...",required:!0,maxLength:100,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[g.length,"/100 caracteres"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"DescriÃ§Ã£o"}),(0,b.jsx)("textarea",{id:"description",value:i,onChange:a=>j(a.target.value),placeholder:"Descreva sua proposta em detalhes...",required:!0,maxLength:500,rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[i.length,"/500 caracteres"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (influenciam tipo de votaÃ§Ã£o)"}),(0,b.jsx)(P,{selectedTags:k,onTagsChange:l,maxTags:5,placeholder:"Buscar tags por categoria (ex: educaÃ§Ã£o, saÃºde, tecnologia)..."}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"ðŸ’¡ Dica: Tags influenciam o tipo de votaÃ§Ã£o automaticamente. Use categorias como educaÃ§Ã£o, saÃºde, economia, tecnologia, etc."})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de VotaÃ§Ã£o"}),(0,b.jsx)("button",{type:"button",onClick:()=>x(!o),className:`text-xs px-3 py-1 rounded-full transition-colors ${o?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:o?"ðŸ¤– AutomÃ¡tico":"âœ‹ Manual"})]}),o&&k.length>0&&(0,b.jsx)("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,b.jsxs)("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:["ðŸ’¡ Tipo selecionado automaticamente baseado nas tags: ",(0,b.jsx)("strong",{children:m})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{x(!1),n("LINEAR")},disabled:o,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"LINEAR"===m?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"} ${o?"opacity-50 cursor-not-allowed":""}`,children:"Linear"}),(0,b.jsx)("button",{type:"button",onClick:()=>{x(!1),n("QUADRATIC")},disabled:o,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"QUADRATIC"===m?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"} ${o?"opacity-50 cursor-not-allowed":""}`,children:"QuadrÃ¡tica"}),(0,b.jsx)("button",{type:"button",onClick:()=>{x(!1),n("LOGARITHMIC")},disabled:o,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"LOGARITHMIC"===m?"bg-yellow-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"} ${o?"opacity-50 cursor-not-allowed":""}`,children:"LogarÃ­tmica"}),(0,b.jsx)("button",{type:"button",onClick:()=>{x(!1),n("CONSENSUS")},disabled:o,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"CONSENSUS"===m?"bg-red-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"} ${o?"opacity-50 cursor-not-allowed":""}`,children:"Consenso"})]})]}),(0,b.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3",children:(0,b.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["LINEAR"===m&&"1 token = 1 voto. VotaÃ§Ã£o simples e direta.","QUADRATIC"===m&&"Custo quadrÃ¡tico: previne dominaÃ§Ã£o por grandes holders.","LOGARITHMIC"===m&&"Reduz peso de grandes holders, favorece participaÃ§Ã£o ampla.","CONSENSUS"===m&&"Requer aprovaÃ§Ã£o por mÃºltiplas federaÃ§Ãµes."]})}),(0,b.jsx)("button",{type:"submit",disabled:!e||S||!g||!i,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 disabled:from-gray-400 disabled:to-gray-400 text-white font-medium py-3 px-4 rounded-lg transition-all flex items-center justify-center gap-2 disabled:cursor-not-allowed",children:S?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}),I?"Confirmando...":"Enviando..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(D,{className:"w-4 h-4"}),"Criar Proposta"]})}),y&&M&&(0,b.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-start gap-3 animate-fadeIn",children:[(0,b.jsx)(q,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-1",children:"Proposta criada com sucesso!"}),(0,b.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-300 font-mono break-all mb-2",children:["TX: ",M.substring(0,10),"...",M.substring(M.length-8)]}),N&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-green-600 dark:text-green-400",children:[(0,b.jsx)(s.Network,{className:"w-3 h-3"}),(0,b.jsxs)("span",{children:["Propagada para ",R.peers," peers na rede P2P"]})]})]})]}),B&&(0,b.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3 animate-fadeIn",children:[(0,b.jsx)(r.AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-1",children:"Erro ao criar proposta"}),(0,b.jsx)("p",{className:"text-xs text-red-700 dark:text-red-300",children:E})]})]}),!e&&(0,b.jsx)("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:"Conecte sua carteira para criar propostas"})]})}let S=(0,f.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),T=(0,f.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),U="http://localhost:8000/subgraphs/name/constituicao2.0",V=`
  query GovernanceStats {
    governanceStats(id: "governance") {
      totalProposals
      activeProposals
      totalVoters
      totalVotingPower
    }
  }
`,W=`
  query AggregateStats {
    proposals(first: 1000) {
      id
      status
    }
    votes(first: 1000) {
      voter
      votingPower
    }
  }
`;async function X(){try{let a=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:V})}),{data:b,errors:c}=await a.json();if(c||!b?.governanceStats){let a=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:W})}),{data:b}=await a.json();if(b){let a=b.proposals||[],c=b.votes||[],d=a.filter(a=>"Active"===a.status||"1"===a.status).length,e=new Set(c.map(a=>a.voter.toLowerCase())),f=c.reduce((a,b)=>a+BigInt(b.votingPower||0),BigInt(0));return{totalProposals:a.length,activeProposals:d,totalVoters:e.size,totalVotingPower:f.toString()}}}if(b?.governanceStats)return b.governanceStats;return{totalProposals:0,activeProposals:0,totalVoters:0,totalVotingPower:"0"}}catch(a){return console.error("Error fetching governance stats:",a),{totalProposals:0,activeProposals:0,totalVoters:0,totalVotingPower:"0"}}}function Y(){let{data:a,isLoading:c,error:d}=(0,z.useQuery)({queryKey:["governance-stats"],queryFn:X,refetchInterval:3e4,staleTime:2e4});if(c)return(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(a=>(0,b.jsxs)("div",{className:"glass-effect rounded-xl shadow-lg p-6 border border-gray-200/50 dark:border-gray-700/50 animate-pulse",children:[(0,b.jsx)("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),(0,b.jsx)("div",{className:"h-10 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})]},a))});if(d)return(0,b.jsx)("div",{className:"glass-effect rounded-xl shadow-lg p-6 border border-red-200/50 dark:border-red-700/50",children:(0,b.jsx)("p",{className:"text-red-600 dark:text-red-400",children:"Erro ao carregar estatÃ­sticas. Verifique se o subgraph estÃ¡ rodando."})});let e=a?.totalVotingPower?(BigInt(a.totalVotingPower)/BigInt(1e18)).toString():"0";return(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"glass-effect rounded-xl shadow-lg p-6 border border-gray-200/50 dark:border-gray-700/50 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/40 dark:to-blue-800/40 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,b.jsx)(S,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,b.jsx)("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Total"})]}),(0,b.jsx)("h3",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 dark:from-blue-400 dark:to-blue-600 bg-clip-text text-transparent mb-1",children:a?.totalProposals||0}),(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400 font-medium",children:"Propostas criadas"})]}),(0,b.jsxs)("div",{className:"glass-effect rounded-xl shadow-lg p-6 border border-gray-200/50 dark:border-gray-700/50 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900/40 dark:to-green-800/40 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,b.jsx)(h,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,b.jsx)("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Ativas"})]}),(0,b.jsx)("h3",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-green-800 dark:from-green-400 dark:to-green-600 bg-clip-text text-transparent mb-1",children:a?.activeProposals||0}),(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400 font-medium",children:"Em votaÃ§Ã£o agora"})]}),(0,b.jsxs)("div",{className:"glass-effect rounded-xl shadow-lg p-6 border border-gray-200/50 dark:border-gray-700/50 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-gradient-to-br from-purple-100 to-purple-200 dark:from-purple-900/40 dark:to-purple-800/40 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,b.jsx)(g,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,b.jsx)("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Votantes"})]}),(0,b.jsx)("h3",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-purple-800 dark:from-purple-400 dark:to-purple-600 bg-clip-text text-transparent mb-1",children:(a?.totalVoters||0).toLocaleString()}),(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400 font-medium",children:"Participantes Ãºnicos"})]}),(0,b.jsxs)("div",{className:"glass-effect rounded-xl shadow-lg p-6 border border-gray-200/50 dark:border-gray-700/50 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-gradient-to-br from-red-100 to-red-200 dark:from-red-900/40 dark:to-red-800/40 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,b.jsx)(T,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,b.jsx)("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Poder"})]}),(0,b.jsxs)("h3",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-red-800 dark:from-red-400 dark:to-red-600 bg-clip-text text-transparent mb-1",children:[(Number(e)/1e6).toFixed(2),"M"]}),(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400 font-medium",children:"IDS em circulaÃ§Ã£o"})]})]})}let Z=(0,f.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),$=(0,f.default)("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);function _({proposals:a}){let d=(0,c.useMemo)(()=>{if(!a||0===a.length)return{plutonimiaIndex:0,giniCoefficient:0,topVoterConcentration:0,averageVoteEquality:0};let b=0,c=0,d=0,e=0,f=0;return(a.forEach(a=>{if(!a.votes||0===a.votes.length)return;let g=[...a.votes].sort((a,b)=>{let c=Number(a.weight);return Number(b.weight)-c}),h=g.reduce((a,b)=>a+Number(b.weight),0);if(0===h)return;let i=Number(g[0].weight),j=h/g.length;b+=Math.max(0,100-(i/j-1)*10);let k=0,l=0;for(let a=0;a<g.length;a++)for(let b=0;b<g.length;b++)l+=Math.abs(Number(g[a].weight)-Number(g[b].weight));g.length>1&&(k=l/(2*g.length*h)),c+=(1-k)*100;let m=Math.max(1,Math.floor(.1*g.length)),n=g.slice(0,m).reduce((a,b)=>a+Number(b.weight),0);d+=Math.max(0,100-n/h*100);let o=g.map(a=>Math.abs(Number(a.weight)-j)/j),p=Math.max(0,100-100*(o.reduce((a,b)=>a+b,0)/o.length));e+=p,f++}),0===f)?{plutonimiaIndex:0,giniCoefficient:0,topVoterConcentration:0,averageVoteEquality:0}:{plutonimiaIndex:Math.round(b/f),giniCoefficient:Math.round(c/f),topVoterConcentration:Math.round(d/f),averageVoteEquality:Math.round(e/f)}},[a]),e=a=>a>=80?"text-green-600 dark:text-green-400":a>=60?"text-yellow-600 dark:text-yellow-400":a>=40?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400",f=Math.round((d.plutonimiaIndex+d.giniCoefficient+d.topVoterConcentration+d.averageVoteEquality)/4);return(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)($,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"MÃ©tricas de Plutonomia"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400 mb-6",children:"AnÃ¡lise da distribuiÃ§Ã£o de poder de voto no sistema. Quanto mais prÃ³ximo de 100, mais igualitÃ¡rio."}),(0,b.jsx)("div",{className:`mb-6 p-4 rounded-lg ${f>=80?"bg-green-100 dark:bg-green-900/20":f>=60?"bg-yellow-100 dark:bg-yellow-900/20":f>=40?"bg-orange-100 dark:bg-orange-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ãndice Geral de Igualdade"}),(0,b.jsxs)("p",{className:`text-3xl font-bold ${e(f)}`,children:[f,"/100"]})]}),(0,b.jsx)("div",{className:"text-4xl",children:f>=80?"ðŸŽ‰":f>=60?"âœ…":f>=40?"âš ï¸":"ðŸš¨"})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(Z,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Ãndice Anti-Plutonomia"})]}),(0,b.jsxs)("p",{className:`text-2xl font-bold ${e(d.plutonimiaIndex)}`,children:[d.plutonimiaIndex,"/100"]}),(0,b.jsx)("p",{className:"text-xs text-gray-700 dark:text-gray-400 mt-1",children:"Mede a reduÃ§Ã£o de poder de grandes holders"})]}),(0,b.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)($,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Coeficiente de Gini Invertido"})]}),(0,b.jsxs)("p",{className:`text-2xl font-bold ${e(d.giniCoefficient)}`,children:[d.giniCoefficient,"/100"]}),(0,b.jsx)("p",{className:"text-xs text-gray-700 dark:text-gray-400 mt-1",children:"Desigualdade de distribuiÃ§Ã£o (100 = igualitÃ¡rio)"})]}),(0,b.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(r.AlertCircle,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"DesconcentraÃ§Ã£o Top 10%"})]}),(0,b.jsxs)("p",{className:`text-2xl font-bold ${e(d.topVoterConcentration)}`,children:[d.topVoterConcentration,"/100"]}),(0,b.jsx)("p",{className:"text-xs text-gray-700 dark:text-gray-400 mt-1",children:"Quanto poder os maiores votantes NÃƒO tÃªm"})]}),(0,b.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(g,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Igualdade MÃ©dia de Voto"})]}),(0,b.jsxs)("p",{className:`text-2xl font-bold ${e(d.averageVoteEquality)}`,children:[d.averageVoteEquality,"/100"]}),(0,b.jsx)("p",{className:"text-xs text-gray-700 dark:text-gray-400 mt-1",children:"Proximidade Ã  mÃ©dia (desvio padrÃ£o)"})]})]}),(0,b.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"ðŸ“Š Como Interpretar"}),(0,b.jsxs)("ul",{className:"text-xs text-blue-800 dark:text-blue-200 space-y-1",children:[(0,b.jsxs)("li",{children:["â€¢ ",(0,b.jsx)("strong",{children:"80-100:"})," Sistema altamente igualitÃ¡rio âœ…"]}),(0,b.jsxs)("li",{children:["â€¢ ",(0,b.jsx)("strong",{children:"60-79:"})," Boa distribuiÃ§Ã£o de poder âš–ï¸"]}),(0,b.jsxs)("li",{children:["â€¢ ",(0,b.jsx)("strong",{children:"40-59:"})," ConcentraÃ§Ã£o moderada âš ï¸"]}),(0,b.jsxs)("li",{children:["â€¢ ",(0,b.jsx)("strong",{children:"0-39:"})," Plutonomia detectada ðŸš¨"]})]})]}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"DistribuiÃ§Ã£o por Tipo de VotaÃ§Ã£o"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["LINEAR","QUADRATIC","LOGARITHMIC","CONSENSUS"].map(c=>{let d=a.filter(a=>a.voteType===c).length,e=a.length>0?Math.round(d/a.length*100):0;return(0,b.jsxs)("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-700/50 rounded",children:[(0,b.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:["LINEAR"===c&&"Linear","QUADRATIC"===c&&"QuadrÃ¡tica","LOGARITHMIC"===c&&"LogarÃ­tmica","CONSENSUS"===c&&"Consenso"]}),(0,b.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[e,"%"]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",d,")"]})]},c)})})]})]})}var aa=a.i(73570);let ab=(0,f.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var ac=a.i(887780);function ad(){let{address:a}=(0,d.useAccount)(),{status:e,health:f,stats:g,loading:h}=function(a){let[b,d]=(0,c.useState)(null),[e,f]=(0,c.useState)(0),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!0),{data:k,refetch:l}=(0,ac.useReadContract)({address:F,abi:K,functionName:"getSecurityStatus",args:a?[a]:void 0,query:{enabled:!!a}}),{data:m,refetch:n}=(0,ac.useReadContract)({address:F,abi:K,functionName:"getWalletHealthScore",args:a?[a]:void 0,query:{enabled:!!a}}),{data:o,refetch:p}=(0,ac.useReadContract)({address:F,abi:K,functionName:"getWalletStats",args:a?[a]:void 0,query:{enabled:!!a}}),{data:q}=(0,ac.useReadContract)({address:F,abi:K,functionName:"getRemainingDailyLimit",args:a?[a]:void 0,query:{enabled:!!a}});(0,c.useEffect)(()=>{if(!a)return void j(!1);if(k){let[a,b,c,e,f,g]=k;d({isVerified:a,isBlocked:b,riskScore:Number(c),status:["Active","Monitoring","Quarantine","Blocked","Destroyed"][Number(e)],balance:f.toString(),config:{requireBiometric:g.requireBiometric,requireGeolocation:g.requireGeolocation,autoBlockOnFraud:g.autoBlockOnFraud,allowRecovery:g.allowRecovery,minConfirmations:Number(g.minConfirmations),dailyTransferLimit:g.dailyTransferLimit.toString()}})}if(m&&f(Number(m)),o){let[a,b,c,d,e,f]=o;h({totalTransfers:Number(a),totalReceived:b.toString(),totalSent:c.toString(),fraudIncidents:Number(d),recoveryAttempts:Number(e),lastActivityAt:Number(f)})}j(!1)},[a,k,m,o]);let r=async()=>{await Promise.all([l(),n(),p()])};return{status:b,health:e,stats:g,dailyLimitRemaining:q?q.toString():"0",loading:i,refresh:r}}(a);if(!a)return(0,b.jsxs)("div",{className:"glass-panel p-6 text-center",children:[(0,b.jsx)(T,{className:"w-12 h-12 text-gray-500 dark:text-gray-400 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-700 dark:text-gray-400",children:"Conecte sua carteira para ver o status de seguranÃ§a"})]});if(h)return(0,b.jsx)("div",{className:"glass-panel p-6",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded"}),(0,b.jsx)("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded"}),(0,b.jsx)("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded"})]})});let i=e?.isBlocked?"red":e?.status==="Quarantine"?"orange":e?.status==="Monitoring"?"yellow":"green",k=f>=90?"green":f>=70?"yellow":f>=50?"orange":"red";return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"glass-panel p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold gradient-rgb flex items-center gap-2",children:[(0,b.jsx)(T,{className:"w-7 h-7"}),"Carteira Soberana"]}),(0,b.jsxs)("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full bg-${i}-100 dark:bg-${i}-900/30 text-${i}-700 dark:text-${i}-400`,children:[e?.isBlocked?(0,b.jsx)(j.XCircle,{className:"w-6 h-6"}):e?.status==="Quarantine"?(0,b.jsx)(aa.AlertTriangle,{className:"w-6 h-6"}):(0,b.jsx)(q,{className:"w-6 h-6"}),(0,b.jsx)("span",{className:"font-semibold",children:e?.isBlocked?"Bloqueada":e?.status||"Ativa"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Risk Score"}),(0,b.jsx)("span",{className:`text-2xl font-bold text-${i}-600 dark:text-${i}-400`,children:e?.riskScore||0})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,b.jsx)("div",{className:"h-3 rounded-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 transition-all duration-500",style:{width:`${Math.min(e?.riskScore||0,100)}%`}})}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-600 dark:text-gray-500",children:[(0,b.jsx)("span",{children:"0 (Seguro)"}),(0,b.jsx)("span",{children:"40 (Quarentena)"}),(0,b.jsx)("span",{children:"70 (Bloqueio)"})]})]})]}),(0,b.jsxs)("div",{className:"glass-panel p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,b.jsx)(ab,{className:"w-5 h-5"}),"SaÃºde da Carteira"]}),(0,b.jsxs)("span",{className:`text-3xl font-bold text-${k}-600 dark:text-${k}-400`,children:[f||0,(0,b.jsx)("span",{className:"text-lg",children:"/100"})]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 mb-4",children:(0,b.jsx)("div",{className:`h-4 rounded-full bg-gradient-to-r from-${k}-400 to-${k}-600 transition-all duration-500`,style:{width:`${f||0}%`}})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-700 dark:text-gray-400",children:"Status:"}),(0,b.jsx)("span",{className:"ml-2 font-semibold",children:f>=90?"ðŸŸ¢ Excelente":f>=70?"ðŸŸ¡ Bom":f>=50?"ðŸŸ  AtenÃ§Ã£o":"ðŸ”´ CrÃ­tico"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-700 dark:text-gray-400",children:"AÃ§Ã£o:"}),(0,b.jsx)("span",{className:"ml-2 font-semibold",children:f>=90?"Nada":f>=70?"Revisar":f>=50?"Aumentar seguranÃ§a":"Imediata"})]})]})]}),(0,b.jsxs)("div",{className:"glass-panel p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Saldo SOB"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-4xl font-bold gradient-rgb mb-2",children:e?.balance?parseFloat(e.balance).toLocaleString("pt-BR",{maximumFractionDigits:2}):"0"}),(0,b.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Tokens Soberanos"})]})]}),(0,b.jsxs)("div",{className:"glass-panel p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"EstatÃ­sticas"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(ae,{label:"TransferÃªncias",value:g?.totalTransfers||0,icon:"ðŸ“¤"}),(0,b.jsx)(ae,{label:"Recebido",value:`${g?.totalReceived||0} SOB`,icon:"ðŸ“¥"}),(0,b.jsx)(ae,{label:"Enviado",value:`${g?.totalSent||0} SOB`,icon:"ðŸ’¸"}),(0,b.jsx)(ae,{label:"Incidentes",value:g?.fraudIncidents||0,icon:(g?.fraudIncidents||0)>0?"âš ï¸":"âœ…",alert:(g?.fraudIncidents||0)>0})]})]}),(0,b.jsxs)("div",{className:"glass-panel p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"ConfiguraÃ§Ãµes Ativas"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(af,{label:"Biometria ObrigatÃ³ria",enabled:e?.config?.requireBiometric}),(0,b.jsx)(af,{label:"GeolocalizaÃ§Ã£o",enabled:e?.config?.requireGeolocation}),(0,b.jsx)(af,{label:"Auto-Bloqueio em Fraude",enabled:e?.config?.autoBlockOnFraud}),(0,b.jsx)(af,{label:"RecuperaÃ§Ã£o Habilitada",enabled:e?.config?.allowRecovery})]})]}),e?.isBlocked&&(0,b.jsx)("div",{className:"glass-panel p-6 border-2 border-red-500",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(j.XCircle,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-red-700 dark:text-red-400 mb-2",children:"Carteira Bloqueada"}),(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400 mb-3",children:"Sua carteira foi bloqueada automaticamente devido a atividade suspeita. Seus tokens estÃ£o seguros."}),(0,b.jsx)("button",{className:"btn-primary text-sm",children:"Iniciar RecuperaÃ§Ã£o"})]})]})}),e?.status==="Quarantine"&&(0,b.jsx)("div",{className:"glass-panel p-6 border-2 border-orange-500",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(aa.AlertTriangle,{className:"w-6 h-6 text-orange-500 flex-shrink-0 mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-orange-700 dark:text-orange-400 mb-2",children:"Carteira em Quarentena"}),(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Atividade suspeita detectada. TransaÃ§Ãµes grandes requerem confirmaÃ§Ã£o adicional de outra carteira."})]})]})})]})}function ae({label:a,value:c,icon:d,alert:e=!1}){return(0,b.jsxs)("div",{className:`p-4 rounded-lg ${e?"bg-red-50 dark:bg-red-900/20":"bg-gray-50 dark:bg-gray-800/50"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("span",{className:"text-xl",children:d}),(0,b.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-400",children:a})]}),(0,b.jsx)("div",{className:`text-xl font-bold ${e?"text-red-600 dark:text-red-400":""}`,children:c})]})}function af({label:a,enabled:c}){return(0,b.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:a}),(0,b.jsxs)("div",{className:`flex items-center gap-2 ${c?"text-green-600":"text-gray-400"}`,children:[c?(0,b.jsx)(q,{className:"w-5 h-5"}):(0,b.jsx)(j.XCircle,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:c?"Ativado":"Desativado"})]})]})}let ag=[{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getIdentity",outputs:[{internalType:"bytes32",name:"identityId",type:"bytes32"},{internalType:"address",name:"primaryWallet",type:"address"},{internalType:"address[]",name:"wallets",type:"address[]"},{internalType:"uint8",name:"walletCount",type:"uint8"},{internalType:"bool",name:"isActive",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"createIdentity",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newWallet",type:"address"}],name:"addWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"walletToRemove",type:"address"}],name:"removeWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newPrimary",type:"address"}],name:"changePrimaryWallet",outputs:[],stateMutability:"nonpayable",type:"function"}];function ah(a){let[b,d]=(0,c.useState)(null),[e,f]=(0,c.useState)(!0),{data:g,refetch:h}=(0,ac.useReadContract)({address:G,abi:ag,functionName:"getIdentity",args:a?[a]:void 0,query:{enabled:!!a}}),{writeContract:i,isPending:j}=(0,u.useWriteContract)(),{writeContract:k,isPending:l}=(0,u.useWriteContract)(),{writeContract:m,isPending:n}=(0,u.useWriteContract)(),{writeContract:o,isPending:p}=(0,u.useWriteContract)();return(0,c.useEffect)(()=>{if(!a)return void f(!1);if(g){let[a,b,c,e,f]=g;d({identityId:a,primaryWallet:b,wallets:[...c],walletCount:Number(e),isActive:f})}f(!1)},[a,g]),{identity:b,loading:e,refetch:h,createIdentity:()=>{i({address:G,abi:ag,functionName:"createIdentity"})},addWallet:a=>{k({address:G,abi:ag,functionName:"addWallet",args:[a]})},removeWallet:a=>{m({address:G,abi:ag,functionName:"removeWallet",args:[a]})},changePrimary:a=>{o({address:G,abi:ag,functionName:"changePrimaryWallet",args:[a]})},isCreating:j,isAdding:l,isRemoving:n,isChanging:p}}function ai(){let{address:a}=(0,d.useAccount)(),{identity:e,loading:f,createIdentity:g,addWallet:h,removeWallet:i,changePrimary:j,isAdding:k,isRemoving:l}=ah(a),[m,n]=(0,c.useState)("");return f?(0,b.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})}):e?.isActive?(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Multi-Wallet Manager"}),(0,b.jsx)("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border dark:border-gray-700",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Identity ID"}),(0,b.jsxs)("p",{className:"font-mono text-sm",children:[e.identityId.slice(0,10),"..."]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Carteiras Ativas"}),(0,b.jsxs)("p",{className:"font-bold text-lg",children:[e.walletCount," / 5"]})]})]})}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Carteira PrimÃ¡ria"}),(0,b.jsx)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-lg",children:(0,b.jsx)("p",{className:"font-mono text-sm",children:e.primaryWallet})})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Todas as Carteiras"}),(0,b.jsx)("div",{className:"space-y-2",children:e.wallets.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:["#",c+1]}),(0,b.jsx)("p",{className:"font-mono text-sm",children:a}),a===e.primaryWallet&&(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"PrimÃ¡ria"})]}),(0,b.jsx)("div",{className:"flex space-x-2",children:a!==e.primaryWallet&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>j(a),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Tornar PrimÃ¡ria"}),(0,b.jsx)("button",{onClick:()=>i(a),disabled:l,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition disabled:bg-gray-400",children:"Remover"})]})})]},a))})]}),e.walletCount<5&&(0,b.jsxs)("div",{className:"border-t pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Adicionar Nova Carteira"}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("input",{type:"text",value:m,onChange:a=>n(a.target.value),placeholder:"0x...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"}),(0,b.jsx)("button",{onClick:()=>{m.match(/^0x[a-fA-F0-9]{40}$/)&&(h(m),n(""))},disabled:k||!m.match(/^0x[a-fA-F0-9]{40}$/),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:bg-gray-400",children:"Adicionar"})]}),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-500",children:"âš ï¸ Nova carteira terÃ¡ perÃ­odo de espera de 7 dias antes de se tornar ativa"})]})]}):(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Multi-Wallet Identity"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"VocÃª ainda nÃ£o tem uma identidade multi-carteira. Crie uma para gerenciar atÃ© 5 carteiras."}),(0,b.jsx)("button",{onClick:g,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition",children:"Criar Identidade"})]})}let aj=[{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getWalletStatus",outputs:[{internalType:"uint256",name:"riskScore",type:"uint256"},{internalType:"bool",name:"isBlocked",type:"bool"},{internalType:"uint256",name:"lastActionTime",type:"uint256"},{internalType:"uint256",name:"actionCount24h",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getRecentIncidents",outputs:[{components:[{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"string",name:"reason",type:"string"},{internalType:"uint256",name:"riskScore",type:"uint256"},{internalType:"bool",name:"wasBlocked",type:"bool"}],internalType:"struct FraudDetection.Incident[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getDetectionRules",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint256",name:"weight",type:"uint256"}],internalType:"struct FraudDetection.Rule[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}];function ak(){var a;let{address:e}=(0,d.useAccount)(),{status:f,incidents:g,rules:h,loading:i,refresh:j}=function(a){let[b,d]=(0,c.useState)(null),[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),{data:k,refetch:l}=(0,ac.useReadContract)({address:H,abi:aj,functionName:"getWalletStatus",args:a?[a]:void 0,query:{enabled:!!a}}),{data:m,refetch:n}=(0,ac.useReadContract)({address:H,abi:aj,functionName:"getRecentIncidents",args:a?[a]:void 0,query:{enabled:!!a}}),{data:o,refetch:p}=(0,ac.useReadContract)({address:H,abi:aj,functionName:"getDetectionRules",args:a?[a]:void 0,query:{enabled:!!a}});return(0,c.useEffect)(()=>{if(!a)return void j(!1);if(k){let[a,b,c,e]=k;d({riskScore:Number(a),isBlocked:b,lastActionTime:Number(c),actionCount24h:Number(e)})}m&&f(m.map(a=>({timestamp:Number(a.timestamp),reason:a.reason,riskScore:Number(a.riskScore),wasBlocked:a.wasBlocked}))),o&&h(o.map(a=>({name:a.name,isActive:a.isActive,weight:Number(a.weight)}))),j(!1)},[a,k,m,o]),{status:b,incidents:e,rules:g,loading:i,refresh:async()=>{await Promise.all([l(),n(),p()])}}}(e);if((0,c.useEffect)(()=>{let a=setInterval(()=>{j()},3e4);return()=>clearInterval(a)},[j]),i)return(0,b.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})});let k=a=>a>=70?"red":a>=40?"orange":a>=20?"yellow":"green";return(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Monitor de Fraude"}),(0,b.jsx)("button",{onClick:j,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"ðŸ”„ Atualizar"})]}),f&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Score de Risco"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("p",{className:`text-2xl font-bold text-${k(f.riskScore)}-600 dark:text-${k(f.riskScore)}-400`,children:f.riskScore}),(0,b.jsx)("span",{className:`px-2 py-1 bg-${k(f.riskScore)}-100 dark:bg-${k(f.riskScore)}-900/30 text-${k(f.riskScore)}-800 dark:text-${k(f.riskScore)}-400 text-xs rounded-full`,children:(a=f.riskScore)>=70?"Alto":a>=40?"MÃ©dio":a>=20?"Baixo":"MÃ­nimo"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Status"}),(0,b.jsx)("p",{className:`text-lg font-semibold ${f.isBlocked?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:f.isBlocked?"ðŸ”’ Bloqueado":"âœ… Ativo"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"AÃ§Ãµes (24h)"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:f.actionCount24h})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Ãšltima AÃ§Ã£o"}),(0,b.jsx)("p",{className:"text-sm",children:f.lastActionTime>0?new Date(1e3*f.lastActionTime).toLocaleString("pt-BR"):"Nenhuma"})]})]})}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Regras de DetecÃ§Ã£o"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:h.map((a,c)=>(0,b.jsx)("div",{className:`p-3 rounded-lg border-2 ${a.isActive?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700"}`,children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:["Peso: ",a.weight," pontos"]})]}),(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${a.isActive?"bg-green-500":"bg-gray-400"}`})]})},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Incidentes Recentes"}),0===g.length?(0,b.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-center",children:(0,b.jsx)("p",{className:"text-green-800 dark:text-green-200",children:"âœ… Nenhum incidente detectado"})}):(0,b.jsx)("div",{className:"space-y-2",children:g.map((a,c)=>(0,b.jsx)("div",{className:`p-4 rounded-lg border-2 ${a.wasBlocked?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"}`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,b.jsx)("span",{className:"text-lg",children:a.wasBlocked?"ðŸš«":"âš ï¸"}),(0,b.jsx)("p",{className:"font-medium",children:a.reason})]}),(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:new Date(1e3*a.timestamp).toLocaleString("pt-BR")})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Score"}),(0,b.jsx)("p",{className:`text-lg font-bold text-${k(a.riskScore)}-600 dark:text-${k(a.riskScore)}-400`,children:a.riskScore})]})]})},c))})]})]})}let al=[{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getRecoveryStatus",outputs:[{internalType:"bool",name:"isActive",type:"bool"},{internalType:"address",name:"newWallet",type:"address"},{internalType:"uint256",name:"proofsSubmitted",type:"uint256"},{internalType:"uint256",name:"totalScore",type:"uint256"},{internalType:"uint256",name:"guardiansVoted",type:"uint256"},{internalType:"uint256",name:"guardiansRequired",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"compromisedWallet",type:"address"},{internalType:"address",name:"newWallet",type:"address"}],name:"initiateRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"},{internalType:"uint8",name:"proofType",type:"uint8"},{internalType:"bytes32",name:"proofHash",type:"bytes32"}],name:"submitProof",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"},{internalType:"bool",name:"approve",type:"bool"}],name:"voteRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"executeRecovery",outputs:[],stateMutability:"nonpayable",type:"function"}],am=[{id:0,name:"BiomÃ©trico",weight:"90-100%"},{id:1,name:"Dispositivo",weight:"85-95%"},{id:2,name:"Documento",weight:"80-90%"},{id:3,name:"Email",weight:"70-80%"},{id:4,name:"Telefone",weight:"70-80%"},{id:5,name:"LocalizaÃ§Ã£o",weight:"60-70%"},{id:6,name:"Social",weight:"50-60%"},{id:7,name:"HistÃ³rico",weight:"40-50%"}];function an(){let{address:a}=(0,d.useAccount)(),{status:e,loading:f,initiateRecovery:g,submitProof:h,executeRecovery:i,isInitiating:j,isSubmitting:k,isExecuting:l}=function(a){let[b,d]=(0,c.useState)(null),[e,f]=(0,c.useState)(!0),{data:g,refetch:h}=(0,ac.useReadContract)({address:I,abi:al,functionName:"getRecoveryStatus",args:a?[a]:void 0,query:{enabled:!!a}}),{writeContract:i,isPending:j}=(0,u.useWriteContract)(),{writeContract:k,isPending:l}=(0,u.useWriteContract)(),{writeContract:m,isPending:n}=(0,u.useWriteContract)(),{writeContract:o,isPending:p}=(0,u.useWriteContract)();return(0,c.useEffect)(()=>{if(!a)return void f(!1);if(g){let[a,b,c,e,f,h,i]=g;d({isActive:a,newWallet:b,proofsSubmitted:Number(c),totalScore:Number(e),guardiansVoted:Number(f),guardiansRequired:Number(h),executionTime:Number(i)})}f(!1)},[a,g]),{status:b,loading:e,refetch:h,initiateRecovery:(a,b)=>{i({address:I,abi:al,functionName:"initiateRecovery",args:[a,b]})},submitProof:(a,b,c)=>{k({address:I,abi:al,functionName:"submitProof",args:[a,b,c]})},voteRecovery:(a,b)=>{m({address:I,abi:al,functionName:"voteRecovery",args:[a,b]})},executeRecovery:a=>{o({address:I,abi:al,functionName:"executeRecovery",args:[a]})},isInitiating:j,isSubmitting:l,isVoting:n,isExecuting:p}}(a),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(0),[q,r]=(0,c.useState)("");if(f)return(0,b.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})});let s=e?.isActive&&e.guardiansVoted>=e.guardiansRequired&&e.totalScore>=80&&e.executionTime>0&&Date.now()/1e3>=e.executionTime,t=e?.executionTime?Math.max(0,e.executionTime-Date.now()/1e3):0;return(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"RecuperaÃ§Ã£o de Carteira"}),e?.isActive?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-200 dark:border-yellow-800 rounded-lg",children:[(0,b.jsx)("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-3",children:"ðŸ”„ RecuperaÃ§Ã£o em Andamento"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Nova Carteira"}),(0,b.jsxs)("p",{className:"font-mono text-sm",children:[e.newWallet.slice(0,10),"...",e.newWallet.slice(-8)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Provas Submetidas"}),(0,b.jsx)("p",{className:"text-xl font-bold",children:e.proofsSubmitted})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"PontuaÃ§Ã£o Total"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("p",{className:`text-xl font-bold ${e.totalScore>=80?"text-green-600":"text-yellow-600"}`,children:e.totalScore}),(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-500",children:"/ 80 mÃ­nimo"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"Votos dos GuardiÃµes"}),(0,b.jsxs)("p",{className:"text-xl font-bold",children:[e.guardiansVoted," / ",e.guardiansRequired]})]})]})]}),(0,b.jsxs)("div",{className:"border-t pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Submeter Prova"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Prova"}),(0,b.jsx)("select",{value:o,onChange:a=>p(Number(a.target.value)),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:am.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," (",a.weight,")"]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dados da Prova (Hash)"}),(0,b.jsx)("input",{type:"text",value:q,onChange:a=>r(a.target.value),placeholder:"Digite o hash da prova...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),(0,b.jsx)("button",{onClick:()=>{a&&q&&(h(a,o,`0x${q.padEnd(64,"0")}`),r(""))},disabled:k||!q,className:"w-full px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:bg-gray-400",children:k?"Submetendo...":"Submeter Prova"})]})]}),e.totalScore>=80&&e.guardiansVoted>=e.guardiansRequired&&(0,b.jsxs)("div",{className:"border-t pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Executar RecuperaÃ§Ã£o"}),t>0?(0,b.jsx)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-center",children:(0,b.jsxs)("p",{className:"text-blue-800 dark:text-blue-200",children:["â³ PerÃ­odo de contestaÃ§Ã£o: ",Math.ceil(t/3600)," horas restantes"]})}):s?(0,b.jsx)("button",{onClick:()=>{a&&i(a)},disabled:l,className:"w-full px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition disabled:bg-gray-400 font-semibold text-lg",children:l?"Executando...":"âœ… Executar RecuperaÃ§Ã£o"}):(0,b.jsx)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg text-center",children:(0,b.jsx)("p",{className:"text-gray-700 dark:text-gray-400",children:"Requisitos ainda nÃ£o atendidos"})})]})]}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"â„¹ï¸ Como Funciona"}),(0,b.jsxs)("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-1",children:[(0,b.jsx)("li",{children:"â€¢ Inicie a recuperaÃ§Ã£o informando a nova carteira"}),(0,b.jsx)("li",{children:"â€¢ Submeta provas de identidade (mÃ­nimo 80 pontos)"}),(0,b.jsx)("li",{children:"â€¢ GuardiÃµes votam na aprovaÃ§Ã£o (quorum 2/3)"}),(0,b.jsx)("li",{children:"â€¢ Aguarde 72h para contestaÃ§Ã£o"}),(0,b.jsx)("li",{children:"â€¢ Execute a recuperaÃ§Ã£o e transfira os tokens"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova Carteira (destino)"}),(0,b.jsx)("input",{type:"text",value:m,onChange:a=>n(a.target.value),placeholder:"0x...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),(0,b.jsx)("button",{onClick:()=>{a&&m.match(/^0x[a-fA-F0-9]{40}$/)&&g(a,m)},disabled:j||!m.match(/^0x[a-fA-F0-9]{40}$/),className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:bg-gray-400 font-semibold",children:j?"Iniciando...":"Iniciar RecuperaÃ§Ã£o"})]})]})]})}var ao=a.i(137252);function ap(){let{address:a}=(0,d.useAccount)(),{transfer:e,isPending:f,isSuccess:g,error:h}=function(){let[a,b]=(0,c.useState)(!1),[d,e]=(0,c.useState)(null),{writeContract:f,isSuccess:g,data:h}=(0,u.useWriteContract)();return{transfer:async a=>{b(!0),e(null);try{let b=a.biometricHash||"0x0000000000000000000000000000000000000000000000000000000000000000",c=a.geolocation||"",d=a.deviceFingerprint||"0x0000000000000000000000000000000000000000000000000000000000000000";f({address:F,abi:K,functionName:"secureTransfer",args:[a.to,a.amount,b,c,d]})}catch(a){e(a.message||"Transfer failed")}finally{b(!1)}},isPending:a,isSuccess:g,error:d,hash:h}}(),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),v=async a=>{if(a.preventDefault(),!i.match(/^0x[a-fA-F0-9]{40}$/))return void alert("EndereÃ§o do destinatÃ¡rio invÃ¡lido");if(0>=parseFloat(k))return void alert("Valor deve ser maior que zero");let b=`0x${navigator.userAgent.slice(0,64).split("").map(a=>a.charCodeAt(0).toString(16)).join("").padEnd(64,"0")}`,c=m&&q?`0x${q.padEnd(64,"0")}`:void 0;await e({to:i,amount:(0,ao.parseEther)(k),biometricHash:c,geolocation:o?s:void 0,deviceFingerprint:b}),g&&(j(""),l(""),r(""),t(""))};return(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"TransferÃªncia Segura"}),a?(0,b.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"DestinatÃ¡rio"}),(0,b.jsx)("input",{type:"text",value:i,onChange:a=>j(a.target.value),placeholder:"0x...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor (SOB)"}),(0,b.jsx)("input",{type:"number",step:"0.000001",value:k,onChange:a=>l(a.target.value),placeholder:"0.0",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",required:!0})]}),(0,b.jsxs)("div",{className:"border-t pt-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"OpÃ§Ãµes de SeguranÃ§a"}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:m,onChange:a=>n(a.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"VerificaÃ§Ã£o BiomÃ©trica"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Adiciona camada extra de seguranÃ§a"})]})]}),m&&(0,b.jsxs)("div",{className:"mt-2 ml-8",children:[(0,b.jsx)("input",{type:"text",value:q,onChange:a=>r(a.target.value),placeholder:"Hash da impressÃ£o digital",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-600 dark:text-gray-500",children:"Em produÃ§Ã£o: captura automÃ¡tica via WebAuthn"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:o,onChange:a=>p(a.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"VerificaÃ§Ã£o de LocalizaÃ§Ã£o"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Detecta transferÃªncias de locais suspeitos"})]})]}),o&&(0,b.jsx)("div",{className:"mt-2 ml-8",children:(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("input",{type:"text",value:s,readOnly:!0,placeholder:"Clique para capturar",className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800"}),(0,b.jsx)("button",{type:"button",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(a=>{t(`${a.coords.latitude},${a.coords.longitude}`)},a=>{alert("Erro ao capturar geolocalizaÃ§Ã£o: "+a.message)}):alert("GeolocalizaÃ§Ã£o nÃ£o suportada pelo navegador")},className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"ðŸ“ Capturar"})]})})]})]}),(0,b.jsx)("div",{className:"border-t pt-4",children:(0,b.jsx)("button",{type:"submit",disabled:f,className:"w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:bg-gray-400 font-semibold text-lg",children:f?"Processando...":"ðŸ’° Transferir"})}),h&&(0,b.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,b.jsxs)("p",{className:"text-red-800 dark:text-red-200 text-sm",children:["âŒ Erro: ",h]})}),g&&(0,b.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:(0,b.jsx)("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"âœ… TransferÃªncia realizada com sucesso!"})}),(0,b.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,b.jsx)("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"â„¹ï¸ SeguranÃ§a"}),(0,b.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[(0,b.jsx)("li",{children:"â€¢ A transferÃªncia serÃ¡ analisada em tempo real"}),(0,b.jsx)("li",{children:"â€¢ Score de risco serÃ¡ calculado automaticamente"}),(0,b.jsx)("li",{children:"â€¢ TransferÃªncias suspeitas podem ser bloqueadas"}),(0,b.jsx)("li",{children:"â€¢ Dispositivo e padrÃµes de uso sÃ£o verificados"})]})]})]}):(0,b.jsx)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-center",children:(0,b.jsx)("p",{className:"text-yellow-800 dark:text-yellow-200",children:"âš ï¸ Conecte sua carteira para realizar transferÃªncias"})})]})}var aq=a.i(310653),ar=a.i(864457),as=a.i(101662);function at(a={}){let{enabled:b=!0,onLogs:d,config:e,...f}=a,g=(0,as.useConfig)(a),h=(0,t.useChainId)({config:g}),i=a.chainId??h;(0,c.useEffect)(()=>{if(b&&d)return function(a,b){let c,d,{syncConnectedChain:e=a._internal.syncConnectedChain,...f}=b,g=b=>{c&&c();let d=a.getClient({chainId:b});return c=(0,ar.getAction)(d,aq.watchContractEvent,"watchContractEvent")(f)},h=g(b.chainId);return e&&!b.chainId&&(d=a.subscribe(({chainId:a})=>a,async a=>g(a))),()=>{h?.(),d?.()}}(g,{...f,chainId:i,onLogs:d})},[i,g,b,d,f.abi,f.address,f.args,f.batch,f.eventName,f.fromBlock,f.onError,f.poll,f.pollingInterval,f.strict,f.syncConnectedChain])}var au=a.i(875946);let av=[{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getWalletIdentity",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"validateWalletTokens",outputs:[{internalType:"bool",name:"valid",type:"bool"},{internalType:"string",name:"reason",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"citizen",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"citizen",type:"address"}],name:"balanceOfRaw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"citizen",type:"address"}],name:"getCitizenInfo",outputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"totalEarned",type:"uint256"},{internalType:"uint256",name:"lastActivity",type:"uint256"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"address",name:"originalWallet",type:"address"},{internalType:"uint256",name:"checkpointCount",type:"uint256"},{internalType:"uint256",name:"activityCount",type:"uint256"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!0,internalType:"bytes32",name:"identityId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TokensBound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"fromWallet",type:"address"},{indexed:!0,internalType:"address",name:"toWallet",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"identityId",type:"bytes32"}],name:"TokensMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"address",name:"originalWallet",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"string",name:"reason",type:"string"}],name:"TokensDestroyed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!0,internalType:"bytes32",name:"identityId",type:"bytes32"}],name:"WalletIdentityLinked",type:"event"}],aw=[{inputs:[{internalType:"address",name:"fromWallet",type:"address"},{internalType:"address",name:"toWallet",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"migrateTokens",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];function ax(){let{address:a}=(0,d.useAccount)(),[b,e]=(0,c.useState)(null),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)([]),{data:l}=(0,ac.useReadContract)({address:J,abi:av,functionName:"getWalletIdentity",args:a?[a]:void 0,query:{enabled:!!a}}),{data:m}=(0,ac.useReadContract)({address:J,abi:av,functionName:"validateWalletTokens",args:a?[a]:void 0,query:{enabled:!!a}}),{data:n}=(0,ac.useReadContract)({address:J,abi:av,functionName:"balanceOf",args:a?[a]:void 0,query:{enabled:!!a}}),{data:o}=(0,ac.useReadContract)({address:J,abi:av,functionName:"balanceOfRaw",args:a?[a]:void 0,query:{enabled:!!a}}),{data:p}=(0,ac.useReadContract)({address:J,abi:av,functionName:"getCitizenInfo",args:a?[a]:void 0,query:{enabled:!!a}});at({address:J,abi:av,eventName:"TokensMigrated",onLogs:a=>{let b=a.map(a=>({fromWallet:a.args.fromWallet,toWallet:a.args.toWallet,amount:(0,au.formatEther)(a.args.amount),identityId:a.args.identityId,timestamp:Date.now()}));k(a=>[...b,...a].slice(0,10))}}),at({address:J,abi:av,eventName:"TokensDestroyed",onLogs:b=>{b.some(b=>b.args.wallet===a)&&i("âš ï¸ Tokens stolen detected and destroyed! Please use wallet recovery.")}}),(0,c.useEffect)(()=>{if(!a)return void e(null);let[b,c]=m||[!1,"Not checked"],d=p?.[4];e({address:a,identityId:l||"0x0",balance:n?(0,au.formatEther)(n):"0",rawBalance:o?(0,au.formatEther)(o):"0",isValid:b,validationReason:c,originalWallet:d||"0x0",isOriginal:!!d&&d.toLowerCase()===a.toLowerCase(),isMigrated:!!d&&d.toLowerCase()!==a.toLowerCase()})},[a,l,m,n,o,p]);let{writeContractAsync:q}=(0,u.useWriteContract)();return{walletInfo:b,isLoading:f,error:h,recentMigrations:j,migrate:async(b,c)=>{if(!a)return void i("No wallet connected");g(!0),i(null);try{let d=BigInt(Math.floor(1e18*parseFloat(c)));return await q({address:G,abi:aw,functionName:"migrateTokens",args:[a,b,d]})}catch(a){throw i(a.message||"Migration failed"),a}finally{g(!1)}},hasIdentity:!!l&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==l,isSecure:b?.isValid??!1,needsAttention:!!b&&!b.isValid}}let ay=(0,f.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),az=(0,f.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function aA(){let{walletInfo:a,isLoading:c,hasIdentity:d,isSecure:e,needsAttention:f,recentMigrations:g}=ax();return c?(0,b.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 border border-gray-200 dark:border-gray-800",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(az,{className:"w-5 h-5 text-blue-400 animate-spin"}),(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Loading wallet security status..."})]})}):a?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:`rounded-lg p-6 border-2 ${f?"border-red-500 dark:border-red-600 bg-red-50 dark:bg-red-900/20":e?"border-green-500 dark:border-green-600 bg-green-50 dark:bg-green-900/20":"border-yellow-500 dark:border-yellow-600 bg-yellow-50 dark:bg-yellow-900/20"}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[f?(0,b.jsx)(j.XCircle,{className:"w-6 h-6 text-red-400"}):e?(0,b.jsx)(q,{className:"w-6 h-6 text-green-400"}):(0,b.jsx)(aa.AlertTriangle,{className:"w-6 h-6 text-yellow-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Wallet Security Status"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:d?f?"Security issue detected":e&&a.isMigrated?"Secure (Migrated)":e&&a.isOriginal?"Secure (Original)":"Checking...":"No identity linked"})]})]}),(0,b.jsx)(T,{className:"w-8 h-8 text-gray-400 dark:text-gray-600"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 border border-gray-200 dark:border-gray-800",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"SOB Balance"})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[parseFloat(a.balance).toFixed(2)," SOB"]}),a.balance!==a.rawBalance&&(0,b.jsxs)("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:["Raw: ",parseFloat(a.rawBalance).toFixed(2)," SOB"]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 border border-gray-200 dark:border-gray-800",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,b.jsx)(ay,{className:"w-4 h-4 text-purple-400"}),(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Wallet Type"})]}),(0,b.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[a.isOriginal&&"Original Wallet",a.isMigrated&&"Migrated Wallet",!a.isOriginal&&!a.isMigrated&&"New Wallet"]}),a.isMigrated&&(0,b.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 font-mono",children:["From: ",a.originalWallet.slice(0,6),"...",a.originalWallet.slice(-4)]})]})]}),(0,b.jsx)("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-900/30 rounded-lg border border-gray-200 dark:border-gray-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Validation Status:"}),(0,b.jsx)("span",{className:`text-sm font-medium ${a.isValid?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:a.validationReason})]})}),d&&(0,b.jsx)("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-900/30 rounded-lg border border-gray-200 dark:border-gray-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Identity ID:"}),(0,b.jsxs)("span",{className:"text-sm font-mono text-blue-600 dark:text-blue-400",children:[a.identityId.slice(0,10),"...",a.identityId.slice(-8)]})]})}),f&&(0,b.jsx)("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border-2 border-red-500 dark:border-red-500/50 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsx)(aa.AlertTriangle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-red-700 dark:text-red-400 mb-1",children:"Security Alert"}),(0,b.jsx)("p",{className:"text-sm text-red-600 dark:text-red-300",children:a.validationReason}),(0,b.jsx)("button",{className:"mt-3 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Initiate Recovery"})]})]})})]}),g.length>0&&(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 border border-gray-200 dark:border-gray-800",children:[(0,b.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[(0,b.jsx)(az,{className:"w-5 h-5 text-blue-400"}),(0,b.jsx)("span",{children:"Recent Token Migrations"})]}),(0,b.jsx)("div",{className:"space-y-3",children:g.map((a,c)=>(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-950/50 rounded-lg p-3 border border-gray-200 dark:border-gray-800",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Amount"}),(0,b.jsxs)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[parseFloat(a.amount).toFixed(2)," SOB"]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-500",children:[(0,b.jsxs)("span",{className:"font-mono",children:[a.fromWallet.slice(0,6),"...",a.fromWallet.slice(-4)]}),(0,b.jsx)("span",{children:"â†’"}),(0,b.jsxs)("span",{className:"font-mono",children:[a.toWallet.slice(0,6),"...",a.toWallet.slice(-4)]})]})]},c))})]}),(0,b.jsx)("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsx)(T,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[(0,b.jsx)("strong",{children:"Wallet Binding:"})," Your SOB tokens are bound to your identity, not your wallet. This prevents theft - stolen tokens are automatically destroyed. You can safely use up to 5 wallets and migrate tokens between them."]})})]})})]}):null}let aB=(0,f.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var aC=a.i(856738);let aD=(0,f.default)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);function aE(){let{address:a}=(0,d.useAccount)(),{walletInfo:e,migrate:f,isLoading:g,error:h}=ax(),{identity:i}=ah(a),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(null),[p,s]=(0,c.useState)(null),t=e?parseFloat(e.balance):0,u=i?.wallets||[],v=u&&u.length>1,w=async()=>{if(!j||!l)return void s("Please select a wallet and enter an amount");let a=parseFloat(l);if(isNaN(a)||a<=0)return void s("Invalid amount");if(a>t)return void s("Insufficient balance");s(null),o(null);try{let a=await f(j,l);o(a),m(""),k("")}catch(a){s(a.message||"Migration failed")}};if(!v)return(0,b.jsx)("div",{className:"bg-gray-800 dark:bg-gray-900 dark:bg-gray-950 rounded-lg p-6 border border-gray-700 dark:border-gray-800",children:(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsx)(r.AlertCircle,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Token Migration Not Available"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"You need at least 2 wallets to migrate tokens. Add a new wallet using the Multi-Wallet Manager."})]})]})});let x=u?.filter(b=>b.toLowerCase()!==a?.toLowerCase())||[];return(0,b.jsxs)("div",{className:"bg-gray-800 dark:bg-gray-900 dark:bg-gray-950 rounded-lg p-6 border border-gray-700 dark:border-gray-800",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,b.jsx)(D,{className:"w-6 h-6 text-blue-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Migrate Tokens Between Wallets"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Safely move SOB tokens to another wallet in your identity"})]})]}),(0,b.jsx)("div",{className:"bg-gray-900 dark:bg-gray-950/50 rounded-lg p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Available Balance"}),(0,b.jsxs)("span",{className:"text-2xl font-bold text-white",children:[t.toFixed(2)," SOB"]})]})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount to Migrate"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"number",value:l,onChange:a=>m(a.target.value),placeholder:"0.00",step:"0.01",min:"0",max:t,className:"w-full bg-gray-900 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"}),(0,b.jsx)("button",{onClick:()=>m(t.toString()),className:"absolute right-3 top-1/2 -translate-y-1/2 px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-xs font-medium transition-colors",children:"MAX"})]}),l&&(0,b.jsxs)("p",{className:"mt-1 text-xs text-gray-400",children:["Remaining: ",(t-parseFloat(l||"0")).toFixed(2)," SOB"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Destination Wallet"}),(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"w-full bg-gray-900 border border-gray-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"",children:"Select a wallet..."}),x.map(a=>(0,b.jsxs)("option",{value:a,children:[a.slice(0,6),"...",a.slice(-4)]},a))]})]}),a&&j&&(0,b.jsxs)("div",{className:"bg-gray-900 dark:bg-gray-950/30 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(aC.Wallet,{className:"w-4 h-4 text-blue-400"}),(0,b.jsxs)("span",{className:"text-sm font-mono text-gray-300",children:[a.slice(0,6),"...",a.slice(-4)]})]}),(0,b.jsx)(aB,{className:"w-5 h-5 text-gray-500"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(aC.Wallet,{className:"w-4 h-4 text-green-400"}),(0,b.jsxs)("span",{className:"text-sm font-mono text-gray-300",children:[j.slice(0,6),"...",j.slice(-4)]})]})]}),l&&(0,b.jsx)("div",{className:"mt-3 text-center",children:(0,b.jsxs)("span",{className:"text-lg font-bold text-white",children:[parseFloat(l).toFixed(2)," SOB"]})})]}),(h||p)&&(0,b.jsx)("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-3",children:(0,b.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,b.jsx)(r.AlertCircle,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{className:"text-sm text-red-300",children:h||p})]})}),n&&(0,b.jsx)("div",{className:"bg-green-900/20 border border-green-500/50 rounded-lg p-3",children:(0,b.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,b.jsx)(q,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm text-green-300 mb-1",children:"Migration successful!"}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 font-mono break-all",children:["Tx: ",n]})]})]})}),(0,b.jsx)("button",{onClick:w,disabled:g||!l||!j,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg px-6 py-3 font-semibold text-white transition-colors flex items-center justify-center space-x-2",children:g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aD,{className:"w-5 h-5 animate-spin"}),(0,b.jsx)("span",{children:"Migrating..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(D,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Migrate Tokens"})]})})]}),(0,b.jsx)("div",{className:"mt-6 bg-blue-950/20 border border-blue-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsx)(r.AlertCircle,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1 text-sm text-blue-300",children:[(0,b.jsx)("p",{className:"font-semibold mb-1",children:"Safe Migration"}),(0,b.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,b.jsx)("li",{children:"â€¢ Only works between wallets of the same identity"}),(0,b.jsx)("li",{children:"â€¢ Original wallet reference is preserved"}),(0,b.jsx)("li",{children:"â€¢ Tokens remain secure after migration"}),(0,b.jsx)("li",{children:"â€¢ Transaction is atomic (all or nothing)"})]})]})]})})]})}let aF=(0,f.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var aG=a.i(705151);function aH({address:a,isPrimary:d,isCurrent:e,identityId:f}){let[g,h]=c.default.useState(!1),i=`${a.slice(0,6)}...${a.slice(-4)}`;return(0,b.jsxs)("div",{className:`
      bg-gray-900 dark:bg-gray-950 rounded-lg p-4 border-2 transition-all
      ${e?"border-blue-500":"border-gray-700"}
      ${d?"ring-2 ring-yellow-500 ring-offset-2 ring-offset-gray-800":""}
    `,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(aC.Wallet,{className:`w-5 h-5 ${e?"text-blue-400":"text-gray-400"}`}),d&&(0,b.jsx)(aF,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[e&&(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-900/50 text-blue-300 text-xs rounded-full",children:"Active"}),d&&(0,b.jsx)("span",{className:"px-2 py-1 bg-yellow-900/50 text-yellow-300 text-xs rounded-full",children:"Primary"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,b.jsx)("code",{className:"text-sm font-mono text-white",children:i}),(0,b.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(a),h(!0),setTimeout(()=>h(!1),2e3)},className:"p-1 hover:bg-gray-800 rounded transition-colors",title:"Copy address",children:(0,b.jsx)(aG.Copy,{className:`w-3 h-3 ${g?"text-green-400":"text-gray-400"}`})})]}),f&&(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[(0,b.jsx)(T,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:"Linked to Identity"})]})]})}function aI(){let{address:a}=(0,d.useAccount)(),{identity:c,loading:e}=ah(a),{walletInfo:f,hasIdentity:g}=ax();if(e)return(0,b.jsx)("div",{className:"bg-gray-800 dark:bg-gray-900 dark:bg-gray-950 rounded-lg p-6 border border-gray-700 dark:border-gray-800",children:(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})});if(!c||!c.isActive)return(0,b.jsx)("div",{className:"bg-gray-800 dark:bg-gray-900 dark:bg-gray-950 rounded-lg p-6 border border-gray-700 dark:border-gray-800",children:(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsx)(aa.AlertTriangle,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Multi-Wallet Identity"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"You need to create a multi-wallet identity first."})]})]})});let h=c.wallets.length;return(0,b.jsxs)("div",{className:"bg-gray-800 dark:bg-gray-900 dark:bg-gray-950 rounded-lg p-6 border border-gray-700 dark:border-gray-800",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(aC.Wallet,{className:"w-6 h-6 text-blue-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Your Wallets"}),(0,b.jsxs)("p",{className:"text-sm text-gray-400",children:[h," of ",5," wallets linked"]})]})]}),g&&(0,b.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-900/20 rounded-lg",children:[(0,b.jsx)(q,{className:"w-4 h-4 text-green-400"}),(0,b.jsx)("span",{className:"text-sm text-green-300",children:"Secure"})]})]}),(0,b.jsx)("div",{className:"bg-gray-900 dark:bg-gray-950/50 rounded-lg p-4 mb-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-xs text-gray-400 block mb-1",children:"Identity ID"}),(0,b.jsxs)("code",{className:"text-sm font-mono text-white",children:[c.identityId.slice(0,10),"...",c.identityId.slice(-8)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-xs text-gray-400 block mb-1",children:"Primary Wallet"}),(0,b.jsxs)("code",{className:"text-sm font-mono text-white",children:[c.primaryWallet.slice(0,6),"...",c.primaryWallet.slice(-4)]})]})]})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:c.wallets.map(d=>(0,b.jsx)(aH,{address:d,isPrimary:d.toLowerCase()===c.primaryWallet.toLowerCase(),isCurrent:d.toLowerCase()===a?.toLowerCase(),identityId:g?c.identityId:null},d))}),f&&(0,b.jsx)("div",{className:"bg-blue-950/20 border border-blue-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsx)(T,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("p",{className:"text-sm text-blue-300 mb-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Current Wallet Balance:"})," ",parseFloat(f.balance).toFixed(2)," SOB"]}),(0,b.jsx)("div",{className:"flex items-center space-x-2",children:f.isValid?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q,{className:"w-4 h-4 text-green-400"}),(0,b.jsx)("span",{className:"text-xs text-green-300",children:"Tokens validated and secure"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.XCircle,{className:"w-4 h-4 text-red-400"}),(0,b.jsxs)("span",{className:"text-xs text-red-300",children:["Validation issue: ",f.validationReason]})]})})]})]})}),h<5&&(0,b.jsx)("div",{className:"mt-6 bg-gray-900/50 border border-gray-700 rounded-lg p-4",children:(0,b.jsxs)("p",{className:"text-sm text-gray-400",children:["ðŸ’¡ You can add up to ",5-h," more wallet(s) to your identity using the Multi-Wallet Manager."]})})]})}function aJ(){return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(aA,{}),(0,b.jsx)(aI,{}),(0,b.jsx)(aE,{})]})}var aK=a.i(931883);function aL(){let{address:a,isConnected:e}=(0,d.useAccount)(),[f,g]=(0,c.useState)("dashboard");return e?(0,b.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"ðŸ” Carteira Soberana"}),(0,b.jsx)("p",{className:"text-gray-700 dark:text-gray-400",children:"Sistema integrado de seguranÃ§a com 5 camadas de proteÃ§Ã£o"})]}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md mb-6",children:(0,b.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[{id:"dashboard",name:"Dashboard",icon:"ðŸ›¡ï¸"},{id:"transfer",name:"Transferir",icon:"ðŸ’°"},{id:"wallets",name:"Multi-Wallet",icon:"ðŸ‘›"},{id:"binding",name:"SeguranÃ§a SOB",icon:"ðŸ”—"},{id:"fraud",name:"Monitor",icon:"ðŸ”"},{id:"recovery",name:"RecuperaÃ§Ã£o",icon:"ðŸ”„"},{id:"settings",name:"Rede",icon:"ðŸŒ"}].map(a=>(0,b.jsxs)("button",{onClick:()=>g(a.id),className:`flex items-center space-x-2 px-6 py-4 font-semibold transition whitespace-nowrap ${f===a.id?"border-b-2 border-blue-600 dark:border-blue-400 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,b.jsx)("span",{className:"text-xl",children:a.icon}),(0,b.jsx)("span",{children:a.name})]},a.id))})}),(0,b.jsxs)("div",{className:"transition-all duration-300",children:["dashboard"===f&&(0,b.jsx)(ad,{}),"transfer"===f&&(0,b.jsx)(ap,{}),"wallets"===f&&(0,b.jsx)(ai,{}),"binding"===f&&(0,b.jsx)(aJ,{}),"fraud"===f&&(0,b.jsx)(ak,{}),"recovery"===f&&(0,b.jsx)(an,{}),"settings"===f&&(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"ðŸŒ ConfiguraÃ§Ãµes de Rede"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Selecione a rede blockchain para suas transaÃ§Ãµes. O sistema suporta mÃºltiplas chains EVM."}),(0,b.jsx)(aK.ChainSelector,{showTestnets:!1})]})]}),(0,b.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"ðŸ“‹ Camadas de SeguranÃ§a Ativas"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,b.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Prova de Vida"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,b.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Multi-Wallet"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,b.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"DetecÃ§Ã£o Fraude"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,b.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"RecuperaÃ§Ã£o"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,b.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Token SOB"})]})]})]})]}):(0,b.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-12 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ”"}),(0,b.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Carteira Soberana"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sistema de seguranÃ§a de 5 camadas com proteÃ§Ã£o contra fraude, multi-wallet e recuperaÃ§Ã£o avanÃ§ada"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border dark:border-blue-800",children:[(0,b.jsx)("div",{className:"text-3xl mb-2",children:"ðŸ”’"}),(0,b.jsx)("h3",{className:"font-semibold mb-1",children:"Prova de Vida"}),(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"VerificaÃ§Ã£o biomÃ©trica e comportamental"})]}),(0,b.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border dark:border-green-800",children:[(0,b.jsx)("div",{className:"text-3xl mb-2",children:"ðŸ‘›"}),(0,b.jsx)("h3",{className:"font-semibold mb-1",children:"Multi-Wallet"}),(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"AtÃ© 5 carteiras por identidade"})]}),(0,b.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border dark:border-purple-800",children:[(0,b.jsx)("div",{className:"text-3xl mb-2",children:"ðŸ”"}),(0,b.jsx)("h3",{className:"font-semibold mb-1",children:"DetecÃ§Ã£o de Fraude"}),(0,b.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"AnÃ¡lise em tempo real com 8 regras"})]})]}),(0,b.jsx)("p",{className:"text-lg text-blue-600 font-semibold",children:"ðŸ‘† Conecte sua carteira para comeÃ§ar"})]})})}let aM=()=>{let{isConnected:a,isConnecting:d,error:e,stats:f,connect:g,disconnect:h,subscribe:i}=(0,w.useP2P)({autoConnect:!0}),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let a=i("proposal:new",a=>{k(b=>[{type:"proposal",data:a,timestamp:Date.now()},...b.slice(0,9)])}),b=i("vote:new",a=>{k(b=>[{type:"vote",data:a,timestamp:Date.now()},...b.slice(0,9)])}),c=i("dao:mitosis",a=>{k(b=>[{type:"mitosis",data:a,timestamp:Date.now()},...b.slice(0,9)])});return()=>{a(),b(),c()}},[i]),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${d?"bg-yellow-500":a?"bg-green-500":e?"bg-red-500":"bg-gray-500"} animate-pulse`}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Rede P2P"}),(0,b.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-400",children:a?"Conectado":"Desconectado"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[!a&&!d&&(0,b.jsx)("button",{onClick:g,className:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Conectar"}),a&&(0,b.jsx)("button",{onClick:h,className:"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600 transition",children:"Desconectar"}),(0,b.jsxs)("button",{onClick:()=>m(!l),className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition",children:[l?"â–¼":"â–¶"," Detalhes"]})]})]}),e&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded",children:(0,b.jsxs)("p",{className:"text-sm text-red-700 dark:text-red-300",children:["âš ï¸ ",e.message]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded",children:[(0,b.jsx)("div",{className:"text-xs text-gray-700 dark:text-gray-400 mb-1",children:"Peers"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f.peers})]}),(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded",children:[(0,b.jsx)("div",{className:"text-xs text-gray-700 dark:text-gray-400 mb-1",children:"Mensagens"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f.metrics.messagesReceived})]}),(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded",children:[(0,b.jsx)("div",{className:"text-xs text-gray-700 dark:text-gray-400 mb-1",children:"Propostas"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f.metrics.proposalsReceived})]}),(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded",children:[(0,b.jsx)("div",{className:"text-xs text-gray-700 dark:text-gray-400 mb-1",children:"Votos"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f.metrics.votesReceived})]})]}),l&&a&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Seu Peer ID"}),(0,b.jsx)("button",{onClick:()=>navigator.clipboard.writeText(f.peerId||""),className:"text-xs text-blue-500 hover:text-blue-600",children:"ðŸ“‹ Copiar"})]}),(0,b.jsx)("code",{className:"block w-full p-2 bg-gray-100 dark:bg-gray-900 rounded text-xs font-mono text-gray-800 dark:text-gray-200 overflow-x-auto",children:f.peerId||"N/A"})]}),j.length>0&&(0,b.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Mensagens Recentes"}),(0,b.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:j.map((a,c)=>{var d;let e;return(0,b.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 dark:bg-gray-700/50 rounded text-sm",children:[(0,b.jsx)("span",{className:"text-lg",children:(a=>{switch(a){case"proposal":return"ðŸ“";case"vote":return"ðŸ—³ï¸";case"mitosis":return"ðŸ§¬";default:return"ðŸ“¡"}})(a.type)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"text-gray-900 dark:text-white font-medium capitalize truncate",children:a.type}),(0,b.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:a.data.id||a.data.proposalId||"N/A"})]}),(0,b.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-500 whitespace-nowrap",children:(d=a.timestamp,(e=Date.now()-d)<1e3?"agora":e<6e4?`${Math.floor(e/1e3)}s atr\xe1s`:e<36e5?`${Math.floor(e/6e4)}m atr\xe1s`:`${Math.floor(e/36e5)}h atr\xe1s`)})]},c)})})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"MÃ©tricas de Rede"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-700 dark:text-gray-400",children:"Recebidas:"}),(0,b.jsx)("span",{className:"font-mono text-gray-900 dark:text-white",children:f.metrics.messagesReceived})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-700 dark:text-gray-400",children:"Enviadas:"}),(0,b.jsx)("span",{className:"font-mono text-gray-900 dark:text-white",children:f.metrics.messagesSent})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-700 dark:text-gray-400",children:"Propostas:"}),(0,b.jsx)("span",{className:"font-mono text-gray-900 dark:text-white",children:f.metrics.proposalsReceived})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-700 dark:text-gray-400",children:"Votos:"}),(0,b.jsx)("span",{className:"font-mono text-gray-900 dark:text-white",children:f.metrics.votesReceived})]})]})]})]}),d&&(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-700 dark:text-gray-400",children:"Conectando Ã  rede P2P..."})]}),!a&&!d&&!e&&(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Desconectado da rede P2P"}),(0,b.jsx)("button",{onClick:g,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"ðŸ”— Conectar Agora"})]})]})};var aN=a.i(479556),aO=a.i(653912);let aP=(0,f.default)("vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);function aQ(){let[a,d]=(0,c.useState)("governance"),{data:e=[]}=B();return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-white via-gray-50 to-blue-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-blue-950/20",children:[(0,b.jsx)("header",{className:"border-b border-gray-200/50 dark:border-gray-800/50 glass-effect sticky top-0 z-50 shadow-sm",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between animate-fadeIn",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 via-green-600 to-red-600 rounded-xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-300",children:(0,b.jsx)(aP,{className:"w-7 h-7 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold gradient-rgb",children:"RevoluÃ§Ã£o CibernÃ©tica"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"GovernanÃ§a Descentralizada Multi-Chain"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(aN.default,{}),(0,b.jsx)("div",{className:"transform hover:scale-105 transition-transform duration-200",children:(0,b.jsx)(aO.CustomConnectButton,{})})]})]})})}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex space-x-2 bg-white dark:bg-gray-900 rounded-lg shadow-md p-1",children:[(0,b.jsxs)("button",{onClick:()=>d("governance"),className:`flex-1 flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-all ${"governance"===a?"bg-gradient-to-br from-blue-600 to-purple-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[(0,b.jsx)(aP,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"GovernanÃ§a"})]}),(0,b.jsxs)("button",{onClick:()=>d("wallet"),className:`flex-1 flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-all ${"wallet"===a?"bg-gradient-to-br from-green-600 to-blue-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[(0,b.jsx)(T,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Carteira Soberana"})]})]})}),(0,b.jsx)("main",{className:"container mx-auto px-4 py-8 animate-fadeIn",children:"governance"===a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mb-12 text-center",children:[(0,b.jsx)("h2",{className:"text-5xl font-bold mb-4 gradient-rgb animate-slideIn",children:"Sistema de VotaÃ§Ã£o HÃ­brida"}),(0,b.jsxs)("p",{className:"text-lg text-gray-700 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:[(0,b.jsx)("strong",{className:"text-blue-600 dark:text-blue-400",children:"4 funÃ§Ãµes biomimÃ©tico-cibernÃ©ticas"}),":",(0,b.jsx)("span",{className:"text-red-600 dark:text-red-400",children:" Linear"}),",",(0,b.jsx)("span",{className:"text-green-600 dark:text-green-400",children:" QuadrÃ¡tica"}),",",(0,b.jsx)("span",{className:"text-blue-600 dark:text-blue-400",children:" LogarÃ­tmica"})," e",(0,b.jsx)("span",{className:"text-purple-600 dark:text-purple-400",children:" Consenso"}),".",(0,b.jsx)("br",{}),"Vote em propostas, crie novas BIPs e participe da governanÃ§a on-chain."]})]}),(0,b.jsxs)("div",{className:"mb-12 grid md:grid-cols-2 gap-6",children:[(0,b.jsx)("a",{href:"/dao-mitosis",className:"group glass-effect rounded-2xl p-6 border-2 border-orange-200/50 dark:border-orange-700/50 hover:border-orange-400 dark:hover:border-orange-500 transition-all duration-300 hover:shadow-2xl hover:shadow-orange-500/20 transform hover:-translate-y-1",children:(0,b.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,b.jsx)("div",{className:"p-3 bg-gradient-to-br from-orange-100 to-red-100 dark:from-orange-900/30 dark:to-red-900/30 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,b.jsx)("span",{className:"text-4xl",children:"ðŸ§¬"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold bg-gradient-to-r from-orange-600 to-red-600 dark:from-orange-400 dark:to-red-400 bg-clip-text text-transparent mb-2",children:"Sistema de Mitose"}),(0,b.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-3 leading-relaxed",children:["DivisÃ£o orgÃ¢nica de DAOs quando atingem o limite de Dunbar (150 membros). ImplementaÃ§Ã£o do ",(0,b.jsx)("strong",{children:"Artigo 5Âº-C"})," da ConstituiÃ§Ã£o."]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)("span",{className:"px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full text-xs font-semibold",children:"GovernanÃ§a EscalÃ¡vel"}),(0,b.jsx)("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-full text-xs font-semibold",children:"Ãrvore GenealÃ³gica"}),(0,b.jsx)("span",{className:"px-3 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-full text-xs font-semibold",children:"Limite de Dunbar"})]})]})]})}),(0,b.jsx)("a",{href:"/federation-voting",className:"group glass-effect rounded-2xl p-6 border-2 border-blue-200/50 dark:border-blue-700/50 hover:border-blue-400 dark:hover:border-blue-500 transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 transform hover:-translate-y-1",children:(0,b.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,b.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-xl group-hover:scale-110 transition-transform duration-300",children:(0,b.jsx)("span",{className:"text-4xl",children:"ðŸ—³ï¸"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent mb-2",children:"Sistema de VotaÃ§Ã£o Federal"}),(0,b.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-3 leading-relaxed",children:["VotaÃ§Ã£o descentralizada em propostas federais. Cada voto registra atividade no sistema de mitose. ",(0,b.jsx)("strong",{children:"GovernanÃ§a transparente"})," e democrÃ¡tica."]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-xs font-semibold",children:"A Favor â€¢ Contra â€¢ AbstenÃ§Ã£o"}),(0,b.jsx)("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-xs font-semibold",children:"Quorum â€¢ TransparÃªncia"})]})]})]})})]}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsx)(Y,{})}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsx)(aM,{})}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsx)(_,{proposals:e})}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsxs)("div",{className:"glass-effect rounded-2xl shadow-xl border border-gray-200/50 dark:border-gray-700/50 p-6 hover:shadow-2xl transition-all duration-300",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-lg",children:(0,b.jsx)(S,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,b.jsx)("h3",{className:"text-2xl font-bold gradient-rgb",children:"Propostas Ativas"})]}),(0,b.jsx)(C,{})]})}),(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)("div",{className:"glass-effect rounded-2xl shadow-xl border-2 border-transparent bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-blue-950/40 dark:via-purple-950/40 dark:to-pink-950/40 p-6 sticky top-24 hover:shadow-2xl transition-all duration-300",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg",children:(0,b.jsx)(h,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,b.jsx)("h3",{className:"text-2xl font-bold gradient-rgb",children:"Nova Proposta"})]}),(0,b.jsx)(R,{})]})})]})]}):(0,b.jsx)(aL,{})}),(0,b.jsx)("footer",{className:"border-t border-gray-200/50 dark:border-gray-800/50 mt-16 py-8 glass-effect",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,b.jsx)("p",{className:"mb-2 font-semibold gradient-rgb text-lg",children:"RevoluÃ§Ã£o CibernÃ©tica - Cybersyn 2.0"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Powered by ",(0,b.jsx)("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"O Besta Fera"})," â€¢ Built with ",(0,b.jsx)("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Next.js"}),",",(0,b.jsx)("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:" Wagmi"})," &",(0,b.jsx)("span",{className:"text-pink-600 dark:text-pink-400 font-medium",children:" The Graph"})]})]})})]})}a.s(["default",()=>aQ],240777)}];

//# sourceMappingURL=src_app_page_tsx_a7111f3e._.js.map