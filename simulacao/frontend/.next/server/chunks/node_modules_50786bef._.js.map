{"version":3,"sources":["turbopack:///[project]/node_modules/prom-client/lib/util.js","turbopack:///[project]/node_modules/prom-client/lib/registry.js","turbopack:///[project]/node_modules/prom-client/lib/validation.js","turbopack:///[project]/node_modules/prom-client/lib/metric.js","turbopack:///[project]/node_modules/prom-client/lib/exemplar.js","turbopack:///[project]/node_modules/prom-client/lib/counter.js","turbopack:///[project]/node_modules/prom-client/lib/gauge.js","turbopack:///[project]/node_modules/prom-client/lib/histogram.js","turbopack:///[project]/node_modules/bintrees/lib/treebase.js","turbopack:///[project]/node_modules/bintrees/lib/rbtree.js","turbopack:///[project]/node_modules/bintrees/lib/bintree.js","turbopack:///[project]/node_modules/bintrees/index.js","turbopack:///[project]/node_modules/tdigest/tdigest.js","turbopack:///[project]/node_modules/prom-client/lib/timeWindowQuantiles.js","turbopack:///[project]/node_modules/prom-client/lib/summary.js","turbopack:///[project]/node_modules/prom-client/lib/pushgateway.js","turbopack:///[project]/node_modules/prom-client/lib/bucketGenerators.js","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/status.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/span_kind.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/diag/consoleLogger.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/internal/semver.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/api/propagation.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/api/trace.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/baggage/utils.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/invalid-span-constants.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/NoopTracerProvider.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/baggage/context-helpers.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/metrics/NoopMeterProvider.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/ProxyTracerProvider.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/internal/global-utils.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/internal/tracestate-impl.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/diag/internal/logLevelLogger.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/trace_flags.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/api/metrics.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/internal/utils.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/platform/node/globalThis.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/internal/tracestate-validators.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/context/context.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/propagation-api.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/metrics/Metric.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/diag/types.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/index.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/spancontext-utils.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/context-utils.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/propagation/TextMapPropagator.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/propagation/NoopTextMapPropagator.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/NonRecordingSpan.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/diag-api.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/trace/SamplingResult.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/api/context.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/metrics/NoopMeter.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/api/diag.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/baggage/internal/baggage-impl.ts","turbopack:///[project]/node_modules/@opentelemetry/api/src/diag/ComponentLogger.ts","turbopack:///[project]/node_modules/prom-client/lib/metrics/processCpuTotal.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/processStartTime.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/osMemoryHeapLinux.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/helpers/safeMemoryUsage.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/osMemoryHeap.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/processOpenFileDescriptors.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/processMaxFileDescriptors.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/eventLoopLag.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/helpers/processMetricsHelpers.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/processHandles.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/processRequests.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/processResources.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/heapSizeAndUsed.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/heapSpacesSizeAndUsed.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/version.js","turbopack:///[project]/node_modules/prom-client/lib/metrics/gc.js","turbopack:///[project]/node_modules/prom-client/lib/defaultMetrics.js","turbopack:///[project]/node_modules/prom-client/lib/metricAggregators.js","turbopack:///[project]/node_modules/prom-client/lib/cluster.js","turbopack:///[project]/node_modules/prom-client/index.js"],"sourcesContent":["'use strict';\n\nexports.getValueAsString = function getValueString(value) {\n\tif (Number.isNaN(value)) {\n\t\treturn 'Nan';\n\t} else if (!Number.isFinite(value)) {\n\t\tif (value < 0) {\n\t\t\treturn '-Inf';\n\t\t} else {\n\t\t\treturn '+Inf';\n\t\t}\n\t} else {\n\t\treturn `${value}`;\n\t}\n};\n\nexports.removeLabels = function removeLabels(\n\thashMap,\n\tlabels,\n\tsortedLabelNames,\n) {\n\tconst hash = hashObject(labels, sortedLabelNames);\n\tdelete hashMap[hash];\n};\n\nexports.setValue = function setValue(hashMap, value, labels) {\n\tconst hash = hashObject(labels);\n\thashMap[hash] = {\n\t\tvalue: typeof value === 'number' ? value : 0,\n\t\tlabels: labels || {},\n\t};\n\treturn hashMap;\n};\n\nexports.setValueDelta = function setValueDelta(\n\thashMap,\n\tdeltaValue,\n\tlabels,\n\thash = '',\n) {\n\tconst value = typeof deltaValue === 'number' ? deltaValue : 0;\n\tif (hashMap[hash]) {\n\t\thashMap[hash].value += value;\n\t} else {\n\t\thashMap[hash] = { value, labels };\n\t}\n\treturn hashMap;\n};\n\nexports.getLabels = function (labelNames, args) {\n\tif (typeof args[0] === 'object') {\n\t\treturn args[0];\n\t}\n\n\tif (labelNames.length !== args.length) {\n\t\tthrow new Error(\n\t\t\t`Invalid number of arguments (${args.length}): \"${args.join(\n\t\t\t\t', ',\n\t\t\t)}\" for label names (${labelNames.length}): \"${labelNames.join(', ')}\".`,\n\t\t);\n\t}\n\n\tconst acc = {};\n\tfor (let i = 0; i < labelNames.length; i++) {\n\t\tacc[labelNames[i]] = args[i];\n\t}\n\treturn acc;\n};\n\nfunction fastHashObject(keys, labels) {\n\tif (keys.length === 0) {\n\t\treturn '';\n\t}\n\n\tlet hash = '';\n\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key = keys[i];\n\t\tconst value = labels[key];\n\t\tif (value === undefined) continue;\n\n\t\thash += `${key}:${value},`;\n\t}\n\n\treturn hash;\n}\n\nfunction hashObject(labels, labelNames) {\n\t// We don't actually need a hash here. We just need a string that\n\t// is unique for each possible labels object and consistent across\n\t// calls with equivalent labels objects.\n\n\tif (labelNames) {\n\t\treturn fastHashObject(labelNames, labels);\n\t}\n\n\tconst keys = Object.keys(labels);\n\tif (keys.length > 1) {\n\t\tkeys.sort(); // need consistency across calls\n\t}\n\n\treturn fastHashObject(keys, labels);\n}\nexports.hashObject = hashObject;\n\nexports.isObject = function isObject(obj) {\n\treturn obj !== null && typeof obj === 'object';\n};\n\nexports.nowTimestamp = function nowTimestamp() {\n\treturn Date.now() / 1000;\n};\n\nclass Grouper extends Map {\n\t/**\n\t * Adds the `value` to the `key`'s array of values.\n\t * @param {*} key Key to set.\n\t * @param {*} value Value to add to `key`'s array.\n\t * @returns {undefined} undefined.\n\t */\n\tadd(key, value) {\n\t\tif (this.has(key)) {\n\t\t\tthis.get(key).push(value);\n\t\t} else {\n\t\t\tthis.set(key, [value]);\n\t\t}\n\t}\n}\n\nexports.Grouper = Grouper;\n","'use strict';\n\nconst { getValueAsString } = require('./util');\n\nclass Registry {\n\tstatic get PROMETHEUS_CONTENT_TYPE() {\n\t\treturn 'text/plain; version=0.0.4; charset=utf-8';\n\t}\n\n\tstatic get OPENMETRICS_CONTENT_TYPE() {\n\t\treturn 'application/openmetrics-text; version=1.0.0; charset=utf-8';\n\t}\n\n\tconstructor(regContentType = Registry.PROMETHEUS_CONTENT_TYPE) {\n\t\tthis._metrics = {};\n\t\tthis._collectors = [];\n\t\tthis._defaultLabels = {};\n\t\tif (\n\t\t\tregContentType !== Registry.PROMETHEUS_CONTENT_TYPE &&\n\t\t\tregContentType !== Registry.OPENMETRICS_CONTENT_TYPE\n\t\t) {\n\t\t\tthrow new TypeError(`Content type ${regContentType} is unsupported`);\n\t\t}\n\t\tthis._contentType = regContentType;\n\t}\n\n\tgetMetricsAsArray() {\n\t\treturn Object.values(this._metrics);\n\t}\n\n\tasync getMetricsAsString(metrics) {\n\t\tconst metric =\n\t\t\ttypeof metrics.getForPromString === 'function'\n\t\t\t\t? await metrics.getForPromString()\n\t\t\t\t: await metrics.get();\n\n\t\tconst name = escapeString(metric.name);\n\t\tconst help = `# HELP ${name} ${escapeString(metric.help)}`;\n\t\tconst type = `# TYPE ${name} ${metric.type}`;\n\t\tconst values = [help, type];\n\n\t\tconst defaultLabels =\n\t\t\tObject.keys(this._defaultLabels).length > 0 ? this._defaultLabels : null;\n\n\t\tconst isOpenMetrics =\n\t\t\tthis.contentType === Registry.OPENMETRICS_CONTENT_TYPE;\n\n\t\tfor (const val of metric.values || []) {\n\t\t\tlet { metricName = name, labels = {} } = val;\n\t\t\tconst { sharedLabels = {} } = val;\n\t\t\tif (isOpenMetrics && metric.type === 'counter') {\n\t\t\t\tmetricName = `${metricName}_total`;\n\t\t\t}\n\n\t\t\tif (defaultLabels) {\n\t\t\t\tlabels = { ...labels, ...defaultLabels, ...labels };\n\t\t\t}\n\n\t\t\t// We have to flatten these separately to avoid duplicate labels appearing\n\t\t\t// between the base labels and the shared labels\n\t\t\tconst formattedLabels = formatLabels(labels, sharedLabels);\n\n\t\t\tconst flattenedShared = flattenSharedLabels(sharedLabels);\n\t\t\tconst labelParts = [...formattedLabels, flattenedShared].filter(Boolean);\n\t\t\tconst labelsString = labelParts.length ? `{${labelParts.join(',')}}` : '';\n\t\t\tlet fullMetricLine = `${metricName}${labelsString} ${getValueAsString(\n\t\t\t\tval.value,\n\t\t\t)}`;\n\n\t\t\tconst { exemplar } = val;\n\t\t\tif (exemplar && isOpenMetrics) {\n\t\t\t\tconst formattedExemplars = formatLabels(exemplar.labelSet);\n\t\t\t\tfullMetricLine += ` # {${formattedExemplars.join(\n\t\t\t\t\t',',\n\t\t\t\t)}} ${getValueAsString(exemplar.value)} ${exemplar.timestamp}`;\n\t\t\t}\n\t\t\tvalues.push(fullMetricLine);\n\t\t}\n\n\t\treturn values.join('\\n');\n\t}\n\n\tasync metrics() {\n\t\tconst isOpenMetrics =\n\t\t\tthis.contentType === Registry.OPENMETRICS_CONTENT_TYPE;\n\n\t\tconst promises = this.getMetricsAsArray().map(metric => {\n\t\t\tif (isOpenMetrics && metric.type === 'counter') {\n\t\t\t\tmetric.name = standardizeCounterName(metric.name);\n\t\t\t}\n\t\t\treturn this.getMetricsAsString(metric);\n\t\t});\n\n\t\tconst resolves = await Promise.all(promises);\n\n\t\treturn isOpenMetrics\n\t\t\t? `${resolves.join('\\n')}\\n# EOF\\n`\n\t\t\t: `${resolves.join('\\n\\n')}\\n`;\n\t}\n\n\tregisterMetric(metric) {\n\t\tif (this._metrics[metric.name] && this._metrics[metric.name] !== metric) {\n\t\t\tthrow new Error(\n\t\t\t\t`A metric with the name ${metric.name} has already been registered.`,\n\t\t\t);\n\t\t}\n\n\t\tthis._metrics[metric.name] = metric;\n\t}\n\n\tclear() {\n\t\tthis._metrics = {};\n\t\tthis._defaultLabels = {};\n\t}\n\n\tasync getMetricsAsJSON() {\n\t\tconst metrics = [];\n\t\tconst defaultLabelNames = Object.keys(this._defaultLabels);\n\n\t\tconst promises = [];\n\n\t\tfor (const metric of this.getMetricsAsArray()) {\n\t\t\tpromises.push(metric.get());\n\t\t}\n\n\t\tconst resolves = await Promise.all(promises);\n\n\t\tfor (const item of resolves) {\n\t\t\tif (item.values && defaultLabelNames.length > 0) {\n\t\t\t\tfor (const val of item.values) {\n\t\t\t\t\t// Make a copy before mutating\n\t\t\t\t\tval.labels = Object.assign({}, val.labels);\n\n\t\t\t\t\tfor (const labelName of defaultLabelNames) {\n\t\t\t\t\t\tval.labels[labelName] =\n\t\t\t\t\t\t\tval.labels[labelName] || this._defaultLabels[labelName];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmetrics.push(item);\n\t\t}\n\n\t\treturn metrics;\n\t}\n\n\tremoveSingleMetric(name) {\n\t\tdelete this._metrics[name];\n\t}\n\n\tgetSingleMetricAsString(name) {\n\t\treturn this.getMetricsAsString(this._metrics[name]);\n\t}\n\n\tgetSingleMetric(name) {\n\t\treturn this._metrics[name];\n\t}\n\n\tsetDefaultLabels(labels) {\n\t\tthis._defaultLabels = labels;\n\t}\n\n\tresetMetrics() {\n\t\tfor (const metric in this._metrics) {\n\t\t\tthis._metrics[metric].reset();\n\t\t}\n\t}\n\n\tget contentType() {\n\t\treturn this._contentType;\n\t}\n\n\tsetContentType(metricsContentType) {\n\t\tif (\n\t\t\tmetricsContentType === Registry.OPENMETRICS_CONTENT_TYPE ||\n\t\t\tmetricsContentType === Registry.PROMETHEUS_CONTENT_TYPE\n\t\t) {\n\t\t\tthis._contentType = metricsContentType;\n\t\t} else {\n\t\t\tthrow new Error(`Content type ${metricsContentType} is unsupported`);\n\t\t}\n\t}\n\n\tstatic merge(registers) {\n\t\tconst regType = registers[0].contentType;\n\t\tfor (const reg of registers) {\n\t\t\tif (reg.contentType !== regType) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Registers can only be merged if they have the same content type',\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tconst mergedRegistry = new Registry(regType);\n\n\t\tconst metricsToMerge = registers.reduce(\n\t\t\t(acc, reg) => acc.concat(reg.getMetricsAsArray()),\n\t\t\t[],\n\t\t);\n\n\t\tmetricsToMerge.forEach(mergedRegistry.registerMetric, mergedRegistry);\n\t\treturn mergedRegistry;\n\t}\n}\n\nfunction formatLabels(labels, exclude) {\n\tconst { hasOwnProperty } = Object.prototype;\n\tconst formatted = [];\n\tfor (const [name, value] of Object.entries(labels)) {\n\t\tif (!exclude || !hasOwnProperty.call(exclude, name)) {\n\t\t\tformatted.push(`${name}=\"${escapeLabelValue(value)}\"`);\n\t\t}\n\t}\n\treturn formatted;\n}\n\nconst sharedLabelCache = new WeakMap();\nfunction flattenSharedLabels(labels) {\n\tconst cached = sharedLabelCache.get(labels);\n\tif (cached) {\n\t\treturn cached;\n\t}\n\n\tconst formattedLabels = formatLabels(labels);\n\tconst flattened = formattedLabels.join(',');\n\tsharedLabelCache.set(labels, flattened);\n\treturn flattened;\n}\nfunction escapeLabelValue(str) {\n\tif (typeof str !== 'string') {\n\t\treturn str;\n\t}\n\treturn escapeString(str).replace(/\"/g, '\\\\\"');\n}\nfunction escapeString(str) {\n\treturn str.replace(/\\\\/g, '\\\\\\\\').replace(/\\n/g, '\\\\n');\n}\nfunction standardizeCounterName(name) {\n\treturn name.replace(/_total$/, '');\n}\n\nmodule.exports = Registry;\nmodule.exports.globalRegistry = new Registry();\n","'use strict';\n\nconst util = require('util');\n\n// These are from https://prometheus.io/docs/concepts/data_model/#metric-names-and-labels\nconst metricRegexp = /^[a-zA-Z_:][a-zA-Z0-9_:]*$/;\nconst labelRegexp = /^[a-zA-Z_][a-zA-Z0-9_]*$/;\n\nexports.validateMetricName = function (name) {\n\treturn metricRegexp.test(name);\n};\n\nexports.validateLabelName = function (names = []) {\n\treturn names.every(name => labelRegexp.test(name));\n};\n\nexports.validateLabel = function validateLabel(savedLabels, labels) {\n\tfor (const label in labels) {\n\t\tif (!savedLabels.includes(label)) {\n\t\t\tthrow new Error(\n\t\t\t\t`Added label \"${label}\" is not included in initial labelset: ${util.inspect(\n\t\t\t\t\tsavedLabels,\n\t\t\t\t)}`,\n\t\t\t);\n\t\t}\n\t}\n};\n","'use strict';\n\nconst Registry = require('./registry');\nconst { isObject } = require('./util');\nconst { validateMetricName, validateLabelName } = require('./validation');\n\n/**\n * @abstract\n */\nclass Metric {\n\tconstructor(config, defaults = {}) {\n\t\tif (!isObject(config)) {\n\t\t\tthrow new TypeError('constructor expected a config object');\n\t\t}\n\t\tObject.assign(\n\t\t\tthis,\n\t\t\t{\n\t\t\t\tlabelNames: [],\n\t\t\t\tregisters: [Registry.globalRegistry],\n\t\t\t\taggregator: 'sum',\n\t\t\t\tenableExemplars: false,\n\t\t\t},\n\t\t\tdefaults,\n\t\t\tconfig,\n\t\t);\n\t\tif (!this.registers) {\n\t\t\t// in case config.registers is `undefined`\n\t\t\tthis.registers = [Registry.globalRegistry];\n\t\t}\n\t\tif (!this.help) {\n\t\t\tthrow new Error('Missing mandatory help parameter');\n\t\t}\n\t\tif (!this.name) {\n\t\t\tthrow new Error('Missing mandatory name parameter');\n\t\t}\n\t\tif (!validateMetricName(this.name)) {\n\t\t\tthrow new Error('Invalid metric name');\n\t\t}\n\t\tif (!validateLabelName(this.labelNames)) {\n\t\t\tthrow new Error('Invalid label name');\n\t\t}\n\n\t\tif (this.collect && typeof this.collect !== 'function') {\n\t\t\tthrow new Error('Optional \"collect\" parameter must be a function');\n\t\t}\n\n\t\tif (this.labelNames) {\n\t\t\tthis.sortedLabelNames = [...this.labelNames].sort();\n\t\t} else {\n\t\t\tthis.sortedLabelNames = [];\n\t\t}\n\n\t\tthis.reset();\n\n\t\tfor (const register of this.registers) {\n\t\t\tif (\n\t\t\t\tthis.enableExemplars &&\n\t\t\t\tregister.contentType === Registry.PROMETHEUS_CONTENT_TYPE\n\t\t\t) {\n\t\t\t\tthrow new TypeError(\n\t\t\t\t\t'Exemplars are supported only on OpenMetrics registries',\n\t\t\t\t);\n\t\t\t}\n\t\t\tregister.registerMetric(this);\n\t\t}\n\t}\n\n\treset() {\n\t\t/* abstract */\n\t}\n}\n\nmodule.exports = { Metric };\n","'use strict';\n\n/**\n * Class representing an OpenMetrics exemplar.\n *\n * @property {object} labelSet\n * @property {number} value\n * @property {number} [timestamp]\n * */\nclass Exemplar {\n\tconstructor(labelSet = {}, value = null) {\n\t\tthis.labelSet = labelSet;\n\t\tthis.value = value;\n\t}\n\n\t/**\n\t * Validation for the label set format.\n\t * https://github.com/OpenObservability/OpenMetrics/blob/d99b705f611b75fec8f450b05e344e02eea6921d/specification/OpenMetrics.md#exemplars\n\t *\n\t * @param {object} labelSet - Exemplar labels.\n\t * @throws {RangeError}\n\t * @return {void}\n\t */\n\tvalidateExemplarLabelSet(labelSet) {\n\t\tlet res = '';\n\t\tfor (const [labelName, labelValue] of Object.entries(labelSet)) {\n\t\t\tres += `${labelName}${labelValue}`;\n\t\t}\n\t\tif (res.length > 128) {\n\t\t\tthrow new RangeError(\n\t\t\t\t'Label set size must be smaller than 128 UTF-8 chars',\n\t\t\t);\n\t\t}\n\t}\n}\n\nmodule.exports = Exemplar;\n","/**\n * Counter metric\n */\n'use strict';\n\nconst util = require('util');\nconst {\n\thashObject,\n\tisObject,\n\tgetLabels,\n\tremoveLabels,\n\tnowTimestamp,\n} = require('./util');\nconst { validateLabel } = require('./validation');\nconst { Metric } = require('./metric');\nconst Exemplar = require('./exemplar');\n\nclass Counter extends Metric {\n\tconstructor(config) {\n\t\tsuper(config);\n\t\tthis.type = 'counter';\n\t\tthis.defaultLabels = {};\n\t\tthis.defaultValue = 1;\n\t\tthis.defaultExemplarLabelSet = {};\n\t\tif (config.enableExemplars) {\n\t\t\tthis.enableExemplars = true;\n\t\t\tthis.inc = this.incWithExemplar;\n\t\t} else {\n\t\t\tthis.inc = this.incWithoutExemplar;\n\t\t}\n\t}\n\n\t/**\n\t * Increment counter\n\t * @param {object} labels - What label you want to be incremented\n\t * @param {Number} value - Value to increment, if omitted increment with 1\n\t * @returns {object} results - object with information about the inc operation\n\t * @returns {string} results.labelHash - hash representation of the labels\n\t */\n\tincWithoutExemplar(labels, value) {\n\t\tlet hash = '';\n\t\tif (isObject(labels)) {\n\t\t\thash = hashObject(labels, this.sortedLabelNames);\n\t\t\tvalidateLabel(this.labelNames, labels);\n\t\t} else {\n\t\t\tvalue = labels;\n\t\t\tlabels = {};\n\t\t}\n\n\t\tif (value && !Number.isFinite(value)) {\n\t\t\tthrow new TypeError(`Value is not a valid number: ${util.format(value)}`);\n\t\t}\n\t\tif (value < 0) {\n\t\t\tthrow new Error('It is not possible to decrease a counter');\n\t\t}\n\n\t\tif (value === null || value === undefined) value = 1;\n\n\t\tsetValue(this.hashMap, value, labels, hash);\n\n\t\treturn { labelHash: hash };\n\t}\n\n\t/**\n\t * Increment counter with exemplar, same as inc but accepts labels for an\n\t * exemplar.\n\t * If no label is provided the current exemplar labels are kept unchanged\n\t * (defaults to empty set).\n\t *\n\t * @param {object} incOpts - Object with options about what metric to increase\n\t * @param {object} incOpts.labels - What label you want to be incremented,\n\t *                                  defaults to null (metric with no labels)\n\t * @param {Number} incOpts.value - Value to increment, defaults to 1\n\t * @param {object} incOpts.exemplarLabels - Key-value  labels for the\n\t *                                          exemplar, defaults to empty set {}\n\t * @returns {void}\n\t */\n\tincWithExemplar({\n\t\tlabels = this.defaultLabels,\n\t\tvalue = this.defaultValue,\n\t\texemplarLabels = this.defaultExemplarLabelSet,\n\t} = {}) {\n\t\tconst res = this.incWithoutExemplar(labels, value);\n\t\tthis.updateExemplar(exemplarLabels, value, res.labelHash);\n\t}\n\n\tupdateExemplar(exemplarLabels, value, hash) {\n\t\tif (exemplarLabels === this.defaultExemplarLabelSet) return;\n\t\tif (!isObject(this.hashMap[hash].exemplar)) {\n\t\t\tthis.hashMap[hash].exemplar = new Exemplar();\n\t\t}\n\t\tthis.hashMap[hash].exemplar.validateExemplarLabelSet(exemplarLabels);\n\t\tthis.hashMap[hash].exemplar.labelSet = exemplarLabels;\n\t\tthis.hashMap[hash].exemplar.value = value ? value : 1;\n\t\tthis.hashMap[hash].exemplar.timestamp = nowTimestamp();\n\t}\n\n\t/**\n\t * Reset counter\n\t * @returns {void}\n\t */\n\treset() {\n\t\tthis.hashMap = {};\n\t\tif (this.labelNames.length === 0) {\n\t\t\tsetValue(this.hashMap, 0);\n\t\t}\n\t}\n\n\tasync get() {\n\t\tif (this.collect) {\n\t\t\tconst v = this.collect();\n\t\t\tif (v instanceof Promise) await v;\n\t\t}\n\n\t\treturn {\n\t\t\thelp: this.help,\n\t\t\tname: this.name,\n\t\t\ttype: this.type,\n\t\t\tvalues: Object.values(this.hashMap),\n\t\t\taggregator: this.aggregator,\n\t\t};\n\t}\n\n\tlabels(...args) {\n\t\tconst labels = getLabels(this.labelNames, args) || {};\n\t\treturn {\n\t\t\tinc: this.inc.bind(this, labels),\n\t\t};\n\t}\n\n\tremove(...args) {\n\t\tconst labels = getLabels(this.labelNames, args) || {};\n\t\tvalidateLabel(this.labelNames, labels);\n\t\treturn removeLabels.call(this, this.hashMap, labels, this.sortedLabelNames);\n\t}\n}\n\nfunction setValue(hashMap, value, labels = {}, hash = '') {\n\tif (hashMap[hash]) {\n\t\thashMap[hash].value += value;\n\t} else {\n\t\thashMap[hash] = { value, labels };\n\t}\n\treturn hashMap;\n}\n\nmodule.exports = Counter;\n","/**\n * Gauge metric\n */\n'use strict';\n\nconst util = require('util');\n\nconst {\n\tsetValue,\n\tsetValueDelta,\n\tgetLabels,\n\thashObject,\n\tisObject,\n\tremoveLabels,\n} = require('./util');\nconst { validateLabel } = require('./validation');\nconst { Metric } = require('./metric');\n\nclass Gauge extends Metric {\n\tconstructor(config) {\n\t\tsuper(config);\n\t\tthis.type = 'gauge';\n\t}\n\n\t/**\n\t * Set a gauge to a value\n\t * @param {object} labels - Object with labels and their values\n\t * @param {Number} value - Value to set the gauge to, must be positive\n\t * @returns {void}\n\t */\n\tset(labels, value) {\n\t\tvalue = getValueArg(labels, value);\n\t\tlabels = getLabelArg(labels);\n\t\tset(this, labels, value);\n\t}\n\n\t/**\n\t * Reset gauge\n\t * @returns {void}\n\t */\n\treset() {\n\t\tthis.hashMap = {};\n\t\tif (this.labelNames.length === 0) {\n\t\t\tsetValue(this.hashMap, 0, {});\n\t\t}\n\t}\n\n\t/**\n\t * Increment a gauge value\n\t * @param {object} labels - Object with labels where key is the label key and value is label value. Can only be one level deep\n\t * @param {Number} value - Value to increment - if omitted, increment with 1\n\t * @returns {void}\n\t */\n\tinc(labels, value) {\n\t\tvalue = getValueArg(labels, value);\n\t\tlabels = getLabelArg(labels);\n\t\tif (value === undefined) value = 1;\n\t\tsetDelta(this, labels, value);\n\t}\n\n\t/**\n\t * Decrement a gauge value\n\t * @param {object} labels - Object with labels where key is the label key and value is label value. Can only be one level deep\n\t * @param {Number} value - Value to decrement - if omitted, decrement with 1\n\t * @returns {void}\n\t */\n\tdec(labels, value) {\n\t\tvalue = getValueArg(labels, value);\n\t\tlabels = getLabelArg(labels);\n\t\tif (value === undefined) value = 1;\n\t\tsetDelta(this, labels, -value);\n\t}\n\n\t/**\n\t * Set the gauge to current unix epoch\n\t * @param {object} labels - Object with labels where key is the label key and value is label value. Can only be one level deep\n\t * @returns {void}\n\t */\n\tsetToCurrentTime(labels) {\n\t\tconst now = Date.now() / 1000;\n\t\tif (labels === undefined) {\n\t\t\tthis.set(now);\n\t\t} else {\n\t\t\tthis.set(labels, now);\n\t\t}\n\t}\n\n\t/**\n\t * Start a timer\n\t * @param {object} labels - Object with labels where key is the label key and value is label value. Can only be one level deep\n\t * @returns {function} - Invoke this function to set the duration in seconds since you started the timer.\n\t * @example\n\t * var done = gauge.startTimer();\n\t * makeXHRRequest(function(err, response) {\n\t *\tdone(); //Duration of the request will be saved\n\t * });\n\t */\n\tstartTimer(labels) {\n\t\tconst start = process.hrtime();\n\t\treturn endLabels => {\n\t\t\tconst delta = process.hrtime(start);\n\t\t\tconst value = delta[0] + delta[1] / 1e9;\n\t\t\tthis.set(Object.assign({}, labels, endLabels), value);\n\t\t\treturn value;\n\t\t};\n\t}\n\n\tasync get() {\n\t\tif (this.collect) {\n\t\t\tconst v = this.collect();\n\t\t\tif (v instanceof Promise) await v;\n\t\t}\n\t\treturn {\n\t\t\thelp: this.help,\n\t\t\tname: this.name,\n\t\t\ttype: this.type,\n\t\t\tvalues: Object.values(this.hashMap),\n\t\t\taggregator: this.aggregator,\n\t\t};\n\t}\n\n\t_getValue(labels) {\n\t\tconst hash = hashObject(labels || {}, this.sortedLabelNames);\n\t\treturn this.hashMap[hash] ? this.hashMap[hash].value : 0;\n\t}\n\n\tlabels(...args) {\n\t\tconst labels = getLabels(this.labelNames, args);\n\t\tvalidateLabel(this.labelNames, labels);\n\t\treturn {\n\t\t\tinc: this.inc.bind(this, labels),\n\t\t\tdec: this.dec.bind(this, labels),\n\t\t\tset: this.set.bind(this, labels),\n\t\t\tsetToCurrentTime: this.setToCurrentTime.bind(this, labels),\n\t\t\tstartTimer: this.startTimer.bind(this, labels),\n\t\t};\n\t}\n\n\tremove(...args) {\n\t\tconst labels = getLabels(this.labelNames, args);\n\t\tvalidateLabel(this.labelNames, labels);\n\t\tremoveLabels.call(this, this.hashMap, labels, this.sortedLabelNames);\n\t}\n}\n\nfunction set(gauge, labels, value) {\n\tif (typeof value !== 'number') {\n\t\tthrow new TypeError(`Value is not a valid number: ${util.format(value)}`);\n\t}\n\n\tvalidateLabel(gauge.labelNames, labels);\n\tsetValue(gauge.hashMap, value, labels);\n}\n\nfunction setDelta(gauge, labels, delta) {\n\tif (typeof delta !== 'number') {\n\t\tthrow new TypeError(`Delta is not a valid number: ${util.format(delta)}`);\n\t}\n\n\tvalidateLabel(gauge.labelNames, labels);\n\tconst hash = hashObject(labels, gauge.sortedLabelNames);\n\tsetValueDelta(gauge.hashMap, delta, labels, hash);\n}\n\nfunction getLabelArg(labels) {\n\treturn isObject(labels) ? labels : {};\n}\n\nfunction getValueArg(labels, value) {\n\treturn isObject(labels) ? value : labels;\n}\n\nmodule.exports = Gauge;\n","/**\n * Histogram\n */\n'use strict';\n\nconst util = require('util');\nconst {\n\tgetLabels,\n\thashObject,\n\tisObject,\n\tremoveLabels,\n\tnowTimestamp,\n} = require('./util');\nconst { validateLabel } = require('./validation');\nconst { Metric } = require('./metric');\nconst Exemplar = require('./exemplar');\n\nclass Histogram extends Metric {\n\tconstructor(config) {\n\t\tsuper(config, {\n\t\t\tbuckets: [0.005, 0.01, 0.025, 0.05, 0.1, 0.25, 0.5, 1, 2.5, 5, 10],\n\t\t});\n\n\t\tthis.type = 'histogram';\n\t\tthis.defaultLabels = {};\n\t\tthis.defaultExemplarLabelSet = {};\n\t\tthis.enableExemplars = false;\n\n\t\tfor (const label of this.labelNames) {\n\t\t\tif (label === 'le') {\n\t\t\t\tthrow new Error('le is a reserved label keyword');\n\t\t\t}\n\t\t}\n\n\t\tthis.upperBounds = this.buckets;\n\t\tthis.bucketValues = this.upperBounds.reduce((acc, upperBound) => {\n\t\t\tacc[upperBound] = 0;\n\t\t\treturn acc;\n\t\t}, {});\n\n\t\tif (config.enableExemplars) {\n\t\t\tthis.enableExemplars = true;\n\t\t\tthis.bucketExemplars = this.upperBounds.reduce((acc, upperBound) => {\n\t\t\t\tacc[upperBound] = null;\n\t\t\t\treturn acc;\n\t\t\t}, {});\n\t\t\tObject.freeze(this.bucketExemplars);\n\t\t\tthis.observe = this.observeWithExemplar;\n\t\t} else {\n\t\t\tthis.observe = this.observeWithoutExemplar;\n\t\t}\n\n\t\tObject.freeze(this.bucketValues);\n\t\tObject.freeze(this.upperBounds);\n\n\t\tif (this.labelNames.length === 0) {\n\t\t\tthis.hashMap = {\n\t\t\t\t[hashObject({})]: createBaseValues(\n\t\t\t\t\t{},\n\t\t\t\t\tthis.bucketValues,\n\t\t\t\t\tthis.bucketExemplars,\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Observe a value in histogram\n\t * @param {object} labels - Object with labels where key is the label key and value is label value. Can only be one level deep\n\t * @param {Number} value - Value to observe in the histogram\n\t * @returns {void}\n\t */\n\tobserveWithoutExemplar(labels, value) {\n\t\tobserve.call(this, labels === 0 ? 0 : labels || {})(value);\n\t}\n\n\tobserveWithExemplar({\n\t\tlabels = this.defaultLabels,\n\t\tvalue,\n\t\texemplarLabels = this.defaultExemplarLabelSet,\n\t} = {}) {\n\t\tobserve.call(this, labels === 0 ? 0 : labels || {})(value);\n\t\tthis.updateExemplar(labels, value, exemplarLabels);\n\t}\n\n\tupdateExemplar(labels, value, exemplarLabels) {\n\t\tif (Object.keys(exemplarLabels).length === 0) return;\n\t\tconst hash = hashObject(labels, this.sortedLabelNames);\n\t\tconst bound = findBound(this.upperBounds, value);\n\t\tconst { bucketExemplars } = this.hashMap[hash];\n\t\tlet exemplar = bucketExemplars[bound];\n\t\tif (!isObject(exemplar)) {\n\t\t\texemplar = new Exemplar();\n\t\t\tbucketExemplars[bound] = exemplar;\n\t\t}\n\t\texemplar.validateExemplarLabelSet(exemplarLabels);\n\t\texemplar.labelSet = exemplarLabels;\n\t\texemplar.value = value;\n\t\texemplar.timestamp = nowTimestamp();\n\t}\n\n\tasync get() {\n\t\tconst data = await this.getForPromString();\n\t\tdata.values = data.values.map(splayLabels);\n\t\treturn data;\n\t}\n\n\tasync getForPromString() {\n\t\tif (this.collect) {\n\t\t\tconst v = this.collect();\n\t\t\tif (v instanceof Promise) await v;\n\t\t}\n\t\tconst data = Object.values(this.hashMap);\n\t\tconst values = data\n\t\t\t.map(extractBucketValuesForExport(this))\n\t\t\t.reduce(addSumAndCountForExport(this), []);\n\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\thelp: this.help,\n\t\t\ttype: this.type,\n\t\t\tvalues,\n\t\t\taggregator: this.aggregator,\n\t\t};\n\t}\n\n\treset() {\n\t\tthis.hashMap = {};\n\t}\n\n\t/**\n\t * Initialize the metrics for the given combination of labels to zero\n\t * @param {object} labels - Object with labels where key is the label key and value is label value. Can only be one level deep\n\t * @returns {void}\n\t */\n\tzero(labels) {\n\t\tconst hash = hashObject(labels, this.sortedLabelNames);\n\t\tthis.hashMap[hash] = createBaseValues(\n\t\t\tlabels,\n\t\t\tthis.bucketValues,\n\t\t\tthis.bucketExemplars,\n\t\t);\n\t}\n\n\t/**\n\t * Start a timer that could be used to logging durations\n\t * @param {object} labels - Object with labels where key is the label key and value is label value. Can only be one level deep\n\t * @param {object} exemplarLabels - Object with labels for exemplar where key is the label key and value is label value. Can only be one level deep\n\t * @returns {function} - Function to invoke when you want to stop the timer and observe the duration in seconds\n\t * @example\n\t * var end = histogram.startTimer();\n\t * makeExpensiveXHRRequest(function(err, res) {\n\t * \tconst duration = end(); //Observe the duration of expensiveXHRRequest and returns duration in seconds\n\t * \tconsole.log('Duration', duration);\n\t * });\n\t */\n\tstartTimer(labels, exemplarLabels) {\n\t\treturn this.enableExemplars\n\t\t\t? startTimerWithExemplar.call(this, labels, exemplarLabels)()\n\t\t\t: startTimer.call(this, labels)();\n\t}\n\n\tlabels(...args) {\n\t\tconst labels = getLabels(this.labelNames, args);\n\t\tvalidateLabel(this.labelNames, labels);\n\t\treturn {\n\t\t\tobserve: observe.call(this, labels),\n\t\t\tstartTimer: startTimer.call(this, labels),\n\t\t};\n\t}\n\n\tremove(...args) {\n\t\tconst labels = getLabels(this.labelNames, args);\n\t\tvalidateLabel(this.labelNames, labels);\n\t\tremoveLabels.call(this, this.hashMap, labels, this.sortedLabelNames);\n\t}\n}\n\nfunction startTimer(startLabels) {\n\treturn () => {\n\t\tconst start = process.hrtime();\n\t\treturn endLabels => {\n\t\t\tconst delta = process.hrtime(start);\n\t\t\tconst value = delta[0] + delta[1] / 1e9;\n\t\t\tthis.observe(Object.assign({}, startLabels, endLabels), value);\n\t\t\treturn value;\n\t\t};\n\t};\n}\n\nfunction startTimerWithExemplar(startLabels, startExemplarLabels) {\n\treturn () => {\n\t\tconst start = process.hrtime();\n\t\treturn (endLabels, endExemplarLabels) => {\n\t\t\tconst delta = process.hrtime(start);\n\t\t\tconst value = delta[0] + delta[1] / 1e9;\n\t\t\tthis.observe({\n\t\t\t\tlabels: Object.assign({}, startLabels, endLabels),\n\t\t\t\tvalue,\n\t\t\t\texemplarLabels: Object.assign(\n\t\t\t\t\t{},\n\t\t\t\t\tstartExemplarLabels,\n\t\t\t\t\tendExemplarLabels,\n\t\t\t\t),\n\t\t\t});\n\t\t\treturn value;\n\t\t};\n\t};\n}\n\nfunction setValuePair(labels, value, metricName, exemplar, sharedLabels = {}) {\n\treturn {\n\t\tlabels,\n\t\tsharedLabels,\n\t\tvalue,\n\t\tmetricName,\n\t\texemplar,\n\t};\n}\n\nfunction findBound(upperBounds, value) {\n\tfor (let i = 0; i < upperBounds.length; i++) {\n\t\tconst bound = upperBounds[i];\n\t\tif (value <= bound) {\n\t\t\treturn bound;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction observe(labels) {\n\treturn value => {\n\t\tconst labelValuePair = convertLabelsAndValues(labels, value);\n\n\t\tvalidateLabel(this.labelNames, labelValuePair.labels);\n\t\tif (!Number.isFinite(labelValuePair.value)) {\n\t\t\tthrow new TypeError(\n\t\t\t\t`Value is not a valid number: ${util.format(labelValuePair.value)}`,\n\t\t\t);\n\t\t}\n\n\t\tconst hash = hashObject(labelValuePair.labels, this.sortedLabelNames);\n\t\tlet valueFromMap = this.hashMap[hash];\n\t\tif (!valueFromMap) {\n\t\t\tvalueFromMap = createBaseValues(\n\t\t\t\tlabelValuePair.labels,\n\t\t\t\tthis.bucketValues,\n\t\t\t\tthis.bucketExemplars,\n\t\t\t);\n\t\t}\n\n\t\tconst b = findBound(this.upperBounds, labelValuePair.value);\n\n\t\tvalueFromMap.sum += labelValuePair.value;\n\t\tvalueFromMap.count += 1;\n\n\t\tif (Object.prototype.hasOwnProperty.call(valueFromMap.bucketValues, b)) {\n\t\t\tvalueFromMap.bucketValues[b] += 1;\n\t\t}\n\n\t\tthis.hashMap[hash] = valueFromMap;\n\t};\n}\n\nfunction createBaseValues(labels, bucketValues, bucketExemplars) {\n\tconst result = {\n\t\tlabels,\n\t\tbucketValues: { ...bucketValues },\n\t\tsum: 0,\n\t\tcount: 0,\n\t};\n\tif (bucketExemplars) {\n\t\tresult.bucketExemplars = { ...bucketExemplars };\n\t}\n\treturn result;\n}\n\nfunction convertLabelsAndValues(labels, value) {\n\treturn isObject(labels)\n\t\t? {\n\t\t\t\tlabels,\n\t\t\t\tvalue,\n\t\t\t}\n\t\t: {\n\t\t\t\tvalue: labels,\n\t\t\t\tlabels: {},\n\t\t\t};\n}\n\nfunction extractBucketValuesForExport(histogram) {\n\tconst name = `${histogram.name}_bucket`;\n\treturn bucketData => {\n\t\tlet acc = 0;\n\t\tconst buckets = histogram.upperBounds.map(upperBound => {\n\t\t\tacc += bucketData.bucketValues[upperBound];\n\t\t\treturn setValuePair(\n\t\t\t\t{ le: upperBound },\n\t\t\t\tacc,\n\t\t\t\tname,\n\t\t\t\tbucketData.bucketExemplars\n\t\t\t\t\t? bucketData.bucketExemplars[upperBound]\n\t\t\t\t\t: null,\n\t\t\t\tbucketData.labels,\n\t\t\t);\n\t\t});\n\t\treturn { buckets, data: bucketData };\n\t};\n}\n\nfunction addSumAndCountForExport(histogram) {\n\treturn (acc, d) => {\n\t\tacc.push(...d.buckets);\n\n\t\tconst infLabel = { le: '+Inf' };\n\t\tacc.push(\n\t\t\tsetValuePair(\n\t\t\t\tinfLabel,\n\t\t\t\td.data.count,\n\t\t\t\t`${histogram.name}_bucket`,\n\t\t\t\td.data.bucketExemplars ? d.data.bucketExemplars['-1'] : null,\n\t\t\t\td.data.labels,\n\t\t\t),\n\t\t\tsetValuePair(\n\t\t\t\t{},\n\t\t\t\td.data.sum,\n\t\t\t\t`${histogram.name}_sum`,\n\t\t\t\tundefined,\n\t\t\t\td.data.labels,\n\t\t\t),\n\t\t\tsetValuePair(\n\t\t\t\t{},\n\t\t\t\td.data.count,\n\t\t\t\t`${histogram.name}_count`,\n\t\t\t\tundefined,\n\t\t\t\td.data.labels,\n\t\t\t),\n\t\t);\n\t\treturn acc;\n\t};\n}\n\nfunction splayLabels(bucket) {\n\tconst { sharedLabels, labels, ...newBucket } = bucket;\n\tfor (const label of Object.keys(sharedLabels)) {\n\t\tlabels[label] = sharedLabels[label];\n\t}\n\tnewBucket.labels = labels;\n\treturn newBucket;\n}\n\nmodule.exports = Histogram;\n","\nfunction TreeBase() {}\n\n// removes all nodes from the tree\nTreeBase.prototype.clear = function() {\n    this._root = null;\n    this.size = 0;\n};\n\n// returns node data if found, null otherwise\nTreeBase.prototype.find = function(data) {\n    var res = this._root;\n\n    while(res !== null) {\n        var c = this._comparator(data, res.data);\n        if(c === 0) {\n            return res.data;\n        }\n        else {\n            res = res.get_child(c > 0);\n        }\n    }\n\n    return null;\n};\n\n// returns iterator to node if found, null otherwise\nTreeBase.prototype.findIter = function(data) {\n    var res = this._root;\n    var iter = this.iterator();\n\n    while(res !== null) {\n        var c = this._comparator(data, res.data);\n        if(c === 0) {\n            iter._cursor = res;\n            return iter;\n        }\n        else {\n            iter._ancestors.push(res);\n            res = res.get_child(c > 0);\n        }\n    }\n\n    return null;\n};\n\n// Returns an iterator to the tree node at or immediately after the item\nTreeBase.prototype.lowerBound = function(item) {\n    var cur = this._root;\n    var iter = this.iterator();\n    var cmp = this._comparator;\n\n    while(cur !== null) {\n        var c = cmp(item, cur.data);\n        if(c === 0) {\n            iter._cursor = cur;\n            return iter;\n        }\n        iter._ancestors.push(cur);\n        cur = cur.get_child(c > 0);\n    }\n\n    for(var i=iter._ancestors.length - 1; i >= 0; --i) {\n        cur = iter._ancestors[i];\n        if(cmp(item, cur.data) < 0) {\n            iter._cursor = cur;\n            iter._ancestors.length = i;\n            return iter;\n        }\n    }\n\n    iter._ancestors.length = 0;\n    return iter;\n};\n\n// Returns an iterator to the tree node immediately after the item\nTreeBase.prototype.upperBound = function(item) {\n    var iter = this.lowerBound(item);\n    var cmp = this._comparator;\n\n    while(iter.data() !== null && cmp(iter.data(), item) === 0) {\n        iter.next();\n    }\n\n    return iter;\n};\n\n// returns null if tree is empty\nTreeBase.prototype.min = function() {\n    var res = this._root;\n    if(res === null) {\n        return null;\n    }\n\n    while(res.left !== null) {\n        res = res.left;\n    }\n\n    return res.data;\n};\n\n// returns null if tree is empty\nTreeBase.prototype.max = function() {\n    var res = this._root;\n    if(res === null) {\n        return null;\n    }\n\n    while(res.right !== null) {\n        res = res.right;\n    }\n\n    return res.data;\n};\n\n// returns a null iterator\n// call next() or prev() to point to an element\nTreeBase.prototype.iterator = function() {\n    return new Iterator(this);\n};\n\n// calls cb on each node's data, in order\nTreeBase.prototype.each = function(cb) {\n    var it=this.iterator(), data;\n    while((data = it.next()) !== null) {\n        if(cb(data) === false) {\n            return;\n        }\n    }\n};\n\n// calls cb on each node's data, in reverse order\nTreeBase.prototype.reach = function(cb) {\n    var it=this.iterator(), data;\n    while((data = it.prev()) !== null) {\n        if(cb(data) === false) {\n            return;\n        }\n    }\n};\n\n\nfunction Iterator(tree) {\n    this._tree = tree;\n    this._ancestors = [];\n    this._cursor = null;\n}\n\nIterator.prototype.data = function() {\n    return this._cursor !== null ? this._cursor.data : null;\n};\n\n// if null-iterator, returns first node\n// otherwise, returns next node\nIterator.prototype.next = function() {\n    if(this._cursor === null) {\n        var root = this._tree._root;\n        if(root !== null) {\n            this._minNode(root);\n        }\n    }\n    else {\n        if(this._cursor.right === null) {\n            // no greater node in subtree, go up to parent\n            // if coming from a right child, continue up the stack\n            var save;\n            do {\n                save = this._cursor;\n                if(this._ancestors.length) {\n                    this._cursor = this._ancestors.pop();\n                }\n                else {\n                    this._cursor = null;\n                    break;\n                }\n            } while(this._cursor.right === save);\n        }\n        else {\n            // get the next node from the subtree\n            this._ancestors.push(this._cursor);\n            this._minNode(this._cursor.right);\n        }\n    }\n    return this._cursor !== null ? this._cursor.data : null;\n};\n\n// if null-iterator, returns last node\n// otherwise, returns previous node\nIterator.prototype.prev = function() {\n    if(this._cursor === null) {\n        var root = this._tree._root;\n        if(root !== null) {\n            this._maxNode(root);\n        }\n    }\n    else {\n        if(this._cursor.left === null) {\n            var save;\n            do {\n                save = this._cursor;\n                if(this._ancestors.length) {\n                    this._cursor = this._ancestors.pop();\n                }\n                else {\n                    this._cursor = null;\n                    break;\n                }\n            } while(this._cursor.left === save);\n        }\n        else {\n            this._ancestors.push(this._cursor);\n            this._maxNode(this._cursor.left);\n        }\n    }\n    return this._cursor !== null ? this._cursor.data : null;\n};\n\nIterator.prototype._minNode = function(start) {\n    while(start.left !== null) {\n        this._ancestors.push(start);\n        start = start.left;\n    }\n    this._cursor = start;\n};\n\nIterator.prototype._maxNode = function(start) {\n    while(start.right !== null) {\n        this._ancestors.push(start);\n        start = start.right;\n    }\n    this._cursor = start;\n};\n\nmodule.exports = TreeBase;\n\n","\nvar TreeBase = require('./treebase');\n\nfunction Node(data) {\n    this.data = data;\n    this.left = null;\n    this.right = null;\n    this.red = true;\n}\n\nNode.prototype.get_child = function(dir) {\n    return dir ? this.right : this.left;\n};\n\nNode.prototype.set_child = function(dir, val) {\n    if(dir) {\n        this.right = val;\n    }\n    else {\n        this.left = val;\n    }\n};\n\nfunction RBTree(comparator) {\n    this._root = null;\n    this._comparator = comparator;\n    this.size = 0;\n}\n\nRBTree.prototype = new TreeBase();\n\n// returns true if inserted, false if duplicate\nRBTree.prototype.insert = function(data) {\n    var ret = false;\n\n    if(this._root === null) {\n        // empty tree\n        this._root = new Node(data);\n        ret = true;\n        this.size++;\n    }\n    else {\n        var head = new Node(undefined); // fake tree root\n\n        var dir = 0;\n        var last = 0;\n\n        // setup\n        var gp = null; // grandparent\n        var ggp = head; // grand-grand-parent\n        var p = null; // parent\n        var node = this._root;\n        ggp.right = this._root;\n\n        // search down\n        while(true) {\n            if(node === null) {\n                // insert new node at the bottom\n                node = new Node(data);\n                p.set_child(dir, node);\n                ret = true;\n                this.size++;\n            }\n            else if(is_red(node.left) && is_red(node.right)) {\n                // color flip\n                node.red = true;\n                node.left.red = false;\n                node.right.red = false;\n            }\n\n            // fix red violation\n            if(is_red(node) && is_red(p)) {\n                var dir2 = ggp.right === gp;\n\n                if(node === p.get_child(last)) {\n                    ggp.set_child(dir2, single_rotate(gp, !last));\n                }\n                else {\n                    ggp.set_child(dir2, double_rotate(gp, !last));\n                }\n            }\n\n            var cmp = this._comparator(node.data, data);\n\n            // stop if found\n            if(cmp === 0) {\n                break;\n            }\n\n            last = dir;\n            dir = cmp < 0;\n\n            // update helpers\n            if(gp !== null) {\n                ggp = gp;\n            }\n            gp = p;\n            p = node;\n            node = node.get_child(dir);\n        }\n\n        // update root\n        this._root = head.right;\n    }\n\n    // make root black\n    this._root.red = false;\n\n    return ret;\n};\n\n// returns true if removed, false if not found\nRBTree.prototype.remove = function(data) {\n    if(this._root === null) {\n        return false;\n    }\n\n    var head = new Node(undefined); // fake tree root\n    var node = head;\n    node.right = this._root;\n    var p = null; // parent\n    var gp = null; // grand parent\n    var found = null; // found item\n    var dir = 1;\n\n    while(node.get_child(dir) !== null) {\n        var last = dir;\n\n        // update helpers\n        gp = p;\n        p = node;\n        node = node.get_child(dir);\n\n        var cmp = this._comparator(data, node.data);\n\n        dir = cmp > 0;\n\n        // save found node\n        if(cmp === 0) {\n            found = node;\n        }\n\n        // push the red node down\n        if(!is_red(node) && !is_red(node.get_child(dir))) {\n            if(is_red(node.get_child(!dir))) {\n                var sr = single_rotate(node, dir);\n                p.set_child(last, sr);\n                p = sr;\n            }\n            else if(!is_red(node.get_child(!dir))) {\n                var sibling = p.get_child(!last);\n                if(sibling !== null) {\n                    if(!is_red(sibling.get_child(!last)) && !is_red(sibling.get_child(last))) {\n                        // color flip\n                        p.red = false;\n                        sibling.red = true;\n                        node.red = true;\n                    }\n                    else {\n                        var dir2 = gp.right === p;\n\n                        if(is_red(sibling.get_child(last))) {\n                            gp.set_child(dir2, double_rotate(p, last));\n                        }\n                        else if(is_red(sibling.get_child(!last))) {\n                            gp.set_child(dir2, single_rotate(p, last));\n                        }\n\n                        // ensure correct coloring\n                        var gpc = gp.get_child(dir2);\n                        gpc.red = true;\n                        node.red = true;\n                        gpc.left.red = false;\n                        gpc.right.red = false;\n                    }\n                }\n            }\n        }\n    }\n\n    // replace and remove if found\n    if(found !== null) {\n        found.data = node.data;\n        p.set_child(p.right === node, node.get_child(node.left === null));\n        this.size--;\n    }\n\n    // update root and make it black\n    this._root = head.right;\n    if(this._root !== null) {\n        this._root.red = false;\n    }\n\n    return found !== null;\n};\n\nfunction is_red(node) {\n    return node !== null && node.red;\n}\n\nfunction single_rotate(root, dir) {\n    var save = root.get_child(!dir);\n\n    root.set_child(!dir, save.get_child(dir));\n    save.set_child(dir, root);\n\n    root.red = true;\n    save.red = false;\n\n    return save;\n}\n\nfunction double_rotate(root, dir) {\n    root.set_child(!dir, single_rotate(root.get_child(!dir), !dir));\n    return single_rotate(root, dir);\n}\n\nmodule.exports = RBTree;\n","\nvar TreeBase = require('./treebase');\n\nfunction Node(data) {\n    this.data = data;\n    this.left = null;\n    this.right = null;\n}\n\nNode.prototype.get_child = function(dir) {\n    return dir ? this.right : this.left;\n};\n\nNode.prototype.set_child = function(dir, val) {\n    if(dir) {\n        this.right = val;\n    }\n    else {\n        this.left = val;\n    }\n};\n\nfunction BinTree(comparator) {\n    this._root = null;\n    this._comparator = comparator;\n    this.size = 0;\n}\n\nBinTree.prototype = new TreeBase();\n\n// returns true if inserted, false if duplicate\nBinTree.prototype.insert = function(data) {\n    if(this._root === null) {\n        // empty tree\n        this._root = new Node(data);\n        this.size++;\n        return true;\n    }\n\n    var dir = 0;\n\n    // setup\n    var p = null; // parent\n    var node = this._root;\n\n    // search down\n    while(true) {\n        if(node === null) {\n            // insert new node at the bottom\n            node = new Node(data);\n            p.set_child(dir, node);\n            ret = true;\n            this.size++;\n            return true;\n        }\n\n        // stop if found\n        if(this._comparator(node.data, data) === 0) {\n            return false;\n        }\n\n        dir = this._comparator(node.data, data) < 0;\n\n        // update helpers\n        p = node;\n        node = node.get_child(dir);\n    }\n};\n\n// returns true if removed, false if not found\nBinTree.prototype.remove = function(data) {\n    if(this._root === null) {\n        return false;\n    }\n\n    var head = new Node(undefined); // fake tree root\n    var node = head;\n    node.right = this._root;\n    var p = null; // parent\n    var found = null; // found item\n    var dir = 1;\n\n    while(node.get_child(dir) !== null) {\n        p = node;\n        node = node.get_child(dir);\n        var cmp = this._comparator(data, node.data);\n        dir = cmp > 0;\n\n        if(cmp === 0) {\n            found = node;\n        }\n    }\n\n    if(found !== null) {\n        found.data = node.data;\n        p.set_child(p.right === node, node.get_child(node.left === null));\n\n        this._root = head.right;\n        this.size--;\n        return true;\n    }\n    else {\n        return false;\n    }\n};\n\nmodule.exports = BinTree;\n\n","module.exports = {\n    RBTree: require('./lib/rbtree'),\n    BinTree: require('./lib/bintree')\n};\n","//\n// TDigest:\n//\n// approximate distribution percentiles from a stream of reals\n//\nvar RBTree = require('bintrees').RBTree;\n\nfunction TDigest(delta, K, CX) {\n    // allocate a TDigest structure.\n    //\n    // delta is the compression factor, the max fraction of mass that\n    // can be owned by one centroid (bigger, up to 1.0, means more\n    // compression). delta=false switches off TDigest behavior and treats\n    // the distribution as discrete, with no merging and exact values\n    // reported.\n    //\n    // K is a size threshold that triggers recompression as the TDigest\n    // grows during input.  (Set it to 0 to disable automatic recompression)\n    //\n    // CX specifies how often to update cached cumulative totals used\n    // for quantile estimation during ingest (see cumulate()).  Set to\n    // 0 to use exact quantiles for each new point.\n    //\n    this.discrete = (delta === false);\n    this.delta = delta || 0.01;\n    this.K = (K === undefined) ? 25 : K;\n    this.CX = (CX === undefined) ? 1.1 : CX;\n    this.centroids = new RBTree(compare_centroid_means);\n    this.nreset = 0;\n    this.reset();\n}\n\nTDigest.prototype.reset = function() {\n    // prepare to digest new points.\n    //\n    this.centroids.clear();\n    this.n = 0;\n    this.nreset += 1;\n    this.last_cumulate = 0;\n};\n\nTDigest.prototype.size = function() {\n    return this.centroids.size;\n};\n\nTDigest.prototype.toArray = function(everything) {\n    // return {mean,n} of centroids as an array ordered by mean.\n    //\n    var result = [];\n    if (everything) {\n        this._cumulate(true); // be sure cumns are exact\n        this.centroids.each(function(c) { result.push(c); });\n    } else {\n        this.centroids.each(function(c) { result.push({mean:c.mean, n:c.n}); });\n    }\n    return result;\n};\n\nTDigest.prototype.summary = function() {\n    var approx = (this.discrete) ? \"exact \" : \"approximating \";\n    var s = [approx + this.n + \" samples using \" + this.size() + \" centroids\",\n             \"min = \"+this.percentile(0),\n             \"Q1  = \"+this.percentile(0.25),\n             \"Q2  = \"+this.percentile(0.5),\n             \"Q3  = \"+this.percentile(0.75),\n             \"max = \"+this.percentile(1.0)];\n    return s.join('\\n');\n};\n\nfunction compare_centroid_means(a, b) {\n    // order two centroids by mean.\n    //\n    return (a.mean > b.mean) ? 1 : (a.mean < b.mean) ? -1 : 0;\n}\n\nfunction compare_centroid_mean_cumns(a, b) {\n    // order two centroids by mean_cumn.\n    //\n    return (a.mean_cumn - b.mean_cumn);\n}\n\nTDigest.prototype.push = function(x, n) {\n    // incorporate value or array of values x, having count n into the\n    // TDigest. n defaults to 1.\n    //\n    n = n || 1;\n    x = Array.isArray(x) ? x : [x];\n    for (var i = 0 ; i < x.length ; i++) {\n        this._digest(x[i], n);\n    }\n};\n\nTDigest.prototype.push_centroid = function(c) {\n    // incorporate centroid or array of centroids c\n    //\n    c = Array.isArray(c) ? c : [c];\n    for (var i = 0 ; i < c.length ; i++) {\n        this._digest(c[i].mean, c[i].n);\n    }\n};\n\nTDigest.prototype._cumulate = function(exact) {\n    // update cumulative counts for each centroid\n    //\n    // exact: falsey means only cumulate after sufficient\n    // growth. During ingest, these counts are used as quantile\n    // estimates, and they work well even when somewhat out of\n    // date. (this is a departure from the publication, you may set CX\n    // to 0 to disable).\n    //\n    if (this.n === this.last_cumulate ||\n        !exact && this.CX && this.CX > (this.n / this.last_cumulate)) {\n        return;\n    }\n    var cumn = 0;\n    this.centroids.each(function(c) {\n        c.mean_cumn = cumn + c.n / 2; // half of n at the mean\n        cumn = c.cumn = cumn + c.n;\n    });\n    this.n = this.last_cumulate = cumn;\n};\n\nTDigest.prototype.find_nearest = function(x) {\n    // find the centroid closest to x. The assumption of\n    // unique means and a unique nearest centroid departs from the\n    // paper, see _digest() below\n    //\n    if (this.size() === 0) {\n        return null;\n    }\n    var iter = this.centroids.lowerBound({mean:x}); // x <= iter || iter==null\n    var c = (iter.data() === null) ? iter.prev() : iter.data();\n    if (c.mean === x || this.discrete) {\n        return c; // c is either x or a neighbor (discrete: no distance func)\n    }\n    var prev = iter.prev();\n    if (prev && Math.abs(prev.mean - x) < Math.abs(c.mean - x)) {\n        return prev;\n    } else {\n        return c;\n    }\n};\n\nTDigest.prototype._new_centroid = function(x, n, cumn) {\n    // create and insert a new centroid into the digest (don't update\n    // cumulatives).\n    //\n    var c = {mean:x, n:n, cumn:cumn};\n    this.centroids.insert(c);\n    this.n += n;\n    return c;\n};\n\nTDigest.prototype._addweight = function(nearest, x, n) {\n    // add weight at location x to nearest centroid.  adding x to\n    // nearest will not shift its relative position in the tree and\n    // require reinsertion.\n    //\n    if (x !== nearest.mean) {\n        nearest.mean += n * (x - nearest.mean) / (nearest.n + n);\n    }\n    nearest.cumn += n;\n    nearest.mean_cumn += n / 2;\n    nearest.n += n;\n    this.n += n;\n};\n\nTDigest.prototype._digest = function(x, n) {\n    // incorporate value x, having count n into the TDigest.\n    //\n    var min = this.centroids.min();\n    var max = this.centroids.max();\n    var nearest = this.find_nearest(x);\n    if (nearest && nearest.mean === x) {\n        // accumulate exact matches into the centroid without\n        // limit. this is a departure from the paper, made so\n        // centroids remain unique and code can be simple.\n        this._addweight(nearest, x, n);\n    } else if (nearest === min) {\n        this._new_centroid(x, n, 0); // new point around min boundary\n    } else if (nearest === max ) {\n        this._new_centroid(x, n, this.n); // new point around max boundary\n    } else if (this.discrete) {\n        this._new_centroid(x, n, nearest.cumn); // never merge\n    } else {\n        // conider a merge based on nearest centroid's capacity. if\n        // there's not room for all of n, don't bother merging any of\n        // it into nearest, as we'll have to make a new centroid\n        // anyway for the remainder (departure from the paper).\n        var p = nearest.mean_cumn / this.n;\n        var max_n = Math.floor(4 * this.n * this.delta * p * (1 - p));\n        if (max_n - nearest.n >= n) {\n            this._addweight(nearest, x, n);\n        } else {\n            this._new_centroid(x, n, nearest.cumn);\n        }\n    }\n    this._cumulate(false);\n    if (!this.discrete && this.K && this.size() > this.K / this.delta) {\n        // re-process the centroids and hope for some compression.\n        this.compress();\n    }\n};\n\nTDigest.prototype.bound_mean = function(x) {\n    // find centroids lower and upper such that lower.mean < x <\n    // upper.mean or lower.mean === x === upper.mean. Don't call\n    // this for x out of bounds.\n    //\n    var iter = this.centroids.upperBound({mean:x}); // x < iter\n    var lower = iter.prev();      // lower <= x\n    var upper = (lower.mean === x) ? lower : iter.next();\n    return [lower, upper];\n};\n\nTDigest.prototype.p_rank = function(x_or_xlist) {\n    // return approximate percentile-ranks (0..1) for data value x.\n    // or list of x.  calculated according to\n    // https://en.wikipedia.org/wiki/Percentile_rank\n    //\n    // (Note that in continuous mode, boundary sample values will\n    // report half their centroid weight inward from 0/1 as the\n    // percentile-rank. X values outside the observed range return\n    // 0/1)\n    //\n    // this triggers cumulate() if cumn's are out of date.\n    //\n    var xs = Array.isArray(x_or_xlist) ? x_or_xlist : [x_or_xlist];\n    var ps = xs.map(this._p_rank, this);\n    return Array.isArray(x_or_xlist) ? ps : ps[0];\n};\n\nTDigest.prototype._p_rank = function(x) {\n    if (this.size() === 0) {\n        return undefined;\n    } else if (x < this.centroids.min().mean) {\n        return 0.0;\n    } else if (x > this.centroids.max().mean) {\n        return 1.0;\n    }\n    // find centroids that bracket x and interpolate x's cumn from\n    // their cumn's.\n    this._cumulate(true); // be sure cumns are exact\n    var bound = this.bound_mean(x);\n    var lower = bound[0], upper = bound[1];\n    if (this.discrete) {\n        return lower.cumn / this.n;\n    } else {\n        var cumn = lower.mean_cumn;\n        if (lower !== upper) {\n            cumn += (x - lower.mean) * (upper.mean_cumn - lower.mean_cumn) / (upper.mean - lower.mean);\n        }\n        return cumn / this.n;\n    }\n};\n\nTDigest.prototype.bound_mean_cumn = function(cumn) {\n    // find centroids lower and upper such that lower.mean_cumn < x <\n    // upper.mean_cumn or lower.mean_cumn === x === upper.mean_cumn. Don't call\n    // this for cumn out of bounds.\n    //\n    // XXX because mean and mean_cumn give rise to the same sort order\n    // (up to identical means), use the mean rbtree for our search.\n    this.centroids._comparator = compare_centroid_mean_cumns;\n    var iter = this.centroids.upperBound({mean_cumn:cumn}); // cumn < iter\n    this.centroids._comparator = compare_centroid_means;\n    var lower = iter.prev();      // lower <= cumn\n    var upper = (lower && lower.mean_cumn === cumn) ? lower : iter.next();\n    return [lower, upper];\n};\n\nTDigest.prototype.percentile = function(p_or_plist) {\n    // for percentage p (0..1), or for each p in a list of ps, return\n    // the smallest data value q at which at least p percent of the\n    // observations <= q.\n    //\n    // for discrete distributions, this selects q using the Nearest\n    // Rank Method\n    // (https://en.wikipedia.org/wiki/Percentile#The_Nearest_Rank_method)\n    // (in scipy, same as percentile(...., interpolation='higher')\n    //\n    // for continuous distributions, interpolates data values between\n    // count-weighted bracketing means.\n    //\n    // this triggers cumulate() if cumn's are out of date.\n    //\n    var ps = Array.isArray(p_or_plist) ? p_or_plist : [p_or_plist];\n    var qs = ps.map(this._percentile, this);\n    return Array.isArray(p_or_plist) ? qs : qs[0];\n};\n\nTDigest.prototype._percentile = function(p) {\n    if (this.size() === 0) {\n        return undefined;\n    }\n    this._cumulate(true); // be sure cumns are exact\n    var h = this.n * p;\n    var bound = this.bound_mean_cumn(h);\n    var lower = bound[0], upper = bound[1];\n\n    if (upper === lower || lower === null || upper === null) {\n        return (lower || upper).mean;\n    } else if (!this.discrete) {\n        return lower.mean + (h - lower.mean_cumn) * (upper.mean - lower.mean) / (upper.mean_cumn - lower.mean_cumn);\n    } else if (h <= lower.cumn) {\n        return lower.mean;\n    } else {\n        return upper.mean;\n    }\n};\n\nfunction pop_random(choices) {\n    // remove and return an item randomly chosen from the array of choices\n    // (mutates choices)\n    //\n    var idx = Math.floor(Math.random() * choices.length);\n    return choices.splice(idx, 1)[0];\n}\n\nTDigest.prototype.compress = function() {\n    // TDigests experience worst case compression (none) when input\n    // increases monotonically.  Improve on any bad luck by\n    // reconsuming digest centroids as if they were weighted points\n    // while shuffling their order (and hope for the best).\n    //\n    if (this.compressing) {\n        return;\n    }\n    var points = this.toArray();\n    this.reset();\n    this.compressing = true;\n    while (points.length > 0) {\n        this.push_centroid(pop_random(points));\n    }\n    this._cumulate(true);\n    this.compressing = false;\n};\n\nfunction Digest(config) {\n    // allocate a distribution digest structure. This is an extension\n    // of a TDigest structure that starts in exact histogram (discrete)\n    // mode, and automatically switches to TDigest mode for large\n    // samples that appear to be from a continuous distribution.\n    //\n    this.config = config || {};\n    this.mode = this.config.mode || 'auto'; // disc, cont, auto\n    TDigest.call(this, this.mode === 'cont' ? config.delta : false);\n    this.digest_ratio = this.config.ratio || 0.9;\n    this.digest_thresh = this.config.thresh || 1000;\n    this.n_unique = 0;\n}\nDigest.prototype = Object.create(TDigest.prototype);\nDigest.prototype.constructor = Digest;\n\nDigest.prototype.push = function(x_or_xlist) {\n    TDigest.prototype.push.call(this, x_or_xlist);\n    this.check_continuous();\n};\n\nDigest.prototype._new_centroid = function(x, n, cumn) {\n    this.n_unique += 1;\n    TDigest.prototype._new_centroid.call(this, x, n, cumn);\n};\n\nDigest.prototype._addweight = function(nearest, x, n) {\n    if (nearest.n === 1) {\n        this.n_unique -= 1;\n    }\n    TDigest.prototype._addweight.call(this, nearest, x, n);\n};\n\nDigest.prototype.check_continuous = function() {\n    // while in 'auto' mode, if there are many unique elements, assume\n    // they are from a continuous distribution and switch to 'cont'\n    // mode (tdigest behavior). Return true on transition from\n    // disctete to continuous.\n    if (this.mode !== 'auto' || this.size() < this.digest_thresh) {\n        return false;\n    }\n    if (this.n_unique / this.size() > this.digest_ratio) {\n        this.mode = 'cont';\n        this.discrete = false;\n        this.delta = this.config.delta || 0.01;\n        this.compress();\n        return true;\n    }\n    return false;\n};\n\nmodule.exports = {\n    'TDigest': TDigest,\n    'Digest': Digest\n};\n","'use strict';\n\nconst { TDigest } = require('tdigest');\n\nclass TimeWindowQuantiles {\n\tconstructor(maxAgeSeconds, ageBuckets) {\n\t\tthis.maxAgeSeconds = maxAgeSeconds || 0;\n\t\tthis.ageBuckets = ageBuckets || 0;\n\n\t\tthis.shouldRotate = maxAgeSeconds && ageBuckets;\n\n\t\tthis.ringBuffer = Array(ageBuckets).fill(new TDigest());\n\t\tthis.currentBuffer = 0;\n\n\t\tthis.lastRotateTimestampMillis = Date.now();\n\t\tthis.durationBetweenRotatesMillis =\n\t\t\t(maxAgeSeconds * 1000) / ageBuckets || Infinity;\n\t}\n\n\tsize() {\n\t\tconst bucket = rotate.call(this);\n\t\treturn bucket.size();\n\t}\n\n\tpercentile(quantile) {\n\t\tconst bucket = rotate.call(this);\n\t\treturn bucket.percentile(quantile);\n\t}\n\n\tpush(value) {\n\t\trotate.call(this);\n\t\tthis.ringBuffer.forEach(bucket => {\n\t\t\tbucket.push(value);\n\t\t});\n\t}\n\n\treset() {\n\t\tthis.ringBuffer.forEach(bucket => {\n\t\t\tbucket.reset();\n\t\t});\n\t}\n\n\tcompress() {\n\t\tthis.ringBuffer.forEach(bucket => {\n\t\t\tbucket.compress();\n\t\t});\n\t}\n}\n\nfunction rotate() {\n\tlet timeSinceLastRotateMillis = Date.now() - this.lastRotateTimestampMillis;\n\twhile (\n\t\ttimeSinceLastRotateMillis > this.durationBetweenRotatesMillis &&\n\t\tthis.shouldRotate\n\t) {\n\t\tthis.ringBuffer[this.currentBuffer] = new TDigest();\n\n\t\tif (++this.currentBuffer >= this.ringBuffer.length) {\n\t\t\tthis.currentBuffer = 0;\n\t\t}\n\t\ttimeSinceLastRotateMillis -= this.durationBetweenRotatesMillis;\n\t\tthis.lastRotateTimestampMillis += this.durationBetweenRotatesMillis;\n\t}\n\treturn this.ringBuffer[this.currentBuffer];\n}\n\nmodule.exports = TimeWindowQuantiles;\n","/**\n * Summary\n */\n'use strict';\n\nconst util = require('util');\nconst { getLabels, hashObject, removeLabels } = require('./util');\nconst { validateLabel } = require('./validation');\nconst { Metric } = require('./metric');\nconst timeWindowQuantiles = require('./timeWindowQuantiles');\n\nconst DEFAULT_COMPRESS_COUNT = 1000; // every 1000 measurements\n\nclass Summary extends Metric {\n\tconstructor(config) {\n\t\tsuper(config, {\n\t\t\tpercentiles: [0.01, 0.05, 0.5, 0.9, 0.95, 0.99, 0.999],\n\t\t\tcompressCount: DEFAULT_COMPRESS_COUNT,\n\t\t\thashMap: {},\n\t\t});\n\n\t\tthis.type = 'summary';\n\n\t\tfor (const label of this.labelNames) {\n\t\t\tif (label === 'quantile')\n\t\t\t\tthrow new Error('quantile is a reserved label keyword');\n\t\t}\n\n\t\tif (this.labelNames.length === 0) {\n\t\t\tthis.hashMap = {\n\t\t\t\t[hashObject({})]: {\n\t\t\t\t\tlabels: {},\n\t\t\t\t\ttd: new timeWindowQuantiles(this.maxAgeSeconds, this.ageBuckets),\n\t\t\t\t\tcount: 0,\n\t\t\t\t\tsum: 0,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Observe a value\n\t * @param {object} labels - Object with labels where key is the label key and value is label value. Can only be one level deep\n\t * @param {Number} value - Value to observe\n\t * @returns {void}\n\t */\n\tobserve(labels, value) {\n\t\tobserve.call(this, labels === 0 ? 0 : labels || {})(value);\n\t}\n\n\tasync get() {\n\t\tif (this.collect) {\n\t\t\tconst v = this.collect();\n\t\t\tif (v instanceof Promise) await v;\n\t\t}\n\t\tconst hashKeys = Object.keys(this.hashMap);\n\t\tconst values = [];\n\n\t\thashKeys.forEach(hashKey => {\n\t\t\tconst s = this.hashMap[hashKey];\n\t\t\tif (s) {\n\t\t\t\tif (this.pruneAgedBuckets && s.td.size() === 0) {\n\t\t\t\t\tdelete this.hashMap[hashKey];\n\t\t\t\t} else {\n\t\t\t\t\textractSummariesForExport(s, this.percentiles).forEach(v => {\n\t\t\t\t\t\tvalues.push(v);\n\t\t\t\t\t});\n\t\t\t\t\tvalues.push(getSumForExport(s, this));\n\t\t\t\t\tvalues.push(getCountForExport(s, this));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\thelp: this.help,\n\t\t\ttype: this.type,\n\t\t\tvalues,\n\t\t\taggregator: this.aggregator,\n\t\t};\n\t}\n\n\treset() {\n\t\tconst data = Object.values(this.hashMap);\n\t\tdata.forEach(s => {\n\t\t\ts.td.reset();\n\t\t\ts.count = 0;\n\t\t\ts.sum = 0;\n\t\t});\n\t}\n\n\t/**\n\t * Start a timer that could be used to logging durations\n\t * @param {object} labels - Object with labels where key is the label key and value is label value. Can only be one level deep\n\t * @returns {function} - Function to invoke when you want to stop the timer and observe the duration in seconds\n\t * @example\n\t * var end = summary.startTimer();\n\t * makeExpensiveXHRRequest(function(err, res) {\n\t *\tend(); //Observe the duration of expensiveXHRRequest\n\t * });\n\t */\n\tstartTimer(labels) {\n\t\treturn startTimer.call(this, labels)();\n\t}\n\n\tlabels(...args) {\n\t\tconst labels = getLabels(this.labelNames, args);\n\t\tvalidateLabel(this.labelNames, labels);\n\t\treturn {\n\t\t\tobserve: observe.call(this, labels),\n\t\t\tstartTimer: startTimer.call(this, labels),\n\t\t};\n\t}\n\n\tremove(...args) {\n\t\tconst labels = getLabels(this.labelNames, args);\n\t\tvalidateLabel(this.labelNames, labels);\n\t\tremoveLabels.call(this, this.hashMap, labels, this.sortedLabelNames);\n\t}\n}\n\nfunction extractSummariesForExport(summaryOfLabels, percentiles) {\n\tsummaryOfLabels.td.compress();\n\n\treturn percentiles.map(percentile => {\n\t\tconst percentileValue = summaryOfLabels.td.percentile(percentile);\n\t\treturn {\n\t\t\tlabels: Object.assign({ quantile: percentile }, summaryOfLabels.labels),\n\t\t\tvalue: percentileValue ? percentileValue : 0,\n\t\t};\n\t});\n}\n\nfunction getCountForExport(value, summary) {\n\treturn {\n\t\tmetricName: `${summary.name}_count`,\n\t\tlabels: value.labels,\n\t\tvalue: value.count,\n\t};\n}\n\nfunction getSumForExport(value, summary) {\n\treturn {\n\t\tmetricName: `${summary.name}_sum`,\n\t\tlabels: value.labels,\n\t\tvalue: value.sum,\n\t};\n}\n\nfunction startTimer(startLabels) {\n\treturn () => {\n\t\tconst start = process.hrtime();\n\t\treturn endLabels => {\n\t\t\tconst delta = process.hrtime(start);\n\t\t\tconst value = delta[0] + delta[1] / 1e9;\n\t\t\tthis.observe(Object.assign({}, startLabels, endLabels), value);\n\t\t\treturn value;\n\t\t};\n\t};\n}\n\nfunction observe(labels) {\n\treturn value => {\n\t\tconst labelValuePair = convertLabelsAndValues(labels, value);\n\n\t\tvalidateLabel(this.labelNames, labels);\n\t\tif (!Number.isFinite(labelValuePair.value)) {\n\t\t\tthrow new TypeError(\n\t\t\t\t`Value is not a valid number: ${util.format(labelValuePair.value)}`,\n\t\t\t);\n\t\t}\n\n\t\tconst hash = hashObject(labelValuePair.labels, this.sortedLabelNames);\n\t\tlet summaryOfLabel = this.hashMap[hash];\n\t\tif (!summaryOfLabel) {\n\t\t\tsummaryOfLabel = {\n\t\t\t\tlabels: labelValuePair.labels,\n\t\t\t\ttd: new timeWindowQuantiles(this.maxAgeSeconds, this.ageBuckets),\n\t\t\t\tcount: 0,\n\t\t\t\tsum: 0,\n\t\t\t};\n\t\t}\n\n\t\tsummaryOfLabel.td.push(labelValuePair.value);\n\t\tsummaryOfLabel.count++;\n\t\tif (summaryOfLabel.count % this.compressCount === 0) {\n\t\t\tsummaryOfLabel.td.compress();\n\t\t}\n\t\tsummaryOfLabel.sum += labelValuePair.value;\n\t\tthis.hashMap[hash] = summaryOfLabel;\n\t};\n}\n\nfunction convertLabelsAndValues(labels, value) {\n\tif (value === undefined) {\n\t\treturn {\n\t\t\tvalue: labels,\n\t\t\tlabels: {},\n\t\t};\n\t}\n\n\treturn {\n\t\tlabels,\n\t\tvalue,\n\t};\n}\n\nmodule.exports = Summary;\n","'use strict';\n\nconst url = require('url');\nconst http = require('http');\nconst https = require('https');\nconst { gzipSync } = require('zlib');\nconst { globalRegistry } = require('./registry');\n\nclass Pushgateway {\n\tconstructor(gatewayUrl, options, registry) {\n\t\tif (!registry) {\n\t\t\tregistry = globalRegistry;\n\t\t}\n\t\tthis.registry = registry;\n\t\tthis.gatewayUrl = gatewayUrl;\n\t\tconst { requireJobName, ...requestOptions } = {\n\t\t\trequireJobName: true,\n\t\t\t...options,\n\t\t};\n\t\tthis.requireJobName = requireJobName;\n\t\tthis.requestOptions = requestOptions;\n\t}\n\n\tpushAdd(params = {}) {\n\t\tif (this.requireJobName && !params.jobName) {\n\t\t\tthrow new Error('Missing jobName parameter');\n\t\t}\n\n\t\treturn useGateway.call(this, 'POST', params.jobName, params.groupings);\n\t}\n\n\tpush(params = {}) {\n\t\tif (this.requireJobName && !params.jobName) {\n\t\t\tthrow new Error('Missing jobName parameter');\n\t\t}\n\n\t\treturn useGateway.call(this, 'PUT', params.jobName, params.groupings);\n\t}\n\n\tdelete(params = {}) {\n\t\tif (this.requireJobName && !params.jobName) {\n\t\t\tthrow new Error('Missing jobName parameter');\n\t\t}\n\n\t\treturn useGateway.call(this, 'DELETE', params.jobName, params.groupings);\n\t}\n}\nasync function useGateway(method, job, groupings) {\n\t// `URL` first added in v6.13.0\n\t// eslint-disable-next-line n/no-deprecated-api\n\tconst gatewayUrlParsed = url.parse(this.gatewayUrl);\n\tconst gatewayUrlPath =\n\t\tgatewayUrlParsed.pathname && gatewayUrlParsed.pathname !== '/'\n\t\t\t? gatewayUrlParsed.pathname\n\t\t\t: '';\n\tconst jobPath = job\n\t\t? `/job/${encodeURIComponent(job)}${generateGroupings(groupings)}`\n\t\t: '';\n\tconst path = `${gatewayUrlPath}/metrics${jobPath}`;\n\n\t// eslint-disable-next-line n/no-deprecated-api\n\tconst target = url.resolve(this.gatewayUrl, path);\n\t// eslint-disable-next-line n/no-deprecated-api\n\tconst requestParams = url.parse(target);\n\tconst httpModule = isHttps(requestParams.href) ? https : http;\n\tconst options = Object.assign(requestParams, this.requestOptions, {\n\t\tmethod,\n\t});\n\n\treturn new Promise((resolve, reject) => {\n\t\tif (method === 'DELETE' && options.headers) {\n\t\t\tdelete options.headers['Content-Encoding'];\n\t\t}\n\t\tconst req = httpModule.request(options, resp => {\n\t\t\tlet body = '';\n\t\t\tresp.setEncoding('utf8');\n\t\t\tresp.on('data', chunk => {\n\t\t\t\tbody += chunk;\n\t\t\t});\n\t\t\tresp.on('end', () => {\n\t\t\t\tif (resp.statusCode >= 400) {\n\t\t\t\t\treject(\n\t\t\t\t\t\tnew Error(`push failed with status ${resp.statusCode}, ${body}`),\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tresolve({ resp, body });\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treq.on('error', err => {\n\t\t\treject(err);\n\t\t});\n\n\t\treq.on('timeout', () => {\n\t\t\treq.destroy(new Error('Pushgateway request timed out'));\n\t\t});\n\n\t\tif (method !== 'DELETE') {\n\t\t\tthis.registry\n\t\t\t\t.metrics()\n\t\t\t\t.then(metrics => {\n\t\t\t\t\tif (\n\t\t\t\t\t\toptions.headers &&\n\t\t\t\t\t\toptions.headers['Content-Encoding'] === 'gzip'\n\t\t\t\t\t) {\n\t\t\t\t\t\tmetrics = gzipSync(metrics);\n\t\t\t\t\t}\n\t\t\t\t\treq.write(metrics);\n\t\t\t\t\treq.end();\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t} else {\n\t\t\treq.end();\n\t\t}\n\t});\n}\n\nfunction generateGroupings(groupings) {\n\tif (!groupings) {\n\t\treturn '';\n\t}\n\treturn Object.keys(groupings)\n\t\t.map(\n\t\t\tkey =>\n\t\t\t\t`/${encodeURIComponent(key)}/${encodeURIComponent(groupings[key])}`,\n\t\t)\n\t\t.join('');\n}\n\nfunction isHttps(href) {\n\treturn href.search(/^https/) !== -1;\n}\n\nmodule.exports = Pushgateway;\n","'use strict';\n\nexports.linearBuckets = (start, width, count) => {\n\tif (count < 1) {\n\t\tthrow new Error('Linear buckets needs a positive count');\n\t}\n\n\tconst buckets = new Array(count);\n\tfor (let i = 0; i < count; i++) {\n\t\tbuckets[i] = start + i * width;\n\t}\n\treturn buckets;\n};\n\nexports.exponentialBuckets = (start, factor, count) => {\n\tif (start <= 0) {\n\t\tthrow new Error('Exponential buckets needs a positive start');\n\t}\n\tif (count < 1) {\n\t\tthrow new Error('Exponential buckets needs a positive count');\n\t}\n\tif (factor <= 1) {\n\t\tthrow new Error('Exponential buckets needs a factor greater than 1');\n\t}\n\tconst buckets = new Array(count);\n\tfor (let i = 0; i < count; i++) {\n\t\tbuckets[i] = start;\n\t\tstart *= factor;\n\t}\n\treturn buckets;\n};\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport interface SpanStatus {\n  /** The status code of this message. */\n  code: SpanStatusCode;\n  /** A developer-facing error message. */\n  message?: string;\n}\n\n/**\n * An enumeration of status codes.\n */\nexport enum SpanStatusCode {\n  /**\n   * The default status.\n   */\n  UNSET = 0,\n  /**\n   * The operation has been validated by an Application developer or\n   * Operator to have completed successfully.\n   */\n  OK = 1,\n  /**\n   * The operation contains an error.\n   */\n  ERROR = 2,\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport enum SpanKind {\n  /** Default value. Indicates that the span is used internally. */\n  INTERNAL = 0,\n\n  /**\n   * Indicates that the span covers server-side handling of an RPC or other\n   * remote request.\n   */\n  SERVER = 1,\n\n  /**\n   * Indicates that the span covers the client-side wrapper around an RPC or\n   * other remote request.\n   */\n  CLIENT = 2,\n\n  /**\n   * Indicates that the span describes producer sending a message to a\n   * broker. Unlike client and server, there is no direct critical path latency\n   * relationship between producer and consumer spans.\n   */\n  PRODUCER = 3,\n\n  /**\n   * Indicates that the span describes consumer receiving a message from a\n   * broker. Unlike client and server, there is no direct critical path latency\n   * relationship between producer and consumer spans.\n   */\n  CONSUMER = 4,\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagLogger, DiagLogFunction } from './types';\n\ntype ConsoleMapKeys = 'error' | 'warn' | 'info' | 'debug' | 'trace';\nconst consoleMap: { n: keyof DiagLogger; c: ConsoleMapKeys }[] = [\n  { n: 'error', c: 'error' },\n  { n: 'warn', c: 'warn' },\n  { n: 'info', c: 'info' },\n  { n: 'debug', c: 'debug' },\n  { n: 'verbose', c: 'trace' },\n];\n\n/**\n * A simple Immutable Console based diagnostic logger which will output any messages to the Console.\n * If you want to limit the amount of logging to a specific level or lower use the\n * {@link createLogLevelDiagLogger}\n */\nexport class DiagConsoleLogger implements DiagLogger {\n  constructor() {\n    function _consoleFunc(funcName: ConsoleMapKeys): DiagLogFunction {\n      return function (...args) {\n        if (console) {\n          // Some environments only expose the console when the F12 developer console is open\n          // eslint-disable-next-line no-console\n          let theFunc = console[funcName];\n          if (typeof theFunc !== 'function') {\n            // Not all environments support all functions\n            // eslint-disable-next-line no-console\n            theFunc = console.log;\n          }\n\n          // One last final check\n          if (typeof theFunc === 'function') {\n            return theFunc.apply(console, args);\n          }\n        }\n      };\n    }\n\n    for (let i = 0; i < consoleMap.length; i++) {\n      this[consoleMap[i].n] = _consoleFunc(consoleMap[i].c);\n    }\n  }\n\n  /** Log an error scenario that was not expected and caused the requested operation to fail. */\n  public error!: DiagLogFunction;\n\n  /**\n   * Log a warning scenario to inform the developer of an issues that should be investigated.\n   * The requested operation may or may not have succeeded or completed.\n   */\n  public warn!: DiagLogFunction;\n\n  /**\n   * Log a general informational message, this should not affect functionality.\n   * This is also the default logging level so this should NOT be used for logging\n   * debugging level information.\n   */\n  public info!: DiagLogFunction;\n\n  /**\n   * Log a general debug message that can be useful for identifying a failure.\n   * Information logged at this level may include diagnostic details that would\n   * help identify a failure scenario. Useful scenarios would be to log the execution\n   * order of async operations\n   */\n  public debug!: DiagLogFunction;\n\n  /**\n   * Log a detailed (verbose) trace level logging that can be used to identify failures\n   * where debug level logging would be insufficient, this level of tracing can include\n   * input and output parameters and as such may include PII information passing through\n   * the API. As such it is recommended that this level of tracing should not be enabled\n   * in a production environment.\n   */\n  public verbose!: DiagLogFunction;\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { VERSION } from '../version';\n\nconst re = /^(\\d+)\\.(\\d+)\\.(\\d+)(-(.+))?$/;\n\n/**\n * Create a function to test an API version to see if it is compatible with the provided ownVersion.\n *\n * The returned function has the following semantics:\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param ownVersion version which should be checked against\n */\nexport function _makeCompatibilityCheck(\n  ownVersion: string\n): (globalVersion: string) => boolean {\n  const acceptedVersions = new Set<string>([ownVersion]);\n  const rejectedVersions = new Set<string>();\n\n  const myVersionMatch = ownVersion.match(re);\n  if (!myVersionMatch) {\n    // we cannot guarantee compatibility so we always return noop\n    return () => false;\n  }\n\n  const ownVersionParsed = {\n    major: +myVersionMatch[1],\n    minor: +myVersionMatch[2],\n    patch: +myVersionMatch[3],\n    prerelease: myVersionMatch[4],\n  };\n\n  // if ownVersion has a prerelease tag, versions must match exactly\n  if (ownVersionParsed.prerelease != null) {\n    return function isExactmatch(globalVersion: string): boolean {\n      return globalVersion === ownVersion;\n    };\n  }\n\n  function _reject(v: string) {\n    rejectedVersions.add(v);\n    return false;\n  }\n\n  function _accept(v: string) {\n    acceptedVersions.add(v);\n    return true;\n  }\n\n  return function isCompatible(globalVersion: string): boolean {\n    if (acceptedVersions.has(globalVersion)) {\n      return true;\n    }\n\n    if (rejectedVersions.has(globalVersion)) {\n      return false;\n    }\n\n    const globalVersionMatch = globalVersion.match(re);\n    if (!globalVersionMatch) {\n      // cannot parse other version\n      // we cannot guarantee compatibility so we always noop\n      return _reject(globalVersion);\n    }\n\n    const globalVersionParsed = {\n      major: +globalVersionMatch[1],\n      minor: +globalVersionMatch[2],\n      patch: +globalVersionMatch[3],\n      prerelease: globalVersionMatch[4],\n    };\n\n    // if globalVersion has a prerelease tag, versions must match exactly\n    if (globalVersionParsed.prerelease != null) {\n      return _reject(globalVersion);\n    }\n\n    // major versions must match\n    if (ownVersionParsed.major !== globalVersionParsed.major) {\n      return _reject(globalVersion);\n    }\n\n    if (ownVersionParsed.major === 0) {\n      if (\n        ownVersionParsed.minor === globalVersionParsed.minor &&\n        ownVersionParsed.patch <= globalVersionParsed.patch\n      ) {\n        return _accept(globalVersion);\n      }\n\n      return _reject(globalVersion);\n    }\n\n    if (ownVersionParsed.minor <= globalVersionParsed.minor) {\n      return _accept(globalVersion);\n    }\n\n    return _reject(globalVersion);\n  };\n}\n\n/**\n * Test an API version to see if it is compatible with this API.\n *\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param version version of the API requesting an instance of the global API\n */\nexport const isCompatible = _makeCompatibilityCheck(VERSION);\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from '../context/types';\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\nimport { NoopTextMapPropagator } from '../propagation/NoopTextMapPropagator';\nimport {\n  defaultTextMapGetter,\n  defaultTextMapSetter,\n  TextMapGetter,\n  TextMapPropagator,\n  TextMapSetter,\n} from '../propagation/TextMapPropagator';\nimport {\n  getBaggage,\n  getActiveBaggage,\n  setBaggage,\n  deleteBaggage,\n} from '../baggage/context-helpers';\nimport { createBaggage } from '../baggage/utils';\nimport { DiagAPI } from './diag';\n\nconst API_NAME = 'propagation';\nconst NOOP_TEXT_MAP_PROPAGATOR = new NoopTextMapPropagator();\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Propagation API\n */\nexport class PropagationAPI {\n  private static _instance?: PropagationAPI;\n\n  /** Empty private constructor prevents end users from constructing a new instance of the API */\n  private constructor() {}\n\n  /** Get the singleton instance of the Propagator API */\n  public static getInstance(): PropagationAPI {\n    if (!this._instance) {\n      this._instance = new PropagationAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Set the current propagator.\n   *\n   * @returns true if the propagator was successfully registered, else false\n   */\n  public setGlobalPropagator(propagator: TextMapPropagator): boolean {\n    return registerGlobal(API_NAME, propagator, DiagAPI.instance());\n  }\n\n  /**\n   * Inject context into a carrier to be propagated inter-process\n   *\n   * @param context Context carrying tracing data to inject\n   * @param carrier carrier to inject context into\n   * @param setter Function used to set values on the carrier\n   */\n  public inject<Carrier>(\n    context: Context,\n    carrier: Carrier,\n    setter: TextMapSetter<Carrier> = defaultTextMapSetter\n  ): void {\n    return this._getGlobalPropagator().inject(context, carrier, setter);\n  }\n\n  /**\n   * Extract context from a carrier\n   *\n   * @param context Context which the newly created context will inherit from\n   * @param carrier Carrier to extract context from\n   * @param getter Function used to extract keys from a carrier\n   */\n  public extract<Carrier>(\n    context: Context,\n    carrier: Carrier,\n    getter: TextMapGetter<Carrier> = defaultTextMapGetter\n  ): Context {\n    return this._getGlobalPropagator().extract(context, carrier, getter);\n  }\n\n  /**\n   * Return a list of all fields which may be used by the propagator.\n   */\n  public fields(): string[] {\n    return this._getGlobalPropagator().fields();\n  }\n\n  /** Remove the global propagator */\n  public disable() {\n    unregisterGlobal(API_NAME, DiagAPI.instance());\n  }\n\n  public createBaggage = createBaggage;\n\n  public getBaggage = getBaggage;\n\n  public getActiveBaggage = getActiveBaggage;\n\n  public setBaggage = setBaggage;\n\n  public deleteBaggage = deleteBaggage;\n\n  private _getGlobalPropagator(): TextMapPropagator {\n    return getGlobal(API_NAME) || NOOP_TEXT_MAP_PROPAGATOR;\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\nimport { ProxyTracerProvider } from '../trace/ProxyTracerProvider';\nimport {\n  isSpanContextValid,\n  wrapSpanContext,\n} from '../trace/spancontext-utils';\nimport { Tracer } from '../trace/tracer';\nimport { TracerProvider } from '../trace/tracer_provider';\nimport {\n  deleteSpan,\n  getActiveSpan,\n  getSpan,\n  getSpanContext,\n  setSpan,\n  setSpanContext,\n} from '../trace/context-utils';\nimport { DiagAPI } from './diag';\n\nconst API_NAME = 'trace';\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Tracing API\n */\nexport class TraceAPI {\n  private static _instance?: TraceAPI;\n\n  private _proxyTracerProvider = new ProxyTracerProvider();\n\n  /** Empty private constructor prevents end users from constructing a new instance of the API */\n  private constructor() {}\n\n  /** Get the singleton instance of the Trace API */\n  public static getInstance(): TraceAPI {\n    if (!this._instance) {\n      this._instance = new TraceAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Set the current global tracer.\n   *\n   * @returns true if the tracer provider was successfully registered, else false\n   */\n  public setGlobalTracerProvider(provider: TracerProvider): boolean {\n    const success = registerGlobal(\n      API_NAME,\n      this._proxyTracerProvider,\n      DiagAPI.instance()\n    );\n    if (success) {\n      this._proxyTracerProvider.setDelegate(provider);\n    }\n    return success;\n  }\n\n  /**\n   * Returns the global tracer provider.\n   */\n  public getTracerProvider(): TracerProvider {\n    return getGlobal(API_NAME) || this._proxyTracerProvider;\n  }\n\n  /**\n   * Returns a tracer from the global tracer provider.\n   */\n  public getTracer(name: string, version?: string): Tracer {\n    return this.getTracerProvider().getTracer(name, version);\n  }\n\n  /** Remove the global tracer provider */\n  public disable() {\n    unregisterGlobal(API_NAME, DiagAPI.instance());\n    this._proxyTracerProvider = new ProxyTracerProvider();\n  }\n\n  public wrapSpanContext = wrapSpanContext;\n\n  public isSpanContextValid = isSpanContextValid;\n\n  public deleteSpan = deleteSpan;\n\n  public getSpan = getSpan;\n\n  public getActiveSpan = getActiveSpan;\n\n  public getSpanContext = getSpanContext;\n\n  public setSpan = setSpan;\n\n  public setSpanContext = setSpanContext;\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagAPI } from '../api/diag';\nimport { BaggageImpl } from './internal/baggage-impl';\nimport { baggageEntryMetadataSymbol } from './internal/symbol';\nimport { Baggage, BaggageEntry, BaggageEntryMetadata } from './types';\n\nconst diag = DiagAPI.instance();\n\n/**\n * Create a new Baggage with optional entries\n *\n * @param entries An array of baggage entries the new baggage should contain\n */\nexport function createBaggage(\n  entries: Record<string, BaggageEntry> = {}\n): Baggage {\n  return new BaggageImpl(new Map(Object.entries(entries)));\n}\n\n/**\n * Create a serializable BaggageEntryMetadata object from a string.\n *\n * @param str string metadata. Format is currently not defined by the spec and has no special meaning.\n *\n */\nexport function baggageEntryMetadataFromString(\n  str: string\n): BaggageEntryMetadata {\n  if (typeof str !== 'string') {\n    diag.error(\n      `Cannot create baggage metadata from unknown type: ${typeof str}`\n    );\n    str = '';\n  }\n\n  return {\n    __TYPE__: baggageEntryMetadataSymbol,\n    toString() {\n      return str;\n    },\n  };\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from '../context/types';\nimport { NoopTracer } from './NoopTracer';\nimport { Span } from './span';\nimport { SpanOptions } from './SpanOptions';\nimport { Tracer } from './tracer';\nimport { TracerOptions } from './tracer_options';\n\nconst NOOP_TRACER = new NoopTracer();\n\n/**\n * Proxy tracer provided by the proxy tracer provider\n */\nexport class ProxyTracer implements Tracer {\n  // When a real implementation is provided, this will be it\n  private _delegate?: Tracer;\n\n  constructor(\n    private _provider: TracerDelegator,\n    public readonly name: string,\n    public readonly version?: string,\n    public readonly options?: TracerOptions\n  ) {}\n\n  startSpan(name: string, options?: SpanOptions, context?: Context): Span {\n    return this._getTracer().startSpan(name, options, context);\n  }\n\n  startActiveSpan<F extends (span: Span) => unknown>(\n    _name: string,\n    _options: F | SpanOptions,\n    _context?: F | Context,\n    _fn?: F\n  ): ReturnType<F> {\n    const tracer = this._getTracer();\n    return Reflect.apply(tracer.startActiveSpan, tracer, arguments);\n  }\n\n  /**\n   * Try to get a tracer from the proxy tracer provider.\n   * If the proxy tracer provider has no delegate, return a noop tracer.\n   */\n  private _getTracer() {\n    if (this._delegate) {\n      return this._delegate;\n    }\n\n    const tracer = this._provider.getDelegateTracer(\n      this.name,\n      this.version,\n      this.options\n    );\n\n    if (!tracer) {\n      return NOOP_TRACER;\n    }\n\n    this._delegate = tracer;\n    return this._delegate;\n  }\n}\n\nexport interface TracerDelegator {\n  getDelegateTracer(\n    name: string,\n    version?: string,\n    options?: TracerOptions\n  ): Tracer | undefined;\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SpanContext } from './span_context';\nimport { TraceFlags } from './trace_flags';\n\nexport const INVALID_SPANID = '0000000000000000';\nexport const INVALID_TRACEID = '00000000000000000000000000000000';\nexport const INVALID_SPAN_CONTEXT: SpanContext = {\n  traceId: INVALID_TRACEID,\n  spanId: INVALID_SPANID,\n  traceFlags: TraceFlags.NONE,\n};\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NoopTracer } from './NoopTracer';\nimport { Tracer } from './tracer';\nimport { TracerOptions } from './tracer_options';\nimport { TracerProvider } from './tracer_provider';\n\n/**\n * An implementation of the {@link TracerProvider} which returns an impotent\n * Tracer for all calls to `getTracer`.\n *\n * All operations are no-op.\n */\nexport class NoopTracerProvider implements TracerProvider {\n  getTracer(\n    _name?: string,\n    _version?: string,\n    _options?: TracerOptions\n  ): Tracer {\n    return new NoopTracer();\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContextAPI } from '../api/context';\nimport { createContextKey } from '../context/context';\nimport { Context } from '../context/types';\nimport { Baggage } from './types';\n\n/**\n * Baggage key\n */\nconst BAGGAGE_KEY = createContextKey('OpenTelemetry Baggage Key');\n\n/**\n * Retrieve the current baggage from the given context\n *\n * @param {Context} Context that manage all context values\n * @returns {Baggage} Extracted baggage from the context\n */\nexport function getBaggage(context: Context): Baggage | undefined {\n  return (context.getValue(BAGGAGE_KEY) as Baggage) || undefined;\n}\n\n/**\n * Retrieve the current baggage from the active/current context\n *\n * @returns {Baggage} Extracted baggage from the context\n */\nexport function getActiveBaggage(): Baggage | undefined {\n  return getBaggage(ContextAPI.getInstance().active());\n}\n\n/**\n * Store a baggage in the given context\n *\n * @param {Context} Context that manage all context values\n * @param {Baggage} baggage that will be set in the actual context\n */\nexport function setBaggage(context: Context, baggage: Baggage): Context {\n  return context.setValue(BAGGAGE_KEY, baggage);\n}\n\n/**\n * Delete the baggage stored in the given context\n *\n * @param {Context} Context that manage all context values\n */\nexport function deleteBaggage(context: Context): Context {\n  return context.deleteValue(BAGGAGE_KEY);\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Meter, MeterOptions } from './Meter';\nimport { MeterProvider } from './MeterProvider';\nimport { NOOP_METER } from './NoopMeter';\n\n/**\n * An implementation of the {@link MeterProvider} which returns an impotent Meter\n * for all calls to `getMeter`\n */\nexport class NoopMeterProvider implements MeterProvider {\n  getMeter(_name: string, _version?: string, _options?: MeterOptions): Meter {\n    return NOOP_METER;\n  }\n}\n\nexport const NOOP_METER_PROVIDER = new NoopMeterProvider();\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContextAPI } from '../api/context';\nimport { Context } from '../context/types';\nimport { getSpanContext, setSpan } from '../trace/context-utils';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { Span } from './span';\nimport { isSpanContextValid } from './spancontext-utils';\nimport { SpanOptions } from './SpanOptions';\nimport { SpanContext } from './span_context';\nimport { Tracer } from './tracer';\n\nconst contextApi = ContextAPI.getInstance();\n\n/**\n * No-op implementations of {@link Tracer}.\n */\nexport class NoopTracer implements Tracer {\n  // startSpan starts a noop span.\n  startSpan(\n    name: string,\n    options?: SpanOptions,\n    context = contextApi.active()\n  ): Span {\n    const root = Boolean(options?.root);\n    if (root) {\n      return new NonRecordingSpan();\n    }\n\n    const parentFromContext = context && getSpanContext(context);\n\n    if (\n      isSpanContext(parentFromContext) &&\n      isSpanContextValid(parentFromContext)\n    ) {\n      return new NonRecordingSpan(parentFromContext);\n    } else {\n      return new NonRecordingSpan();\n    }\n  }\n\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    opts: SpanOptions | undefined,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    opts: SpanOptions | undefined,\n    ctx: Context | undefined,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    arg2?: F | SpanOptions,\n    arg3?: F | Context,\n    arg4?: F\n  ): ReturnType<F> | undefined {\n    let opts: SpanOptions | undefined;\n    let ctx: Context | undefined;\n    let fn: F;\n\n    if (arguments.length < 2) {\n      return;\n    } else if (arguments.length === 2) {\n      fn = arg2 as F;\n    } else if (arguments.length === 3) {\n      opts = arg2 as SpanOptions | undefined;\n      fn = arg3 as F;\n    } else {\n      opts = arg2 as SpanOptions | undefined;\n      ctx = arg3 as Context | undefined;\n      fn = arg4 as F;\n    }\n\n    const parentContext = ctx ?? contextApi.active();\n    const span = this.startSpan(name, opts, parentContext);\n    const contextWithSpanSet = setSpan(parentContext, span);\n\n    return contextApi.with(contextWithSpanSet, fn, undefined, span);\n  }\n}\n\nfunction isSpanContext(spanContext: any): spanContext is SpanContext {\n  return (\n    typeof spanContext === 'object' &&\n    typeof spanContext['spanId'] === 'string' &&\n    typeof spanContext['traceId'] === 'string' &&\n    typeof spanContext['traceFlags'] === 'number'\n  );\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Tracer } from './tracer';\nimport { TracerProvider } from './tracer_provider';\nimport { ProxyTracer } from './ProxyTracer';\nimport { NoopTracerProvider } from './NoopTracerProvider';\nimport { TracerOptions } from './tracer_options';\n\nconst NOOP_TRACER_PROVIDER = new NoopTracerProvider();\n\n/**\n * Tracer provider which provides {@link ProxyTracer}s.\n *\n * Before a delegate is set, tracers provided are NoOp.\n *   When a delegate is set, traces are provided from the delegate.\n *   When a delegate is set after tracers have already been provided,\n *   all tracers already provided will use the provided delegate implementation.\n */\nexport class ProxyTracerProvider implements TracerProvider {\n  private _delegate?: TracerProvider;\n\n  /**\n   * Get a {@link ProxyTracer}\n   */\n  getTracer(name: string, version?: string, options?: TracerOptions): Tracer {\n    return (\n      this.getDelegateTracer(name, version, options) ??\n      new ProxyTracer(this, name, version, options)\n    );\n  }\n\n  getDelegate(): TracerProvider {\n    return this._delegate ?? NOOP_TRACER_PROVIDER;\n  }\n\n  /**\n   * Set the delegate tracer provider\n   */\n  setDelegate(delegate: TracerProvider) {\n    this._delegate = delegate;\n  }\n\n  getDelegateTracer(\n    name: string,\n    version?: string,\n    options?: TracerOptions\n  ): Tracer | undefined {\n    return this._delegate?.getTracer(name, version, options);\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MeterProvider } from '../metrics/MeterProvider';\nimport { ContextManager } from '../context/types';\nimport { DiagLogger } from '../diag/types';\nimport { _globalThis } from '../platform';\nimport { TextMapPropagator } from '../propagation/TextMapPropagator';\nimport type { TracerProvider } from '../trace/tracer_provider';\nimport { VERSION } from '../version';\nimport { isCompatible } from './semver';\n\nconst major = VERSION.split('.')[0];\nconst GLOBAL_OPENTELEMETRY_API_KEY = Symbol.for(\n  `opentelemetry.js.api.${major}`\n);\n\nconst _global = _globalThis as OTelGlobal;\n\nexport function registerGlobal<Type extends keyof OTelGlobalAPI>(\n  type: Type,\n  instance: OTelGlobalAPI[Type],\n  diag: DiagLogger,\n  allowOverride = false\n): boolean {\n  const api = (_global[GLOBAL_OPENTELEMETRY_API_KEY] = _global[\n    GLOBAL_OPENTELEMETRY_API_KEY\n  ] ?? {\n    version: VERSION,\n  });\n\n  if (!allowOverride && api[type]) {\n    // already registered an API of this type\n    const err = new Error(\n      `@opentelemetry/api: Attempted duplicate registration of API: ${type}`\n    );\n    diag.error(err.stack || err.message);\n    return false;\n  }\n\n  if (api.version !== VERSION) {\n    // All registered APIs must be of the same version exactly\n    const err = new Error(\n      `@opentelemetry/api: Registration of version v${api.version} for ${type} does not match previously registered API v${VERSION}`\n    );\n    diag.error(err.stack || err.message);\n    return false;\n  }\n\n  api[type] = instance;\n  diag.debug(\n    `@opentelemetry/api: Registered a global for ${type} v${VERSION}.`\n  );\n\n  return true;\n}\n\nexport function getGlobal<Type extends keyof OTelGlobalAPI>(\n  type: Type\n): OTelGlobalAPI[Type] | undefined {\n  const globalVersion = _global[GLOBAL_OPENTELEMETRY_API_KEY]?.version;\n  if (!globalVersion || !isCompatible(globalVersion)) {\n    return;\n  }\n  return _global[GLOBAL_OPENTELEMETRY_API_KEY]?.[type];\n}\n\nexport function unregisterGlobal(type: keyof OTelGlobalAPI, diag: DiagLogger) {\n  diag.debug(\n    `@opentelemetry/api: Unregistering a global for ${type} v${VERSION}.`\n  );\n  const api = _global[GLOBAL_OPENTELEMETRY_API_KEY];\n\n  if (api) {\n    delete api[type];\n  }\n}\n\ntype OTelGlobal = {\n  [GLOBAL_OPENTELEMETRY_API_KEY]?: OTelGlobalAPI;\n};\n\ntype OTelGlobalAPI = {\n  version: string;\n\n  diag?: DiagLogger;\n  trace?: TracerProvider;\n  context?: ContextManager;\n  metrics?: MeterProvider;\n  propagation?: TextMapPropagator;\n};\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { TraceState } from '../trace_state';\nimport { validateKey, validateValue } from './tracestate-validators';\n\nconst MAX_TRACE_STATE_ITEMS = 32;\nconst MAX_TRACE_STATE_LEN = 512;\nconst LIST_MEMBERS_SEPARATOR = ',';\nconst LIST_MEMBER_KEY_VALUE_SPLITTER = '=';\n\n/**\n * TraceState must be a class and not a simple object type because of the spec\n * requirement (https://www.w3.org/TR/trace-context/#tracestate-field).\n *\n * Here is the list of allowed mutations:\n * - New key-value pair should be added into the beginning of the list\n * - The value of any key can be updated. Modified keys MUST be moved to the\n * beginning of the list.\n */\nexport class TraceStateImpl implements TraceState {\n  private _internalState: Map<string, string> = new Map();\n\n  constructor(rawTraceState?: string) {\n    if (rawTraceState) this._parse(rawTraceState);\n  }\n\n  set(key: string, value: string): TraceStateImpl {\n    // TODO: Benchmark the different approaches(map vs list) and\n    // use the faster one.\n    const traceState = this._clone();\n    if (traceState._internalState.has(key)) {\n      traceState._internalState.delete(key);\n    }\n    traceState._internalState.set(key, value);\n    return traceState;\n  }\n\n  unset(key: string): TraceStateImpl {\n    const traceState = this._clone();\n    traceState._internalState.delete(key);\n    return traceState;\n  }\n\n  get(key: string): string | undefined {\n    return this._internalState.get(key);\n  }\n\n  serialize(): string {\n    return this._keys()\n      .reduce((agg: string[], key) => {\n        agg.push(key + LIST_MEMBER_KEY_VALUE_SPLITTER + this.get(key));\n        return agg;\n      }, [])\n      .join(LIST_MEMBERS_SEPARATOR);\n  }\n\n  private _parse(rawTraceState: string) {\n    if (rawTraceState.length > MAX_TRACE_STATE_LEN) return;\n    this._internalState = rawTraceState\n      .split(LIST_MEMBERS_SEPARATOR)\n      .reverse() // Store in reverse so new keys (.set(...)) will be placed at the beginning\n      .reduce((agg: Map<string, string>, part: string) => {\n        const listMember = part.trim(); // Optional Whitespace (OWS) handling\n        const i = listMember.indexOf(LIST_MEMBER_KEY_VALUE_SPLITTER);\n        if (i !== -1) {\n          const key = listMember.slice(0, i);\n          const value = listMember.slice(i + 1, part.length);\n          if (validateKey(key) && validateValue(value)) {\n            agg.set(key, value);\n          } else {\n            // TODO: Consider to add warning log\n          }\n        }\n        return agg;\n      }, new Map());\n\n    // Because of the reverse() requirement, trunc must be done after map is created\n    if (this._internalState.size > MAX_TRACE_STATE_ITEMS) {\n      this._internalState = new Map(\n        Array.from(this._internalState.entries())\n          .reverse() // Use reverse same as original tracestate parse chain\n          .slice(0, MAX_TRACE_STATE_ITEMS)\n      );\n    }\n  }\n\n  private _keys(): string[] {\n    return Array.from(this._internalState.keys()).reverse();\n  }\n\n  private _clone(): TraceStateImpl {\n    const traceState = new TraceStateImpl();\n    traceState._internalState = new Map(this._internalState);\n    return traceState;\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagLogFunction, DiagLogger, DiagLogLevel } from '../types';\n\nexport function createLogLevelDiagLogger(\n  maxLevel: DiagLogLevel,\n  logger: DiagLogger\n): DiagLogger {\n  if (maxLevel < DiagLogLevel.NONE) {\n    maxLevel = DiagLogLevel.NONE;\n  } else if (maxLevel > DiagLogLevel.ALL) {\n    maxLevel = DiagLogLevel.ALL;\n  }\n\n  // In case the logger is null or undefined\n  logger = logger || {};\n\n  function _filterFunc(\n    funcName: keyof DiagLogger,\n    theLevel: DiagLogLevel\n  ): DiagLogFunction {\n    const theFunc = logger[funcName];\n\n    if (typeof theFunc === 'function' && maxLevel >= theLevel) {\n      return theFunc.bind(logger);\n    }\n    return function () {};\n  }\n\n  return {\n    error: _filterFunc('error', DiagLogLevel.ERROR),\n    warn: _filterFunc('warn', DiagLogLevel.WARN),\n    info: _filterFunc('info', DiagLogLevel.INFO),\n    debug: _filterFunc('debug', DiagLogLevel.DEBUG),\n    verbose: _filterFunc('verbose', DiagLogLevel.VERBOSE),\n  };\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport enum TraceFlags {\n  /** Represents no flag set. */\n  NONE = 0x0,\n  /** Bit to represent whether trace is sampled in trace flags. */\n  SAMPLED = 0x1 << 0,\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Meter, MeterOptions } from '../metrics/Meter';\nimport { MeterProvider } from '../metrics/MeterProvider';\nimport { NOOP_METER_PROVIDER } from '../metrics/NoopMeterProvider';\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\nimport { DiagAPI } from './diag';\n\nconst API_NAME = 'metrics';\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Metrics API\n */\nexport class MetricsAPI {\n  private static _instance?: MetricsAPI;\n\n  /** Empty private constructor prevents end users from constructing a new instance of the API */\n  private constructor() {}\n\n  /** Get the singleton instance of the Metrics API */\n  public static getInstance(): MetricsAPI {\n    if (!this._instance) {\n      this._instance = new MetricsAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Set the current global meter provider.\n   * Returns true if the meter provider was successfully registered, else false.\n   */\n  public setGlobalMeterProvider(provider: MeterProvider): boolean {\n    return registerGlobal(API_NAME, provider, DiagAPI.instance());\n  }\n\n  /**\n   * Returns the global meter provider.\n   */\n  public getMeterProvider(): MeterProvider {\n    return getGlobal(API_NAME) || NOOP_METER_PROVIDER;\n  }\n\n  /**\n   * Returns a meter from the global meter provider.\n   */\n  public getMeter(\n    name: string,\n    version?: string,\n    options?: MeterOptions\n  ): Meter {\n    return this.getMeterProvider().getMeter(name, version, options);\n  }\n\n  /** Remove the global meter provider */\n  public disable(): void {\n    unregisterGlobal(API_NAME, DiagAPI.instance());\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { TraceState } from '../trace_state';\nimport { TraceStateImpl } from './tracestate-impl';\n\nexport function createTraceState(rawTraceState?: string): TraceState {\n  return new TraceStateImpl(rawTraceState);\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** only globals that common to node and browsers are allowed */\n// eslint-disable-next-line node/no-unsupported-features/es-builtins\nexport const _globalThis = typeof globalThis === 'object' ? globalThis : global;\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst VALID_KEY_CHAR_RANGE = '[_0-9a-z-*/]';\nconst VALID_KEY = `[a-z]${VALID_KEY_CHAR_RANGE}{0,255}`;\nconst VALID_VENDOR_KEY = `[a-z0-9]${VALID_KEY_CHAR_RANGE}{0,240}@[a-z]${VALID_KEY_CHAR_RANGE}{0,13}`;\nconst VALID_KEY_REGEX = new RegExp(`^(?:${VALID_KEY}|${VALID_VENDOR_KEY})$`);\nconst VALID_VALUE_BASE_REGEX = /^[ -~]{0,255}[!-~]$/;\nconst INVALID_VALUE_COMMA_EQUAL_REGEX = /,|=/;\n\n/**\n * Key is opaque string up to 256 characters printable. It MUST begin with a\n * lowercase letter, and can only contain lowercase letters a-z, digits 0-9,\n * underscores _, dashes -, asterisks *, and forward slashes /.\n * For multi-tenant vendor scenarios, an at sign (@) can be used to prefix the\n * vendor name. Vendors SHOULD set the tenant ID at the beginning of the key.\n * see https://www.w3.org/TR/trace-context/#key\n */\nexport function validateKey(key: string): boolean {\n  return VALID_KEY_REGEX.test(key);\n}\n\n/**\n * Value is opaque string up to 256 characters printable ASCII RFC0020\n * characters (i.e., the range 0x20 to 0x7E) except comma , and =.\n */\nexport function validateValue(value: string): boolean {\n  return (\n    VALID_VALUE_BASE_REGEX.test(value) &&\n    !INVALID_VALUE_COMMA_EQUAL_REGEX.test(value)\n  );\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from './types';\n\n/** Get a key to uniquely identify a context value */\nexport function createContextKey(description: string) {\n  // The specification states that for the same input, multiple calls should\n  // return different keys. Due to the nature of the JS dependency management\n  // system, this creates problems where multiple versions of some package\n  // could hold different keys for the same property.\n  //\n  // Therefore, we use Symbol.for which returns the same key for the same input.\n  return Symbol.for(description);\n}\n\nclass BaseContext implements Context {\n  private _currentContext!: Map<symbol, unknown>;\n\n  /**\n   * Construct a new context which inherits values from an optional parent context.\n   *\n   * @param parentContext a context from which to inherit values\n   */\n  constructor(parentContext?: Map<symbol, unknown>) {\n    // for minification\n    const self = this;\n\n    self._currentContext = parentContext ? new Map(parentContext) : new Map();\n\n    self.getValue = (key: symbol) => self._currentContext.get(key);\n\n    self.setValue = (key: symbol, value: unknown): Context => {\n      const context = new BaseContext(self._currentContext);\n      context._currentContext.set(key, value);\n      return context;\n    };\n\n    self.deleteValue = (key: symbol): Context => {\n      const context = new BaseContext(self._currentContext);\n      context._currentContext.delete(key);\n      return context;\n    };\n  }\n\n  /**\n   * Get a value from the context.\n   *\n   * @param key key which identifies a context value\n   */\n  public getValue!: (key: symbol) => unknown;\n\n  /**\n   * Create a new context which inherits from this context and has\n   * the given key set to the given value.\n   *\n   * @param key context key for which to set the value\n   * @param value value to set for the given key\n   */\n  public setValue!: (key: symbol, value: unknown) => Context;\n\n  /**\n   * Return a new context which inherits from this context but does\n   * not contain a value for the given key.\n   *\n   * @param key context key for which to clear a value\n   */\n  public deleteValue!: (key: symbol) => Context;\n}\n\n/** The root context is used as the default parent context when there is no active context */\nexport const ROOT_CONTEXT: Context = new BaseContext();\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { PropagationAPI } from './api/propagation';\n/** Entrypoint for propagation API */\nexport const propagation = PropagationAPI.getInstance();\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Attributes, AttributeValue } from '../common/Attributes';\nimport { Context } from '../context/types';\nimport { BatchObservableResult, ObservableResult } from './ObservableResult';\n\n/**\n * Advisory options influencing aggregation configuration parameters.\n * @experimental\n */\nexport interface MetricAdvice {\n  /**\n   * Hint the explicit bucket boundaries for SDK if the metric is been\n   * aggregated with a HistogramAggregator.\n   */\n  explicitBucketBoundaries?: number[];\n}\n\n/**\n * Options needed for metric creation\n */\nexport interface MetricOptions {\n  /**\n   * The description of the Metric.\n   * @default ''\n   */\n  description?: string;\n\n  /**\n   * The unit of the Metric values.\n   * @default ''\n   */\n  unit?: string;\n\n  /**\n   * Indicates the type of the recorded value.\n   * @default {@link ValueType.DOUBLE}\n   */\n  valueType?: ValueType;\n\n  /**\n   * The advice influencing aggregation configuration parameters.\n   * @experimental\n   */\n  advice?: MetricAdvice;\n}\n\n/** The Type of value. It describes how the data is reported. */\nexport enum ValueType {\n  INT,\n  DOUBLE,\n}\n\n/**\n * Counter is the most common synchronous instrument. This instrument supports\n * an `Add(increment)` function for reporting a sum, and is restricted to\n * non-negative increments. The default aggregation is Sum, as for any additive\n * instrument.\n *\n * Example uses for Counter:\n * <ol>\n *   <li> count the number of bytes received. </li>\n *   <li> count the number of requests completed. </li>\n *   <li> count the number of accounts created. </li>\n *   <li> count the number of checkpoints run. </li>\n *   <li> count the number of 5xx errors. </li>\n * <ol>\n */\nexport interface Counter<\n  AttributesTypes extends MetricAttributes = MetricAttributes,\n> {\n  /**\n   * Increment value of counter by the input. Inputs must not be negative.\n   */\n  add(value: number, attributes?: AttributesTypes, context?: Context): void;\n}\n\nexport interface UpDownCounter<\n  AttributesTypes extends MetricAttributes = MetricAttributes,\n> {\n  /**\n   * Increment value of counter by the input. Inputs may be negative.\n   */\n  add(value: number, attributes?: AttributesTypes, context?: Context): void;\n}\n\nexport interface Gauge<\n  AttributesTypes extends MetricAttributes = MetricAttributes,\n> {\n  /**\n   * Records a measurement.\n   */\n  record(value: number, attributes?: AttributesTypes, context?: Context): void;\n}\n\nexport interface Histogram<\n  AttributesTypes extends MetricAttributes = MetricAttributes,\n> {\n  /**\n   * Records a measurement. Value of the measurement must not be negative.\n   */\n  record(value: number, attributes?: AttributesTypes, context?: Context): void;\n}\n\n/**\n * @deprecated please use {@link Attributes}\n */\nexport type MetricAttributes = Attributes;\n\n/**\n * @deprecated please use {@link AttributeValue}\n */\nexport type MetricAttributeValue = AttributeValue;\n\n/**\n * The observable callback for Observable instruments.\n */\nexport type ObservableCallback<\n  AttributesTypes extends MetricAttributes = MetricAttributes,\n> = (\n  observableResult: ObservableResult<AttributesTypes>\n) => void | Promise<void>;\n\n/**\n * The observable callback for a batch of Observable instruments.\n */\nexport type BatchObservableCallback<\n  AttributesTypes extends MetricAttributes = MetricAttributes,\n> = (\n  observableResult: BatchObservableResult<AttributesTypes>\n) => void | Promise<void>;\n\nexport interface Observable<\n  AttributesTypes extends MetricAttributes = MetricAttributes,\n> {\n  /**\n   * Sets up a function that will be called whenever a metric collection is initiated.\n   *\n   * If the function is already in the list of callbacks for this Observable, the function is not added a second time.\n   */\n  addCallback(callback: ObservableCallback<AttributesTypes>): void;\n\n  /**\n   * Removes a callback previously registered with {@link Observable.addCallback}.\n   */\n  removeCallback(callback: ObservableCallback<AttributesTypes>): void;\n}\n\nexport type ObservableCounter<\n  AttributesTypes extends MetricAttributes = MetricAttributes,\n> = Observable<AttributesTypes>;\nexport type ObservableUpDownCounter<\n  AttributesTypes extends MetricAttributes = MetricAttributes,\n> = Observable<AttributesTypes>;\nexport type ObservableGauge<\n  AttributesTypes extends MetricAttributes = MetricAttributes,\n> = Observable<AttributesTypes>;\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type DiagLogFunction = (message: string, ...args: unknown[]) => void;\n\n/**\n * Defines an internal diagnostic logger interface which is used to log internal diagnostic\n * messages, you can set the default diagnostic logger via the {@link DiagAPI} setLogger function.\n * API provided implementations include :-\n * - a No-Op {@link createNoopDiagLogger}\n * - a {@link DiagLogLevel} filtering wrapper {@link createLogLevelDiagLogger}\n * - a general Console {@link DiagConsoleLogger} version.\n */\nexport interface DiagLogger {\n  /** Log an error scenario that was not expected and caused the requested operation to fail. */\n  error: DiagLogFunction;\n\n  /**\n   * Log a warning scenario to inform the developer of an issues that should be investigated.\n   * The requested operation may or may not have succeeded or completed.\n   */\n  warn: DiagLogFunction;\n\n  /**\n   * Log a general informational message, this should not affect functionality.\n   * This is also the default logging level so this should NOT be used for logging\n   * debugging level information.\n   */\n  info: DiagLogFunction;\n\n  /**\n   * Log a general debug message that can be useful for identifying a failure.\n   * Information logged at this level may include diagnostic details that would\n   * help identify a failure scenario.\n   * For example: Logging the order of execution of async operations.\n   */\n  debug: DiagLogFunction;\n\n  /**\n   * Log a detailed (verbose) trace level logging that can be used to identify failures\n   * where debug level logging would be insufficient, this level of tracing can include\n   * input and output parameters and as such may include PII information passing through\n   * the API. As such it is recommended that this level of tracing should not be enabled\n   * in a production environment.\n   */\n  verbose: DiagLogFunction;\n}\n\n/**\n * Defines the available internal logging levels for the diagnostic logger, the numeric values\n * of the levels are defined to match the original values from the initial LogLevel to avoid\n * compatibility/migration issues for any implementation that assume the numeric ordering.\n */\nexport enum DiagLogLevel {\n  /** Diagnostic Logging level setting to disable all logging (except and forced logs) */\n  NONE = 0,\n\n  /** Identifies an error scenario */\n  ERROR = 30,\n\n  /** Identifies a warning scenario */\n  WARN = 50,\n\n  /** General informational log message */\n  INFO = 60,\n\n  /** General debug log message */\n  DEBUG = 70,\n\n  /**\n   * Detailed trace level logging should only be used for development, should only be set\n   * in a development environment.\n   */\n  VERBOSE = 80,\n\n  /** Used to set the logging level to include all logging */\n  ALL = 9999,\n}\n\n/**\n * Defines options for ComponentLogger\n */\nexport interface ComponentLoggerOptions {\n  namespace: string;\n}\n\nexport interface DiagLoggerOptions {\n  /**\n   * The {@link DiagLogLevel} used to filter logs sent to the logger.\n   *\n   * @defaultValue DiagLogLevel.INFO\n   */\n  logLevel?: DiagLogLevel;\n\n  /**\n   * Setting this value to `true` will suppress the warning message normally emitted when registering a logger when another logger is already registered.\n   */\n  suppressOverrideMessage?: boolean;\n}\n\nexport interface DiagLoggerApi {\n  /**\n   * Set the global DiagLogger and DiagLogLevel.\n   * If a global diag logger is already set, this will override it.\n   *\n   * @param logger - The {@link DiagLogger} instance to set as the default logger.\n   * @param options - A {@link DiagLoggerOptions} object. If not provided, default values will be set.\n   * @returns `true` if the logger was successfully registered, else `false`\n   */\n  setLogger(logger: DiagLogger, options?: DiagLoggerOptions): boolean;\n\n  /**\n   *\n   * @param logger - The {@link DiagLogger} instance to set as the default logger.\n   * @param logLevel - The {@link DiagLogLevel} used to filter logs sent to the logger. If not provided it will default to {@link DiagLogLevel.INFO}.\n   * @returns `true` if the logger was successfully registered, else `false`\n   */\n  setLogger(logger: DiagLogger, logLevel?: DiagLogLevel): boolean;\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { BaggageEntry, BaggageEntryMetadata, Baggage } from './baggage/types';\nexport { baggageEntryMetadataFromString } from './baggage/utils';\nexport { Exception } from './common/Exception';\nexport { HrTime, TimeInput } from './common/Time';\nexport { Attributes, AttributeValue } from './common/Attributes';\n\n// Context APIs\nexport { createContextKey, ROOT_CONTEXT } from './context/context';\nexport { Context, ContextManager } from './context/types';\nexport type { ContextAPI } from './api/context';\n\n// Diag APIs\nexport { DiagConsoleLogger } from './diag/consoleLogger';\nexport {\n  DiagLogFunction,\n  DiagLogger,\n  DiagLogLevel,\n  ComponentLoggerOptions,\n  DiagLoggerOptions,\n} from './diag/types';\nexport type { DiagAPI } from './api/diag';\n\n// Metrics APIs\nexport { createNoopMeter } from './metrics/NoopMeter';\nexport { MeterOptions, Meter } from './metrics/Meter';\nexport { MeterProvider } from './metrics/MeterProvider';\nexport {\n  ValueType,\n  Counter,\n  Gauge,\n  Histogram,\n  MetricOptions,\n  Observable,\n  ObservableCounter,\n  ObservableGauge,\n  ObservableUpDownCounter,\n  UpDownCounter,\n  BatchObservableCallback,\n  MetricAdvice,\n  MetricAttributes,\n  MetricAttributeValue,\n  ObservableCallback,\n} from './metrics/Metric';\nexport {\n  BatchObservableResult,\n  ObservableResult,\n} from './metrics/ObservableResult';\nexport type { MetricsAPI } from './api/metrics';\n\n// Propagation APIs\nexport {\n  TextMapPropagator,\n  TextMapSetter,\n  TextMapGetter,\n  defaultTextMapGetter,\n  defaultTextMapSetter,\n} from './propagation/TextMapPropagator';\nexport type { PropagationAPI } from './api/propagation';\n\n// Trace APIs\nexport { SpanAttributes, SpanAttributeValue } from './trace/attributes';\nexport { Link } from './trace/link';\nexport { ProxyTracer, TracerDelegator } from './trace/ProxyTracer';\nexport { ProxyTracerProvider } from './trace/ProxyTracerProvider';\nexport { Sampler } from './trace/Sampler';\nexport { SamplingDecision, SamplingResult } from './trace/SamplingResult';\nexport { SpanContext } from './trace/span_context';\nexport { SpanKind } from './trace/span_kind';\nexport { Span } from './trace/span';\nexport { SpanOptions } from './trace/SpanOptions';\nexport { SpanStatus, SpanStatusCode } from './trace/status';\nexport { TraceFlags } from './trace/trace_flags';\nexport { TraceState } from './trace/trace_state';\nexport { createTraceState } from './trace/internal/utils';\nexport { TracerProvider } from './trace/tracer_provider';\nexport { Tracer } from './trace/tracer';\nexport { TracerOptions } from './trace/tracer_options';\nexport {\n  isSpanContextValid,\n  isValidTraceId,\n  isValidSpanId,\n} from './trace/spancontext-utils';\nexport {\n  INVALID_SPANID,\n  INVALID_TRACEID,\n  INVALID_SPAN_CONTEXT,\n} from './trace/invalid-span-constants';\nexport type { TraceAPI } from './api/trace';\n\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { context } from './context-api';\nimport { diag } from './diag-api';\nimport { metrics } from './metrics-api';\nimport { propagation } from './propagation-api';\nimport { trace } from './trace-api';\n\n// Named export.\nexport { context, diag, metrics, propagation, trace };\n// Default export.\nexport default {\n  context,\n  diag,\n  metrics,\n  propagation,\n  trace,\n};\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { INVALID_SPANID, INVALID_TRACEID } from './invalid-span-constants';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { Span } from './span';\nimport { SpanContext } from './span_context';\n\nconst VALID_TRACEID_REGEX = /^([0-9a-f]{32})$/i;\nconst VALID_SPANID_REGEX = /^[0-9a-f]{16}$/i;\n\nexport function isValidTraceId(traceId: string): boolean {\n  return VALID_TRACEID_REGEX.test(traceId) && traceId !== INVALID_TRACEID;\n}\n\nexport function isValidSpanId(spanId: string): boolean {\n  return VALID_SPANID_REGEX.test(spanId) && spanId !== INVALID_SPANID;\n}\n\n/**\n * Returns true if this {@link SpanContext} is valid.\n * @return true if this {@link SpanContext} is valid.\n */\nexport function isSpanContextValid(spanContext: SpanContext): boolean {\n  return (\n    isValidTraceId(spanContext.traceId) && isValidSpanId(spanContext.spanId)\n  );\n}\n\n/**\n * Wrap the given {@link SpanContext} in a new non-recording {@link Span}\n *\n * @param spanContext span context to be wrapped\n * @returns a new non-recording {@link Span} with the provided context\n */\nexport function wrapSpanContext(spanContext: SpanContext): Span {\n  return new NonRecordingSpan(spanContext);\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createContextKey } from '../context/context';\nimport { Context } from '../context/types';\nimport { Span } from './span';\nimport { SpanContext } from './span_context';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { ContextAPI } from '../api/context';\n\n/**\n * span key\n */\nconst SPAN_KEY = createContextKey('OpenTelemetry Context Key SPAN');\n\n/**\n * Return the span if one exists\n *\n * @param context context to get span from\n */\nexport function getSpan(context: Context): Span | undefined {\n  return (context.getValue(SPAN_KEY) as Span) || undefined;\n}\n\n/**\n * Gets the span from the current context, if one exists.\n */\nexport function getActiveSpan(): Span | undefined {\n  return getSpan(ContextAPI.getInstance().active());\n}\n\n/**\n * Set the span on a context\n *\n * @param context context to use as parent\n * @param span span to set active\n */\nexport function setSpan(context: Context, span: Span): Context {\n  return context.setValue(SPAN_KEY, span);\n}\n\n/**\n * Remove current span stored in the context\n *\n * @param context context to delete span from\n */\nexport function deleteSpan(context: Context): Context {\n  return context.deleteValue(SPAN_KEY);\n}\n\n/**\n * Wrap span context in a NoopSpan and set as span in a new\n * context\n *\n * @param context context to set active span on\n * @param spanContext span context to be wrapped\n */\nexport function setSpanContext(\n  context: Context,\n  spanContext: SpanContext\n): Context {\n  return setSpan(context, new NonRecordingSpan(spanContext));\n}\n\n/**\n * Get the span context of the span if it exists.\n *\n * @param context context to get values from\n */\nexport function getSpanContext(context: Context): SpanContext | undefined {\n  return getSpan(context)?.spanContext();\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from '../context/types';\n\n/**\n * Injects `Context` into and extracts it from carriers that travel\n * in-band across process boundaries. Encoding is expected to conform to the\n * HTTP Header Field semantics. Values are often encoded as RPC/HTTP request\n * headers.\n *\n * The carrier of propagated data on both the client (injector) and server\n * (extractor) side is usually an object such as http headers. Propagation is\n * usually implemented via library-specific request interceptors, where the\n * client-side injects values and the server-side extracts them.\n */\nexport interface TextMapPropagator<Carrier = any> {\n  /**\n   * Injects values from a given `Context` into a carrier.\n   *\n   * OpenTelemetry defines a common set of format values (TextMapPropagator),\n   * and each has an expected `carrier` type.\n   *\n   * @param context the Context from which to extract values to transmit over\n   *     the wire.\n   * @param carrier the carrier of propagation fields, such as http request\n   *     headers.\n   * @param setter an optional {@link TextMapSetter}. If undefined, values will be\n   *     set by direct object assignment.\n   */\n  inject(\n    context: Context,\n    carrier: Carrier,\n    setter: TextMapSetter<Carrier>\n  ): void;\n\n  /**\n   * Given a `Context` and a carrier, extract context values from a\n   * carrier and return a new context, created from the old context, with the\n   * extracted values.\n   *\n   * @param context the Context from which to extract values to transmit over\n   *     the wire.\n   * @param carrier the carrier of propagation fields, such as http request\n   *     headers.\n   * @param getter an optional {@link TextMapGetter}. If undefined, keys will be all\n   *     own properties, and keys will be accessed by direct object access.\n   */\n  extract(\n    context: Context,\n    carrier: Carrier,\n    getter: TextMapGetter<Carrier>\n  ): Context;\n\n  /**\n   * Return a list of all fields which may be used by the propagator.\n   */\n  fields(): string[];\n}\n\n/**\n * A setter is specified by the caller to define a specific method\n * to set key/value pairs on the carrier within a propagator.\n */\nexport interface TextMapSetter<Carrier = any> {\n  /**\n   * Callback used to set a key/value pair on an object.\n   *\n   * Should be called by the propagator each time a key/value pair\n   * should be set, and should set that key/value pair on the propagator.\n   *\n   * @param carrier object or class which carries key/value pairs\n   * @param key string key to modify\n   * @param value value to be set to the key on the carrier\n   */\n  set(carrier: Carrier, key: string, value: string): void;\n}\n\n/**\n * A getter is specified by the caller to define a specific method\n * to get the value of a key from a carrier.\n */\nexport interface TextMapGetter<Carrier = any> {\n  /**\n   * Get a list of all keys available on the carrier.\n   *\n   * @param carrier\n   */\n  keys(carrier: Carrier): string[];\n\n  /**\n   * Get the value of a specific key from the carrier.\n   *\n   * @param carrier\n   * @param key\n   */\n  get(carrier: Carrier, key: string): undefined | string | string[];\n}\n\nexport const defaultTextMapGetter: TextMapGetter = {\n  get(carrier, key) {\n    if (carrier == null) {\n      return undefined;\n    }\n    return carrier[key];\n  },\n\n  keys(carrier) {\n    if (carrier == null) {\n      return [];\n    }\n    return Object.keys(carrier);\n  },\n};\n\nexport const defaultTextMapSetter: TextMapSetter = {\n  set(carrier, key, value) {\n    if (carrier == null) {\n      return;\n    }\n\n    carrier[key] = value;\n  },\n};\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from '../context/types';\nimport { TextMapPropagator } from './TextMapPropagator';\n\n/**\n * No-op implementations of {@link TextMapPropagator}.\n */\nexport class NoopTextMapPropagator implements TextMapPropagator {\n  /** Noop inject function does nothing */\n  inject(_context: Context, _carrier: unknown): void {}\n  /** Noop extract function does nothing and returns the input context */\n  extract(context: Context, _carrier: unknown): Context {\n    return context;\n  }\n  fields(): string[] {\n    return [];\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Exception } from '../common/Exception';\nimport { TimeInput } from '../common/Time';\nimport { SpanAttributes } from './attributes';\nimport { INVALID_SPAN_CONTEXT } from './invalid-span-constants';\nimport { Span } from './span';\nimport { SpanContext } from './span_context';\nimport { SpanStatus } from './status';\nimport { Link } from './link';\n\n/**\n * The NonRecordingSpan is the default {@link Span} that is used when no Span\n * implementation is available. All operations are no-op including context\n * propagation.\n */\nexport class NonRecordingSpan implements Span {\n  constructor(\n    private readonly _spanContext: SpanContext = INVALID_SPAN_CONTEXT\n  ) {}\n\n  // Returns a SpanContext.\n  spanContext(): SpanContext {\n    return this._spanContext;\n  }\n\n  // By default does nothing\n  setAttribute(_key: string, _value: unknown): this {\n    return this;\n  }\n\n  // By default does nothing\n  setAttributes(_attributes: SpanAttributes): this {\n    return this;\n  }\n\n  // By default does nothing\n  addEvent(_name: string, _attributes?: SpanAttributes): this {\n    return this;\n  }\n\n  addLink(_link: Link): this {\n    return this;\n  }\n\n  addLinks(_links: Link[]): this {\n    return this;\n  }\n\n  // By default does nothing\n  setStatus(_status: SpanStatus): this {\n    return this;\n  }\n\n  // By default does nothing\n  updateName(_name: string): this {\n    return this;\n  }\n\n  // By default does nothing\n  end(_endTime?: TimeInput): void {}\n\n  // isRecording always returns false for NonRecordingSpan.\n  isRecording(): boolean {\n    return false;\n  }\n\n  // By default does nothing\n  recordException(_exception: Exception, _time?: TimeInput): void {}\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { DiagAPI } from './api/diag';\n/**\n * Entrypoint for Diag API.\n * Defines Diagnostic handler used for internal diagnostic logging operations.\n * The default provides a Noop DiagLogger implementation which may be changed via the\n * diag.setLogger(logger: DiagLogger) function.\n */\nexport const diag = DiagAPI.instance();\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SpanAttributes } from './attributes';\nimport { TraceState } from './trace_state';\n\n/**\n * @deprecated use the one declared in @opentelemetry/sdk-trace-base instead.\n * A sampling decision that determines how a {@link Span} will be recorded\n * and collected.\n */\nexport enum SamplingDecision {\n  /**\n   * `Span.isRecording() === false`, span will not be recorded and all events\n   * and attributes will be dropped.\n   */\n  NOT_RECORD,\n  /**\n   * `Span.isRecording() === true`, but `Sampled` flag in {@link TraceFlags}\n   * MUST NOT be set.\n   */\n  RECORD,\n  /**\n   * `Span.isRecording() === true` AND `Sampled` flag in {@link TraceFlags}\n   * MUST be set.\n   */\n  RECORD_AND_SAMPLED,\n}\n\n/**\n * @deprecated use the one declared in @opentelemetry/sdk-trace-base instead.\n * A sampling result contains a decision for a {@link Span} and additional\n * attributes the sampler would like to added to the Span.\n */\nexport interface SamplingResult {\n  /**\n   * A sampling decision, refer to {@link SamplingDecision} for details.\n   */\n  decision: SamplingDecision;\n  /**\n   * The list of attributes returned by SamplingResult MUST be immutable.\n   * Caller may call {@link Sampler}.shouldSample any number of times and\n   * can safely cache the returned value.\n   */\n  attributes?: Readonly<SpanAttributes>;\n  /**\n   * A {@link TraceState} that will be associated with the {@link Span} through\n   * the new {@link SpanContext}. Samplers SHOULD return the TraceState from\n   * the passed-in {@link Context} if they do not intend to change it. Leaving\n   * the value undefined will also leave the TraceState unchanged.\n   */\n  traceState?: TraceState;\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NoopContextManager } from '../context/NoopContextManager';\nimport { Context, ContextManager } from '../context/types';\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\nimport { DiagAPI } from './diag';\n\nconst API_NAME = 'context';\nconst NOOP_CONTEXT_MANAGER = new NoopContextManager();\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Context API\n */\nexport class ContextAPI {\n  private static _instance?: ContextAPI;\n\n  /** Empty private constructor prevents end users from constructing a new instance of the API */\n  private constructor() {}\n\n  /** Get the singleton instance of the Context API */\n  public static getInstance(): ContextAPI {\n    if (!this._instance) {\n      this._instance = new ContextAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Set the current context manager.\n   *\n   * @returns true if the context manager was successfully registered, else false\n   */\n  public setGlobalContextManager(contextManager: ContextManager): boolean {\n    return registerGlobal(API_NAME, contextManager, DiagAPI.instance());\n  }\n\n  /**\n   * Get the currently active context\n   */\n  public active(): Context {\n    return this._getContextManager().active();\n  }\n\n  /**\n   * Execute a function with an active context\n   *\n   * @param context context to be active during function execution\n   * @param fn function to execute in a context\n   * @param thisArg optional receiver to be used for calling fn\n   * @param args optional arguments forwarded to fn\n   */\n  public with<A extends unknown[], F extends (...args: A) => ReturnType<F>>(\n    context: Context,\n    fn: F,\n    thisArg?: ThisParameterType<F>,\n    ...args: A\n  ): ReturnType<F> {\n    return this._getContextManager().with(context, fn, thisArg, ...args);\n  }\n\n  /**\n   * Bind a context to a target function or event emitter\n   *\n   * @param context context to bind to the event emitter or function. Defaults to the currently active context\n   * @param target function or event emitter to bind\n   */\n  public bind<T>(context: Context, target: T): T {\n    return this._getContextManager().bind(context, target);\n  }\n\n  private _getContextManager(): ContextManager {\n    return getGlobal(API_NAME) || NOOP_CONTEXT_MANAGER;\n  }\n\n  /** Disable and remove the global context manager */\n  public disable() {\n    this._getContextManager().disable();\n    unregisterGlobal(API_NAME, DiagAPI.instance());\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ROOT_CONTEXT } from './context';\nimport * as types from './types';\n\nexport class NoopContextManager implements types.ContextManager {\n  active(): types.Context {\n    return ROOT_CONTEXT;\n  }\n\n  with<A extends unknown[], F extends (...args: A) => ReturnType<F>>(\n    _context: types.Context,\n    fn: F,\n    thisArg?: ThisParameterType<F>,\n    ...args: A\n  ): ReturnType<F> {\n    return fn.call(thisArg, ...args);\n  }\n\n  bind<T>(_context: types.Context, target: T): T {\n    return target;\n  }\n\n  enable(): this {\n    return this;\n  }\n\n  disable(): this {\n    return this;\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Meter } from './Meter';\nimport {\n  BatchObservableCallback,\n  Counter,\n  Gauge,\n  Histogram,\n  MetricAttributes,\n  MetricOptions,\n  Observable,\n  ObservableCallback,\n  ObservableCounter,\n  ObservableGauge,\n  ObservableUpDownCounter,\n  UpDownCounter,\n} from './Metric';\n\n/**\n * NoopMeter is a noop implementation of the {@link Meter} interface. It reuses\n * constant NoopMetrics for all of its methods.\n */\nexport class NoopMeter implements Meter {\n  constructor() {}\n\n  /**\n   * @see {@link Meter.createGauge}\n   */\n  createGauge(_name: string, _options?: MetricOptions): Gauge {\n    return NOOP_GAUGE_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.createHistogram}\n   */\n  createHistogram(_name: string, _options?: MetricOptions): Histogram {\n    return NOOP_HISTOGRAM_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.createCounter}\n   */\n  createCounter(_name: string, _options?: MetricOptions): Counter {\n    return NOOP_COUNTER_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.createUpDownCounter}\n   */\n  createUpDownCounter(_name: string, _options?: MetricOptions): UpDownCounter {\n    return NOOP_UP_DOWN_COUNTER_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.createObservableGauge}\n   */\n  createObservableGauge(\n    _name: string,\n    _options?: MetricOptions\n  ): ObservableGauge {\n    return NOOP_OBSERVABLE_GAUGE_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.createObservableCounter}\n   */\n  createObservableCounter(\n    _name: string,\n    _options?: MetricOptions\n  ): ObservableCounter {\n    return NOOP_OBSERVABLE_COUNTER_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.createObservableUpDownCounter}\n   */\n  createObservableUpDownCounter(\n    _name: string,\n    _options?: MetricOptions\n  ): ObservableUpDownCounter {\n    return NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.addBatchObservableCallback}\n   */\n  addBatchObservableCallback(\n    _callback: BatchObservableCallback,\n    _observables: Observable[]\n  ): void {}\n\n  /**\n   * @see {@link Meter.removeBatchObservableCallback}\n   */\n  removeBatchObservableCallback(_callback: BatchObservableCallback): void {}\n}\n\nexport class NoopMetric {}\n\nexport class NoopCounterMetric extends NoopMetric implements Counter {\n  add(_value: number, _attributes: MetricAttributes): void {}\n}\n\nexport class NoopUpDownCounterMetric\n  extends NoopMetric\n  implements UpDownCounter\n{\n  add(_value: number, _attributes: MetricAttributes): void {}\n}\n\nexport class NoopGaugeMetric extends NoopMetric implements Gauge {\n  record(_value: number, _attributes: MetricAttributes): void {}\n}\n\nexport class NoopHistogramMetric extends NoopMetric implements Histogram {\n  record(_value: number, _attributes: MetricAttributes): void {}\n}\n\nexport class NoopObservableMetric {\n  addCallback(_callback: ObservableCallback) {}\n\n  removeCallback(_callback: ObservableCallback) {}\n}\n\nexport class NoopObservableCounterMetric\n  extends NoopObservableMetric\n  implements ObservableCounter {}\n\nexport class NoopObservableGaugeMetric\n  extends NoopObservableMetric\n  implements ObservableGauge {}\n\nexport class NoopObservableUpDownCounterMetric\n  extends NoopObservableMetric\n  implements ObservableUpDownCounter {}\n\nexport const NOOP_METER = new NoopMeter();\n\n// Synchronous instruments\nexport const NOOP_COUNTER_METRIC = new NoopCounterMetric();\nexport const NOOP_GAUGE_METRIC = new NoopGaugeMetric();\nexport const NOOP_HISTOGRAM_METRIC = new NoopHistogramMetric();\nexport const NOOP_UP_DOWN_COUNTER_METRIC = new NoopUpDownCounterMetric();\n\n// Asynchronous instruments\nexport const NOOP_OBSERVABLE_COUNTER_METRIC = new NoopObservableCounterMetric();\nexport const NOOP_OBSERVABLE_GAUGE_METRIC = new NoopObservableGaugeMetric();\nexport const NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC =\n  new NoopObservableUpDownCounterMetric();\n\n/**\n * Create a no-op Meter\n */\nexport function createNoopMeter(): Meter {\n  return NOOP_METER;\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagComponentLogger } from '../diag/ComponentLogger';\nimport { createLogLevelDiagLogger } from '../diag/internal/logLevelLogger';\nimport {\n  ComponentLoggerOptions,\n  DiagLogFunction,\n  DiagLogger,\n  DiagLoggerApi,\n  DiagLogLevel,\n} from '../diag/types';\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\n\nconst API_NAME = 'diag';\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry internal\n * diagnostic API\n */\nexport class DiagAPI implements DiagLogger, DiagLoggerApi {\n  private static _instance?: DiagAPI;\n\n  /** Get the singleton instance of the DiagAPI API */\n  public static instance(): DiagAPI {\n    if (!this._instance) {\n      this._instance = new DiagAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Private internal constructor\n   * @private\n   */\n  private constructor() {\n    function _logProxy(funcName: keyof DiagLogger): DiagLogFunction {\n      return function (...args) {\n        const logger = getGlobal('diag');\n        // shortcut if logger not set\n        if (!logger) return;\n        return logger[funcName](...args);\n      };\n    }\n\n    // Using self local variable for minification purposes as 'this' cannot be minified\n    const self = this;\n\n    // DiagAPI specific functions\n\n    const setLogger: DiagLoggerApi['setLogger'] = (\n      logger,\n      optionsOrLogLevel = { logLevel: DiagLogLevel.INFO }\n    ) => {\n      if (logger === self) {\n        // There isn't much we can do here.\n        // Logging to the console might break the user application.\n        // Try to log to self. If a logger was previously registered it will receive the log.\n        const err = new Error(\n          'Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation'\n        );\n        self.error(err.stack ?? err.message);\n        return false;\n      }\n\n      if (typeof optionsOrLogLevel === 'number') {\n        optionsOrLogLevel = {\n          logLevel: optionsOrLogLevel,\n        };\n      }\n\n      const oldLogger = getGlobal('diag');\n      const newLogger = createLogLevelDiagLogger(\n        optionsOrLogLevel.logLevel ?? DiagLogLevel.INFO,\n        logger\n      );\n      // There already is an logger registered. We'll let it know before overwriting it.\n      if (oldLogger && !optionsOrLogLevel.suppressOverrideMessage) {\n        const stack = new Error().stack ?? '<failed to generate stacktrace>';\n        oldLogger.warn(`Current logger will be overwritten from ${stack}`);\n        newLogger.warn(\n          `Current logger will overwrite one already registered from ${stack}`\n        );\n      }\n\n      return registerGlobal('diag', newLogger, self, true);\n    };\n\n    self.setLogger = setLogger;\n\n    self.disable = () => {\n      unregisterGlobal(API_NAME, self);\n    };\n\n    self.createComponentLogger = (options: ComponentLoggerOptions) => {\n      return new DiagComponentLogger(options);\n    };\n\n    self.verbose = _logProxy('verbose');\n    self.debug = _logProxy('debug');\n    self.info = _logProxy('info');\n    self.warn = _logProxy('warn');\n    self.error = _logProxy('error');\n  }\n\n  public setLogger!: DiagLoggerApi['setLogger'];\n  /**\n   *\n   */\n  public createComponentLogger!: (\n    options: ComponentLoggerOptions\n  ) => DiagLogger;\n\n  // DiagLogger implementation\n  public verbose!: DiagLogFunction;\n  public debug!: DiagLogFunction;\n  public info!: DiagLogFunction;\n  public warn!: DiagLogFunction;\n  public error!: DiagLogFunction;\n\n  /**\n   * Unregister the global logger and return to Noop\n   */\n  public disable!: () => void;\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Baggage, BaggageEntry } from '../types';\n\nexport class BaggageImpl implements Baggage {\n  private _entries: Map<string, BaggageEntry>;\n\n  constructor(entries?: Map<string, BaggageEntry>) {\n    this._entries = entries ? new Map(entries) : new Map();\n  }\n\n  getEntry(key: string): BaggageEntry | undefined {\n    const entry = this._entries.get(key);\n    if (!entry) {\n      return undefined;\n    }\n\n    return Object.assign({}, entry);\n  }\n\n  getAllEntries(): [string, BaggageEntry][] {\n    return Array.from(this._entries.entries()).map(([k, v]) => [k, v]);\n  }\n\n  setEntry(key: string, entry: BaggageEntry): BaggageImpl {\n    const newBaggage = new BaggageImpl(this._entries);\n    newBaggage._entries.set(key, entry);\n    return newBaggage;\n  }\n\n  removeEntry(key: string): BaggageImpl {\n    const newBaggage = new BaggageImpl(this._entries);\n    newBaggage._entries.delete(key);\n    return newBaggage;\n  }\n\n  removeEntries(...keys: string[]): BaggageImpl {\n    const newBaggage = new BaggageImpl(this._entries);\n    for (const key of keys) {\n      newBaggage._entries.delete(key);\n    }\n    return newBaggage;\n  }\n\n  clear(): BaggageImpl {\n    return new BaggageImpl();\n  }\n}\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getGlobal } from '../internal/global-utils';\nimport { ComponentLoggerOptions, DiagLogger, DiagLogFunction } from './types';\n\n/**\n * Component Logger which is meant to be used as part of any component which\n * will add automatically additional namespace in front of the log message.\n * It will then forward all message to global diag logger\n * @example\n * const cLogger = diag.createComponentLogger({ namespace: '@opentelemetry/instrumentation-http' });\n * cLogger.debug('test');\n * // @opentelemetry/instrumentation-http test\n */\nexport class DiagComponentLogger implements DiagLogger {\n  private _namespace: string;\n\n  constructor(props: ComponentLoggerOptions) {\n    this._namespace = props.namespace || 'DiagComponentLogger';\n  }\n\n  public debug(...args: any[]): void {\n    return logProxy('debug', this._namespace, args);\n  }\n\n  public error(...args: any[]): void {\n    return logProxy('error', this._namespace, args);\n  }\n\n  public info(...args: any[]): void {\n    return logProxy('info', this._namespace, args);\n  }\n\n  public warn(...args: any[]): void {\n    return logProxy('warn', this._namespace, args);\n  }\n\n  public verbose(...args: any[]): void {\n    return logProxy('verbose', this._namespace, args);\n  }\n}\n\nfunction logProxy(\n  funcName: keyof DiagLogger,\n  namespace: string,\n  args: any\n): void {\n  const logger = getGlobal('diag');\n  // shortcut if logger not set\n  if (!logger) {\n    return;\n  }\n\n  args.unshift(namespace);\n  return logger[funcName](...(args as Parameters<DiagLogFunction>));\n}\n","'use strict';\n\nconst OtelApi = require('@opentelemetry/api');\nconst Counter = require('../counter');\n\nconst PROCESS_CPU_USER_SECONDS = 'process_cpu_user_seconds_total';\nconst PROCESS_CPU_SYSTEM_SECONDS = 'process_cpu_system_seconds_total';\nconst PROCESS_CPU_SECONDS = 'process_cpu_seconds_total';\n\nmodule.exports = (registry, config = {}) => {\n\tconst registers = registry ? [registry] : undefined;\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst labels = config.labels ? config.labels : {};\n\tconst exemplars = config.enableExemplars ? config.enableExemplars : false;\n\tconst labelNames = Object.keys(labels);\n\n\tlet lastCpuUsage = process.cpuUsage();\n\n\tconst cpuUserUsageCounter = new Counter({\n\t\tname: namePrefix + PROCESS_CPU_USER_SECONDS,\n\t\thelp: 'Total user CPU time spent in seconds.',\n\t\tenableExemplars: exemplars,\n\t\tregisters,\n\t\tlabelNames,\n\t\t// Use this one metric's `collect` to set all metrics' values.\n\t\tcollect() {\n\t\t\tconst cpuUsage = process.cpuUsage();\n\n\t\t\tconst userUsageMicros = cpuUsage.user - lastCpuUsage.user;\n\t\t\tconst systemUsageMicros = cpuUsage.system - lastCpuUsage.system;\n\n\t\t\tlastCpuUsage = cpuUsage;\n\n\t\t\tif (this.enableExemplars) {\n\t\t\t\tlet exemplarLabels = {};\n\t\t\t\tconst currentSpan = OtelApi.trace.getSpan(OtelApi.context.active());\n\t\t\t\tif (currentSpan) {\n\t\t\t\t\texemplarLabels = {\n\t\t\t\t\t\ttraceId: currentSpan.spanContext().traceId,\n\t\t\t\t\t\tspanId: currentSpan.spanContext().spanId,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tcpuUserUsageCounter.inc({\n\t\t\t\t\tlabels,\n\t\t\t\t\tvalue: userUsageMicros / 1e6,\n\t\t\t\t\texemplarLabels,\n\t\t\t\t});\n\t\t\t\tcpuSystemUsageCounter.inc({\n\t\t\t\t\tlabels,\n\t\t\t\t\tvalue: systemUsageMicros / 1e6,\n\t\t\t\t\texemplarLabels,\n\t\t\t\t});\n\t\t\t\tcpuUsageCounter.inc({\n\t\t\t\t\tlabels,\n\t\t\t\t\tvalue: (userUsageMicros + systemUsageMicros) / 1e6,\n\t\t\t\t\texemplarLabels,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcpuUserUsageCounter.inc(labels, userUsageMicros / 1e6);\n\t\t\t\tcpuSystemUsageCounter.inc(labels, systemUsageMicros / 1e6);\n\t\t\t\tcpuUsageCounter.inc(\n\t\t\t\t\tlabels,\n\t\t\t\t\t(userUsageMicros + systemUsageMicros) / 1e6,\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t});\n\tconst cpuSystemUsageCounter = new Counter({\n\t\tname: namePrefix + PROCESS_CPU_SYSTEM_SECONDS,\n\t\thelp: 'Total system CPU time spent in seconds.',\n\t\tenableExemplars: exemplars,\n\t\tregisters,\n\t\tlabelNames,\n\t});\n\tconst cpuUsageCounter = new Counter({\n\t\tname: namePrefix + PROCESS_CPU_SECONDS,\n\t\thelp: 'Total user and system CPU time spent in seconds.',\n\t\tenableExemplars: exemplars,\n\t\tregisters,\n\t\tlabelNames,\n\t});\n};\n\nmodule.exports.metricNames = [\n\tPROCESS_CPU_USER_SECONDS,\n\tPROCESS_CPU_SYSTEM_SECONDS,\n\tPROCESS_CPU_SECONDS,\n];\n","'use strict';\n\nconst Gauge = require('../gauge');\nconst startInSeconds = Math.round(Date.now() / 1000 - process.uptime());\n\nconst PROCESS_START_TIME = 'process_start_time_seconds';\n\nmodule.exports = (registry, config = {}) => {\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = Object.keys(labels);\n\n\tnew Gauge({\n\t\tname: namePrefix + PROCESS_START_TIME,\n\t\thelp: 'Start time of the process since unix epoch in seconds.',\n\t\tregisters: registry ? [registry] : undefined,\n\t\tlabelNames,\n\t\taggregator: 'omit',\n\t\tcollect() {\n\t\t\tthis.set(labels, startInSeconds);\n\t\t},\n\t});\n};\n\nmodule.exports.metricNames = [PROCESS_START_TIME];\n","'use strict';\n\nconst Gauge = require('../gauge');\nconst fs = require('fs');\n\nconst values = ['VmSize', 'VmRSS', 'VmData'];\n\nconst PROCESS_RESIDENT_MEMORY = 'process_resident_memory_bytes';\nconst PROCESS_VIRTUAL_MEMORY = 'process_virtual_memory_bytes';\nconst PROCESS_HEAP = 'process_heap_bytes';\n\nfunction structureOutput(input) {\n\treturn input.split('\\n').reduce((acc, string) => {\n\t\tif (!values.some(value => string.startsWith(value))) {\n\t\t\treturn acc;\n\t\t}\n\n\t\tconst split = string.split(':');\n\n\t\t// Get the value\n\t\tlet value = split[1].trim();\n\t\t// Remove trailing ` kb`\n\t\tvalue = value.substr(0, value.length - 3);\n\t\t// Make it into a number in bytes bytes\n\t\tvalue = Number(value) * 1024;\n\n\t\tacc[split[0]] = value;\n\n\t\treturn acc;\n\t}, {});\n}\n\nmodule.exports = (registry, config = {}) => {\n\tconst registers = registry ? [registry] : undefined;\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = Object.keys(labels);\n\n\tconst residentMemGauge = new Gauge({\n\t\tname: namePrefix + PROCESS_RESIDENT_MEMORY,\n\t\thelp: 'Resident memory size in bytes.',\n\t\tregisters,\n\t\tlabelNames,\n\t\t// Use this one metric's `collect` to set all metrics' values.\n\t\tcollect() {\n\t\t\ttry {\n\t\t\t\t// Sync I/O is often problematic, but /proc isn't really I/O, it\n\t\t\t\t// a virtual filesystem that maps directly to in-kernel data\n\t\t\t\t// structures and never blocks.\n\t\t\t\t//\n\t\t\t\t// Node.js/libuv do this already for process.memoryUsage(), see:\n\t\t\t\t// - https://github.com/libuv/libuv/blob/a629688008694ed8022269e66826d4d6ec688b83/src/unix/linux-core.c#L506-L523\n\t\t\t\tconst stat = fs.readFileSync('/proc/self/status', 'utf8');\n\t\t\t\tconst structuredOutput = structureOutput(stat);\n\n\t\t\t\tresidentMemGauge.set(labels, structuredOutput.VmRSS);\n\t\t\t\tvirtualMemGauge.set(labels, structuredOutput.VmSize);\n\t\t\t\theapSizeMemGauge.set(labels, structuredOutput.VmData);\n\t\t\t} catch {\n\t\t\t\t// noop\n\t\t\t}\n\t\t},\n\t});\n\tconst virtualMemGauge = new Gauge({\n\t\tname: namePrefix + PROCESS_VIRTUAL_MEMORY,\n\t\thelp: 'Virtual memory size in bytes.',\n\t\tregisters,\n\t\tlabelNames,\n\t});\n\tconst heapSizeMemGauge = new Gauge({\n\t\tname: namePrefix + PROCESS_HEAP,\n\t\thelp: 'Process heap size in bytes.',\n\t\tregisters,\n\t\tlabelNames,\n\t});\n};\n\nmodule.exports.metricNames = [\n\tPROCESS_RESIDENT_MEMORY,\n\tPROCESS_VIRTUAL_MEMORY,\n\tPROCESS_HEAP,\n];\n","'use strict';\n\n// process.memoryUsage() can throw on some platforms, see #67\nfunction safeMemoryUsage() {\n\ttry {\n\t\treturn process.memoryUsage();\n\t} catch {\n\t\treturn;\n\t}\n}\n\nmodule.exports = safeMemoryUsage;\n","'use strict';\n\nconst Gauge = require('../gauge');\nconst linuxVariant = require('./osMemoryHeapLinux');\nconst safeMemoryUsage = require('./helpers/safeMemoryUsage');\n\nconst PROCESS_RESIDENT_MEMORY = 'process_resident_memory_bytes';\n\nfunction notLinuxVariant(registry, config = {}) {\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = Object.keys(labels);\n\n\tnew Gauge({\n\t\tname: namePrefix + PROCESS_RESIDENT_MEMORY,\n\t\thelp: 'Resident memory size in bytes.',\n\t\tregisters: registry ? [registry] : undefined,\n\t\tlabelNames,\n\t\tcollect() {\n\t\t\tconst memUsage = safeMemoryUsage();\n\n\t\t\t// I don't think the other things returned from `process.memoryUsage()` is relevant to a standard export\n\t\t\tif (memUsage) {\n\t\t\t\tthis.set(labels, memUsage.rss);\n\t\t\t}\n\t\t},\n\t});\n}\n\nmodule.exports = (registry, config) =>\n\tprocess.platform === 'linux'\n\t\t? linuxVariant(registry, config)\n\t\t: notLinuxVariant(registry, config);\n\nmodule.exports.metricNames =\n\tprocess.platform === 'linux'\n\t\t? linuxVariant.metricNames\n\t\t: [PROCESS_RESIDENT_MEMORY];\n","'use strict';\n\nconst Gauge = require('../gauge');\nconst fs = require('fs');\nconst process = require('process');\n\nconst PROCESS_OPEN_FDS = 'process_open_fds';\n\nmodule.exports = (registry, config = {}) => {\n\tif (process.platform !== 'linux') {\n\t\treturn;\n\t}\n\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = Object.keys(labels);\n\n\tnew Gauge({\n\t\tname: namePrefix + PROCESS_OPEN_FDS,\n\t\thelp: 'Number of open file descriptors.',\n\t\tregisters: registry ? [registry] : undefined,\n\t\tlabelNames,\n\t\tcollect() {\n\t\t\ttry {\n\t\t\t\tconst fds = fs.readdirSync('/proc/self/fd');\n\t\t\t\t// Minus 1 to not count the fd that was used by readdirSync(),\n\t\t\t\t// it's now closed.\n\t\t\t\tthis.set(labels, fds.length - 1);\n\t\t\t} catch {\n\t\t\t\t// noop\n\t\t\t}\n\t\t},\n\t});\n};\n\nmodule.exports.metricNames = [PROCESS_OPEN_FDS];\n","'use strict';\n\nconst Gauge = require('../gauge');\nconst fs = require('fs');\n\nconst PROCESS_MAX_FDS = 'process_max_fds';\n\nlet maxFds;\n\nmodule.exports = (registry, config = {}) => {\n\tif (maxFds === undefined) {\n\t\t// This will fail if a linux-like procfs is not available.\n\t\ttry {\n\t\t\tconst limits = fs.readFileSync('/proc/self/limits', 'utf8');\n\t\t\tconst lines = limits.split('\\n');\n\t\t\tfor (const line of lines) {\n\t\t\t\tif (line.startsWith('Max open files')) {\n\t\t\t\t\tconst parts = line.split(/  +/);\n\t\t\t\t\tmaxFds = Number(parts[1]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch {\n\t\t\treturn;\n\t\t}\n\t}\n\n\tif (maxFds === undefined) return;\n\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = Object.keys(labels);\n\n\tnew Gauge({\n\t\tname: namePrefix + PROCESS_MAX_FDS,\n\t\thelp: 'Maximum number of open file descriptors.',\n\t\tregisters: registry ? [registry] : undefined,\n\t\tlabelNames,\n\t\tcollect() {\n\t\t\tif (maxFds !== undefined) this.set(labels, maxFds);\n\t\t},\n\t});\n};\n\nmodule.exports.metricNames = [PROCESS_MAX_FDS];\n","'use strict';\n\nconst Gauge = require('../gauge');\n\n// Check if perf_hooks module is available\nlet perf_hooks;\ntry {\n\tperf_hooks = require('perf_hooks');\n} catch {\n\t// node version is too old\n}\n\n// Reported always.\nconst NODEJS_EVENTLOOP_LAG = 'nodejs_eventloop_lag_seconds';\n\n// Reported only when perf_hooks is available.\nconst NODEJS_EVENTLOOP_LAG_MIN = 'nodejs_eventloop_lag_min_seconds';\nconst NODEJS_EVENTLOOP_LAG_MAX = 'nodejs_eventloop_lag_max_seconds';\nconst NODEJS_EVENTLOOP_LAG_MEAN = 'nodejs_eventloop_lag_mean_seconds';\nconst NODEJS_EVENTLOOP_LAG_STDDEV = 'nodejs_eventloop_lag_stddev_seconds';\nconst NODEJS_EVENTLOOP_LAG_P50 = 'nodejs_eventloop_lag_p50_seconds';\nconst NODEJS_EVENTLOOP_LAG_P90 = 'nodejs_eventloop_lag_p90_seconds';\nconst NODEJS_EVENTLOOP_LAG_P99 = 'nodejs_eventloop_lag_p99_seconds';\n\nfunction reportEventloopLag(start, gauge, labels) {\n\tconst delta = process.hrtime(start);\n\tconst nanosec = delta[0] * 1e9 + delta[1];\n\tconst seconds = nanosec / 1e9;\n\n\tgauge.set(labels, seconds);\n}\n\nmodule.exports = (registry, config = {}) => {\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = Object.keys(labels);\n\tconst registers = registry ? [registry] : undefined;\n\n\tlet collect = () => {\n\t\tconst start = process.hrtime();\n\t\tsetImmediate(reportEventloopLag, start, lag, labels);\n\t};\n\n\tif (perf_hooks && perf_hooks.monitorEventLoopDelay) {\n\t\ttry {\n\t\t\tconst histogram = perf_hooks.monitorEventLoopDelay({\n\t\t\t\tresolution: config.eventLoopMonitoringPrecision,\n\t\t\t});\n\t\t\thistogram.enable();\n\n\t\t\tcollect = () => {\n\t\t\t\tconst start = process.hrtime();\n\t\t\t\tsetImmediate(reportEventloopLag, start, lag, labels);\n\n\t\t\t\tlagMin.set(labels, histogram.min / 1e9);\n\t\t\t\tlagMax.set(labels, histogram.max / 1e9);\n\t\t\t\tlagMean.set(labels, histogram.mean / 1e9);\n\t\t\t\tlagStddev.set(labels, histogram.stddev / 1e9);\n\t\t\t\tlagP50.set(labels, histogram.percentile(50) / 1e9);\n\t\t\t\tlagP90.set(labels, histogram.percentile(90) / 1e9);\n\t\t\t\tlagP99.set(labels, histogram.percentile(99) / 1e9);\n\n\t\t\t\thistogram.reset();\n\t\t\t};\n\t\t} catch (e) {\n\t\t\tif (e.code === 'ERR_NOT_IMPLEMENTED') {\n\t\t\t\treturn; // Bun\n\t\t\t}\n\n\t\t\tthrow e;\n\t\t}\n\t}\n\n\tconst lag = new Gauge({\n\t\tname: namePrefix + NODEJS_EVENTLOOP_LAG,\n\t\thelp: 'Lag of event loop in seconds.',\n\t\tregisters,\n\t\tlabelNames,\n\t\taggregator: 'average',\n\t\t// Use this one metric's `collect` to set all metrics' values.\n\t\tcollect,\n\t});\n\tconst lagMin = new Gauge({\n\t\tname: namePrefix + NODEJS_EVENTLOOP_LAG_MIN,\n\t\thelp: 'The minimum recorded event loop delay.',\n\t\tregisters,\n\t\tlabelNames,\n\t\taggregator: 'min',\n\t});\n\tconst lagMax = new Gauge({\n\t\tname: namePrefix + NODEJS_EVENTLOOP_LAG_MAX,\n\t\thelp: 'The maximum recorded event loop delay.',\n\t\tregisters,\n\t\tlabelNames,\n\t\taggregator: 'max',\n\t});\n\tconst lagMean = new Gauge({\n\t\tname: namePrefix + NODEJS_EVENTLOOP_LAG_MEAN,\n\t\thelp: 'The mean of the recorded event loop delays.',\n\t\tregisters,\n\t\tlabelNames,\n\t\taggregator: 'average',\n\t});\n\tconst lagStddev = new Gauge({\n\t\tname: namePrefix + NODEJS_EVENTLOOP_LAG_STDDEV,\n\t\thelp: 'The standard deviation of the recorded event loop delays.',\n\t\tregisters,\n\t\tlabelNames,\n\t\taggregator: 'average',\n\t});\n\tconst lagP50 = new Gauge({\n\t\tname: namePrefix + NODEJS_EVENTLOOP_LAG_P50,\n\t\thelp: 'The 50th percentile of the recorded event loop delays.',\n\t\tregisters,\n\t\tlabelNames,\n\t\taggregator: 'average',\n\t});\n\tconst lagP90 = new Gauge({\n\t\tname: namePrefix + NODEJS_EVENTLOOP_LAG_P90,\n\t\thelp: 'The 90th percentile of the recorded event loop delays.',\n\t\tregisters,\n\t\tlabelNames,\n\t\taggregator: 'average',\n\t});\n\tconst lagP99 = new Gauge({\n\t\tname: namePrefix + NODEJS_EVENTLOOP_LAG_P99,\n\t\thelp: 'The 99th percentile of the recorded event loop delays.',\n\t\tregisters,\n\t\tlabelNames,\n\t\taggregator: 'average',\n\t});\n};\n\nmodule.exports.metricNames = [\n\tNODEJS_EVENTLOOP_LAG,\n\tNODEJS_EVENTLOOP_LAG_MIN,\n\tNODEJS_EVENTLOOP_LAG_MAX,\n\tNODEJS_EVENTLOOP_LAG_MEAN,\n\tNODEJS_EVENTLOOP_LAG_STDDEV,\n\tNODEJS_EVENTLOOP_LAG_P50,\n\tNODEJS_EVENTLOOP_LAG_P90,\n\tNODEJS_EVENTLOOP_LAG_P99,\n];\n","'use strict';\n\nfunction aggregateByObjectName(list) {\n\tconst data = {};\n\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst listElement = list[i];\n\n\t\tif (!listElement || typeof listElement.constructor === 'undefined') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (Object.hasOwnProperty.call(data, listElement.constructor.name)) {\n\t\t\tdata[listElement.constructor.name] += 1;\n\t\t} else {\n\t\t\tdata[listElement.constructor.name] = 1;\n\t\t}\n\t}\n\treturn data;\n}\n\nfunction updateMetrics(gauge, data, labels) {\n\tgauge.reset();\n\tfor (const key in data) {\n\t\tgauge.set(Object.assign({ type: key }, labels || {}), data[key]);\n\t}\n}\n\nmodule.exports = {\n\taggregateByObjectName,\n\tupdateMetrics,\n};\n","'use strict';\n\nconst { aggregateByObjectName } = require('./helpers/processMetricsHelpers');\nconst { updateMetrics } = require('./helpers/processMetricsHelpers');\nconst Gauge = require('../gauge');\n\nconst NODEJS_ACTIVE_HANDLES = 'nodejs_active_handles';\nconst NODEJS_ACTIVE_HANDLES_TOTAL = 'nodejs_active_handles_total';\n\nmodule.exports = (registry, config = {}) => {\n\t// Don't do anything if the function is removed in later nodes (exists in node@6-12...)\n\tif (typeof process._getActiveHandles !== 'function') {\n\t\treturn;\n\t}\n\n\tconst registers = registry ? [registry] : undefined;\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = Object.keys(labels);\n\n\tnew Gauge({\n\t\tname: namePrefix + NODEJS_ACTIVE_HANDLES,\n\t\thelp: 'Number of active libuv handles grouped by handle type. Every handle type is C++ class name.',\n\t\tlabelNames: ['type', ...labelNames],\n\t\tregisters,\n\t\tcollect() {\n\t\t\tconst handles = process._getActiveHandles();\n\t\t\tupdateMetrics(this, aggregateByObjectName(handles), labels);\n\t\t},\n\t});\n\tnew Gauge({\n\t\tname: namePrefix + NODEJS_ACTIVE_HANDLES_TOTAL,\n\t\thelp: 'Total number of active handles.',\n\t\tregisters,\n\t\tlabelNames,\n\t\tcollect() {\n\t\t\tconst handles = process._getActiveHandles();\n\t\t\tthis.set(labels, handles.length);\n\t\t},\n\t});\n};\n\nmodule.exports.metricNames = [\n\tNODEJS_ACTIVE_HANDLES,\n\tNODEJS_ACTIVE_HANDLES_TOTAL,\n];\n","'use strict';\nconst Gauge = require('../gauge');\nconst { aggregateByObjectName } = require('./helpers/processMetricsHelpers');\nconst { updateMetrics } = require('./helpers/processMetricsHelpers');\n\nconst NODEJS_ACTIVE_REQUESTS = 'nodejs_active_requests';\nconst NODEJS_ACTIVE_REQUESTS_TOTAL = 'nodejs_active_requests_total';\n\nmodule.exports = (registry, config = {}) => {\n\t// Don't do anything if the function is removed in later nodes (exists in node@6)\n\tif (typeof process._getActiveRequests !== 'function') {\n\t\treturn;\n\t}\n\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = Object.keys(labels);\n\n\tnew Gauge({\n\t\tname: namePrefix + NODEJS_ACTIVE_REQUESTS,\n\t\thelp: 'Number of active libuv requests grouped by request type. Every request type is C++ class name.',\n\t\tlabelNames: ['type', ...labelNames],\n\t\tregisters: registry ? [registry] : undefined,\n\t\tcollect() {\n\t\t\tconst requests = process._getActiveRequests();\n\t\t\tupdateMetrics(this, aggregateByObjectName(requests), labels);\n\t\t},\n\t});\n\n\tnew Gauge({\n\t\tname: namePrefix + NODEJS_ACTIVE_REQUESTS_TOTAL,\n\t\thelp: 'Total number of active requests.',\n\t\tregisters: registry ? [registry] : undefined,\n\t\tlabelNames,\n\t\tcollect() {\n\t\t\tconst requests = process._getActiveRequests();\n\t\t\tthis.set(labels, requests.length);\n\t\t},\n\t});\n};\n\nmodule.exports.metricNames = [\n\tNODEJS_ACTIVE_REQUESTS,\n\tNODEJS_ACTIVE_REQUESTS_TOTAL,\n];\n","'use strict';\nconst Gauge = require('../gauge');\nconst { updateMetrics } = require('./helpers/processMetricsHelpers');\n\nconst NODEJS_ACTIVE_RESOURCES = 'nodejs_active_resources';\nconst NODEJS_ACTIVE_RESOURCES_TOTAL = 'nodejs_active_resources_total';\n\nmodule.exports = (registry, config = {}) => {\n\t// Don't do anything if the function does not exist in previous nodes (exists in node@17.3.0)\n\tif (typeof process.getActiveResourcesInfo !== 'function') {\n\t\treturn;\n\t}\n\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = Object.keys(labels);\n\n\tnew Gauge({\n\t\tname: namePrefix + NODEJS_ACTIVE_RESOURCES,\n\t\thelp: 'Number of active resources that are currently keeping the event loop alive, grouped by async resource type.',\n\t\tlabelNames: ['type', ...labelNames],\n\t\tregisters: registry ? [registry] : undefined,\n\t\tcollect() {\n\t\t\tconst resources = process.getActiveResourcesInfo();\n\n\t\t\tconst data = {};\n\n\t\t\tfor (let i = 0; i < resources.length; i++) {\n\t\t\t\tconst resource = resources[i];\n\n\t\t\t\tif (Object.hasOwn(data, resource)) {\n\t\t\t\t\tdata[resource] += 1;\n\t\t\t\t} else {\n\t\t\t\t\tdata[resource] = 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tupdateMetrics(this, data, labels);\n\t\t},\n\t});\n\n\tnew Gauge({\n\t\tname: namePrefix + NODEJS_ACTIVE_RESOURCES_TOTAL,\n\t\thelp: 'Total number of active resources.',\n\t\tregisters: registry ? [registry] : undefined,\n\t\tlabelNames,\n\t\tcollect() {\n\t\t\tconst resources = process.getActiveResourcesInfo();\n\t\t\tthis.set(labels, resources.length);\n\t\t},\n\t});\n};\n\nmodule.exports.metricNames = [\n\tNODEJS_ACTIVE_RESOURCES,\n\tNODEJS_ACTIVE_RESOURCES_TOTAL,\n];\n","'use strict';\n\nconst Gauge = require('../gauge');\nconst safeMemoryUsage = require('./helpers/safeMemoryUsage');\n\nconst NODEJS_HEAP_SIZE_TOTAL = 'nodejs_heap_size_total_bytes';\nconst NODEJS_HEAP_SIZE_USED = 'nodejs_heap_size_used_bytes';\nconst NODEJS_EXTERNAL_MEMORY = 'nodejs_external_memory_bytes';\n\nmodule.exports = (registry, config = {}) => {\n\tif (typeof process.memoryUsage !== 'function') {\n\t\treturn;\n\t}\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = Object.keys(labels);\n\n\tconst registers = registry ? [registry] : undefined;\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst collect = () => {\n\t\tconst memUsage = safeMemoryUsage();\n\t\tif (memUsage) {\n\t\t\theapSizeTotal.set(labels, memUsage.heapTotal);\n\t\t\theapSizeUsed.set(labels, memUsage.heapUsed);\n\t\t\tif (memUsage.external !== undefined) {\n\t\t\t\texternalMemUsed.set(labels, memUsage.external);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst heapSizeTotal = new Gauge({\n\t\tname: namePrefix + NODEJS_HEAP_SIZE_TOTAL,\n\t\thelp: 'Process heap size from Node.js in bytes.',\n\t\tregisters,\n\t\tlabelNames,\n\t\t// Use this one metric's `collect` to set all metrics' values.\n\t\tcollect,\n\t});\n\tconst heapSizeUsed = new Gauge({\n\t\tname: namePrefix + NODEJS_HEAP_SIZE_USED,\n\t\thelp: 'Process heap size used from Node.js in bytes.',\n\t\tregisters,\n\t\tlabelNames,\n\t});\n\tconst externalMemUsed = new Gauge({\n\t\tname: namePrefix + NODEJS_EXTERNAL_MEMORY,\n\t\thelp: 'Node.js external memory size in bytes.',\n\t\tregisters,\n\t\tlabelNames,\n\t});\n};\n\nmodule.exports.metricNames = [\n\tNODEJS_HEAP_SIZE_TOTAL,\n\tNODEJS_HEAP_SIZE_USED,\n\tNODEJS_EXTERNAL_MEMORY,\n];\n","'use strict';\n\nconst Gauge = require('../gauge');\nconst v8 = require('v8');\n\nconst METRICS = ['total', 'used', 'available'];\nconst NODEJS_HEAP_SIZE = {};\n\nMETRICS.forEach(metricType => {\n\tNODEJS_HEAP_SIZE[metricType] = `nodejs_heap_space_size_${metricType}_bytes`;\n});\n\nmodule.exports = (registry, config = {}) => {\n\ttry {\n\t\tv8.getHeapSpaceStatistics();\n\t} catch (e) {\n\t\tif (e.code === 'ERR_NOT_IMPLEMENTED') {\n\t\t\treturn; // Bun\n\t\t}\n\t\tthrow e;\n\t}\n\tconst registers = registry ? [registry] : undefined;\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = ['space', ...Object.keys(labels)];\n\n\tconst gauges = {};\n\n\tMETRICS.forEach(metricType => {\n\t\tgauges[metricType] = new Gauge({\n\t\t\tname: namePrefix + NODEJS_HEAP_SIZE[metricType],\n\t\t\thelp: `Process heap space size ${metricType} from Node.js in bytes.`,\n\t\t\tlabelNames,\n\t\t\tregisters,\n\t\t});\n\t});\n\n\t// Use this one metric's `collect` to set all metrics' values.\n\tgauges.total.collect = () => {\n\t\tfor (const space of v8.getHeapSpaceStatistics()) {\n\t\t\tconst spaceName = space.space_name.substr(\n\t\t\t\t0,\n\t\t\t\tspace.space_name.indexOf('_space'),\n\t\t\t);\n\n\t\t\tgauges.total.set({ space: spaceName, ...labels }, space.space_size);\n\t\t\tgauges.used.set({ space: spaceName, ...labels }, space.space_used_size);\n\t\t\tgauges.available.set(\n\t\t\t\t{ space: spaceName, ...labels },\n\t\t\t\tspace.space_available_size,\n\t\t\t);\n\t\t}\n\t};\n};\n\nmodule.exports.metricNames = Object.values(NODEJS_HEAP_SIZE);\n","'use strict';\n\nconst Gauge = require('../gauge');\nconst version = process.version;\nconst versionSegments = version.slice(1).split('.').map(Number);\n\nconst NODE_VERSION_INFO = 'nodejs_version_info';\n\nmodule.exports = (registry, config = {}) => {\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = Object.keys(labels);\n\n\tnew Gauge({\n\t\tname: namePrefix + NODE_VERSION_INFO,\n\t\thelp: 'Node.js version info.',\n\t\tlabelNames: ['version', 'major', 'minor', 'patch', ...labelNames],\n\t\tregisters: registry ? [registry] : undefined,\n\t\taggregator: 'first',\n\t\tcollect() {\n\t\t\t// Needs to be in collect() so value is present even if reg is reset\n\t\t\tthis.labels(\n\t\t\t\tversion,\n\t\t\t\tversionSegments[0],\n\t\t\t\tversionSegments[1],\n\t\t\t\tversionSegments[2],\n\t\t\t\t...Object.values(labels),\n\t\t\t).set(1);\n\t\t},\n\t});\n};\n\nmodule.exports.metricNames = [NODE_VERSION_INFO];\n","'use strict';\nconst Histogram = require('../histogram');\n\nlet perf_hooks;\n\ntry {\n\t// eslint-disable-next-line\n\tperf_hooks = require('perf_hooks');\n} catch {\n\t// node version is too old\n}\n\nconst NODEJS_GC_DURATION_SECONDS = 'nodejs_gc_duration_seconds';\nconst DEFAULT_GC_DURATION_BUCKETS = [0.001, 0.01, 0.1, 1, 2, 5];\n\nconst kinds = [];\n\nif (perf_hooks && perf_hooks.constants) {\n\tkinds[perf_hooks.constants.NODE_PERFORMANCE_GC_MAJOR] = 'major';\n\tkinds[perf_hooks.constants.NODE_PERFORMANCE_GC_MINOR] = 'minor';\n\tkinds[perf_hooks.constants.NODE_PERFORMANCE_GC_INCREMENTAL] = 'incremental';\n\tkinds[perf_hooks.constants.NODE_PERFORMANCE_GC_WEAKCB] = 'weakcb';\n}\n\nmodule.exports = (registry, config = {}) => {\n\tif (!perf_hooks) {\n\t\treturn;\n\t}\n\n\tconst namePrefix = config.prefix ? config.prefix : '';\n\tconst labels = config.labels ? config.labels : {};\n\tconst labelNames = Object.keys(labels);\n\tconst buckets = config.gcDurationBuckets\n\t\t? config.gcDurationBuckets\n\t\t: DEFAULT_GC_DURATION_BUCKETS;\n\tconst gcHistogram = new Histogram({\n\t\tname: namePrefix + NODEJS_GC_DURATION_SECONDS,\n\t\thelp: 'Garbage collection duration by kind, one of major, minor, incremental or weakcb.',\n\t\tlabelNames: ['kind', ...labelNames],\n\t\tenableExemplars: false,\n\t\tbuckets,\n\t\tregisters: registry ? [registry] : undefined,\n\t});\n\n\tconst obs = new perf_hooks.PerformanceObserver(list => {\n\t\tconst entry = list.getEntries()[0];\n\t\t// Node < 16 uses entry.kind\n\t\t// Node >= 16 uses entry.detail.kind\n\t\t// See: https://nodejs.org/docs/latest-v16.x/api/deprecations.html#deprecations_dep0152_extension_performanceentry_properties\n\t\tconst kind = entry.detail ? kinds[entry.detail.kind] : kinds[entry.kind];\n\t\t// Convert duration from milliseconds to seconds\n\t\tgcHistogram.observe(Object.assign({ kind }, labels), entry.duration / 1000);\n\t});\n\n\tobs.observe({ entryTypes: ['gc'] });\n};\n\nmodule.exports.metricNames = [NODEJS_GC_DURATION_SECONDS];\n","'use strict';\n\nconst { isObject } = require('./util');\n\n// Default metrics.\nconst processCpuTotal = require('./metrics/processCpuTotal');\nconst processStartTime = require('./metrics/processStartTime');\nconst osMemoryHeap = require('./metrics/osMemoryHeap');\nconst processOpenFileDescriptors = require('./metrics/processOpenFileDescriptors');\nconst processMaxFileDescriptors = require('./metrics/processMaxFileDescriptors');\nconst eventLoopLag = require('./metrics/eventLoopLag');\nconst processHandles = require('./metrics/processHandles');\nconst processRequests = require('./metrics/processRequests');\nconst processResources = require('./metrics/processResources');\nconst heapSizeAndUsed = require('./metrics/heapSizeAndUsed');\nconst heapSpacesSizeAndUsed = require('./metrics/heapSpacesSizeAndUsed');\nconst version = require('./metrics/version');\nconst gc = require('./metrics/gc');\n\nconst metrics = {\n\tprocessCpuTotal,\n\tprocessStartTime,\n\tosMemoryHeap,\n\tprocessOpenFileDescriptors,\n\tprocessMaxFileDescriptors,\n\teventLoopLag,\n\t...(typeof process.getActiveResourcesInfo === 'function'\n\t\t? { processResources }\n\t\t: {}),\n\tprocessHandles,\n\tprocessRequests,\n\theapSizeAndUsed,\n\theapSpacesSizeAndUsed,\n\tversion,\n\tgc,\n};\nconst metricsList = Object.keys(metrics);\n\nmodule.exports = function collectDefaultMetrics(config) {\n\tif (config !== null && config !== undefined && !isObject(config)) {\n\t\tthrow new TypeError('config must be null, undefined, or an object');\n\t}\n\n\tconfig = { eventLoopMonitoringPrecision: 10, ...config };\n\n\tfor (const metric of Object.values(metrics)) {\n\t\tmetric(config.register, config);\n\t}\n};\n\nmodule.exports.metricsList = metricsList;\n","'use strict';\n\nconst { Grouper, hashObject } = require('./util');\n\n/**\n * Returns a new function that applies the `aggregatorFn` to the values.\n * @param {Function} aggregatorFn function to apply to values.\n * @return {Function} aggregator function\n */\nfunction AggregatorFactory(aggregatorFn) {\n\treturn metrics => {\n\t\tif (metrics.length === 0) return;\n\t\tconst result = {\n\t\t\thelp: metrics[0].help,\n\t\t\tname: metrics[0].name,\n\t\t\ttype: metrics[0].type,\n\t\t\tvalues: [],\n\t\t\taggregator: metrics[0].aggregator,\n\t\t};\n\t\t// Gather metrics by metricName and labels.\n\t\tconst byLabels = new Grouper();\n\t\tmetrics.forEach(metric => {\n\t\t\tmetric.values.forEach(value => {\n\t\t\t\tconst key = hashObject(value.labels);\n\t\t\t\tbyLabels.add(`${value.metricName}_${key}`, value);\n\t\t\t});\n\t\t});\n\t\t// Apply aggregator function to gathered metrics.\n\t\tbyLabels.forEach(values => {\n\t\t\tif (values.length === 0) return;\n\t\t\tconst valObj = {\n\t\t\t\tvalue: aggregatorFn(values),\n\t\t\t\tlabels: values[0].labels,\n\t\t\t};\n\t\t\tif (values[0].metricName) {\n\t\t\t\tvalObj.metricName = values[0].metricName;\n\t\t\t}\n\t\t\t// NB: Timestamps are omitted.\n\t\t\tresult.values.push(valObj);\n\t\t});\n\t\treturn result;\n\t};\n}\n// Export for users to define their own aggregation methods.\nexports.AggregatorFactory = AggregatorFactory;\n\n/**\n * Functions that can be used to aggregate metrics from multiple registries.\n */\nexports.aggregators = {\n\t/**\n\t * @return The sum of values.\n\t */\n\tsum: AggregatorFactory(v => v.reduce((p, c) => p + c.value, 0)),\n\t/**\n\t * @return The first value.\n\t */\n\tfirst: AggregatorFactory(v => v[0].value),\n\t/**\n\t * @return {undefined} Undefined; omits the metric.\n\t */\n\tomit: () => {},\n\t/**\n\t * @return The arithmetic mean of the values.\n\t */\n\taverage: AggregatorFactory(\n\t\tv => v.reduce((p, c) => p + c.value, 0) / v.length,\n\t),\n\t/**\n\t * @return The minimum of the values.\n\t */\n\tmin: AggregatorFactory(v =>\n\t\tv.reduce((p, c) => Math.min(p, c.value), Infinity),\n\t),\n\t/**\n\t * @return The maximum of the values.\n\t */\n\tmax: AggregatorFactory(v =>\n\t\tv.reduce((p, c) => Math.max(p, c.value), -Infinity),\n\t),\n};\n","'use strict';\n\n/**\n * Extends the Registry class with a `clusterMetrics` method that returns\n * aggregated metrics for all workers.\n *\n * In cluster workers, listens for and responds to requests for metrics by the\n * cluster master.\n */\n\nconst Registry = require('./registry');\nconst { Grouper } = require('./util');\nconst { aggregators } = require('./metricAggregators');\n// We need to lazy-load the 'cluster' module as some application servers -\n// namely Passenger - crash when it is imported.\nlet cluster = () => {\n\tconst data = require('cluster');\n\tcluster = () => data;\n\treturn data;\n};\n\nconst GET_METRICS_REQ = 'prom-client:getMetricsReq';\nconst GET_METRICS_RES = 'prom-client:getMetricsRes';\n\nlet registries = [Registry.globalRegistry];\nlet requestCtr = 0; // Concurrency control\nlet listenersAdded = false;\nconst requests = new Map(); // Pending requests for workers' local metrics.\n\nclass AggregatorRegistry extends Registry {\n\tconstructor(regContentType = Registry.PROMETHEUS_CONTENT_TYPE) {\n\t\tsuper(regContentType);\n\t\taddListeners();\n\t}\n\n\t/**\n\t * Gets aggregated metrics for all workers. The optional callback and\n\t * returned Promise resolve with the same value; either may be used.\n\t * @return {Promise<string>} Promise that resolves with the aggregated\n\t *   metrics.\n\t */\n\tclusterMetrics() {\n\t\tconst requestId = requestCtr++;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet settled = false;\n\t\t\tfunction done(err, result) {\n\t\t\t\tif (settled) return;\n\t\t\t\tsettled = true;\n\t\t\t\tif (err) reject(err);\n\t\t\t\telse resolve(result);\n\t\t\t}\n\n\t\t\tconst request = {\n\t\t\t\tresponses: [],\n\t\t\t\tpending: 0,\n\t\t\t\tdone,\n\t\t\t\terrorTimeout: setTimeout(() => {\n\t\t\t\t\tconst err = new Error('Operation timed out.');\n\t\t\t\t\trequest.done(err);\n\t\t\t\t}, 5000),\n\t\t\t};\n\t\t\trequests.set(requestId, request);\n\n\t\t\tconst message = {\n\t\t\t\ttype: GET_METRICS_REQ,\n\t\t\t\trequestId,\n\t\t\t};\n\n\t\t\tfor (const id in cluster().workers) {\n\t\t\t\t// If the worker exits abruptly, it may still be in the workers\n\t\t\t\t// list but not able to communicate.\n\t\t\t\tif (cluster().workers[id].isConnected()) {\n\t\t\t\t\tcluster().workers[id].send(message);\n\t\t\t\t\trequest.pending++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (request.pending === 0) {\n\t\t\t\t// No workers were up\n\t\t\t\tclearTimeout(request.errorTimeout);\n\t\t\t\tprocess.nextTick(() => done(null, ''));\n\t\t\t}\n\t\t});\n\t}\n\n\tget contentType() {\n\t\treturn super.contentType;\n\t}\n\n\t/**\n\t * Creates a new Registry instance from an array of metrics that were\n\t * created by `registry.getMetricsAsJSON()`. Metrics are aggregated using\n\t * the method specified by their `aggregator` property, or by summation if\n\t * `aggregator` is undefined.\n\t * @param {Array} metricsArr Array of metrics, each of which created by\n\t *   `registry.getMetricsAsJSON()`.\n\t * @param {string} registryType content type of the new registry. Defaults\n\t * to PROMETHEUS_CONTENT_TYPE.\n\t * @return {Registry} aggregated registry.\n\t */\n\tstatic aggregate(\n\t\tmetricsArr,\n\t\tregistryType = Registry.PROMETHEUS_CONTENT_TYPE,\n\t) {\n\t\tconst aggregatedRegistry = new Registry();\n\t\tconst metricsByName = new Grouper();\n\n\t\taggregatedRegistry.setContentType(registryType);\n\n\t\t// Gather by name\n\t\tmetricsArr.forEach(metrics => {\n\t\t\tmetrics.forEach(metric => {\n\t\t\t\tmetricsByName.add(metric.name, metric);\n\t\t\t});\n\t\t});\n\n\t\t// Aggregate gathered metrics.\n\t\tmetricsByName.forEach(metrics => {\n\t\t\tconst aggregatorName = metrics[0].aggregator;\n\t\t\tconst aggregatorFn = aggregators[aggregatorName];\n\t\t\tif (typeof aggregatorFn !== 'function') {\n\t\t\t\tthrow new Error(`'${aggregatorName}' is not a defined aggregator.`);\n\t\t\t}\n\t\t\tconst aggregatedMetric = aggregatorFn(metrics);\n\t\t\t// NB: The 'omit' aggregator returns undefined.\n\t\t\tif (aggregatedMetric) {\n\t\t\t\tconst aggregatedMetricWrapper = Object.assign(\n\t\t\t\t\t{\n\t\t\t\t\t\tget: () => aggregatedMetric,\n\t\t\t\t\t},\n\t\t\t\t\taggregatedMetric,\n\t\t\t\t);\n\t\t\t\taggregatedRegistry.registerMetric(aggregatedMetricWrapper);\n\t\t\t}\n\t\t});\n\n\t\treturn aggregatedRegistry;\n\t}\n\n\t/**\n\t * Sets the registry or registries to be aggregated. Call from workers to\n\t * use a registry/registries other than the default global registry.\n\t * @param {Array<Registry>|Registry} regs Registry or registries to be\n\t *   aggregated.\n\t * @return {void}\n\t */\n\tstatic setRegistries(regs) {\n\t\tif (!Array.isArray(regs)) regs = [regs];\n\t\tregs.forEach(reg => {\n\t\t\tif (!(reg instanceof Registry)) {\n\t\t\t\tthrow new TypeError(`Expected Registry, got ${typeof reg}`);\n\t\t\t}\n\t\t});\n\t\tregistries = regs;\n\t}\n}\n\n/**\n * Adds event listeners for cluster aggregation. Idempotent (safe to call more\n * than once).\n * @return {void}\n */\nfunction addListeners() {\n\tif (listenersAdded) return;\n\tlistenersAdded = true;\n\n\tif (cluster().isMaster) {\n\t\t// Listen for worker responses to requests for local metrics\n\t\tcluster().on('message', (worker, message) => {\n\t\t\tif (message.type === GET_METRICS_RES) {\n\t\t\t\tconst request = requests.get(message.requestId);\n\n\t\t\t\tif (message.error) {\n\t\t\t\t\trequest.done(new Error(message.error));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tmessage.metrics.forEach(registry => request.responses.push(registry));\n\t\t\t\trequest.pending--;\n\n\t\t\t\tif (request.pending === 0) {\n\t\t\t\t\t// finalize\n\t\t\t\t\trequests.delete(message.requestId);\n\t\t\t\t\tclearTimeout(request.errorTimeout);\n\n\t\t\t\t\tconst registry = AggregatorRegistry.aggregate(request.responses);\n\t\t\t\t\tconst promString = registry.metrics();\n\t\t\t\t\trequest.done(null, promString);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tif (cluster().isWorker) {\n\t\t// Respond to master's requests for worker's local metrics.\n\t\tprocess.on('message', message => {\n\t\t\tif (message.type === GET_METRICS_REQ) {\n\t\t\t\tPromise.all(registries.map(r => r.getMetricsAsJSON()))\n\t\t\t\t\t.then(metrics => {\n\t\t\t\t\t\tprocess.send({\n\t\t\t\t\t\t\ttype: GET_METRICS_RES,\n\t\t\t\t\t\t\trequestId: message.requestId,\n\t\t\t\t\t\t\tmetrics,\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tprocess.send({\n\t\t\t\t\t\t\ttype: GET_METRICS_RES,\n\t\t\t\t\t\t\trequestId: message.requestId,\n\t\t\t\t\t\t\terror: error.message,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = AggregatorRegistry;\n","/**\n * Prometheus client\n * @module Prometheus client\n */\n\n'use strict';\n\nexports.register = require('./lib/registry').globalRegistry;\nexports.Registry = require('./lib/registry');\nObject.defineProperty(exports, 'contentType', {\n\tconfigurable: false,\n\tenumerable: true,\n\tget() {\n\t\treturn exports.register.contentType;\n\t},\n\tset(value) {\n\t\texports.register.setContentType(value);\n\t},\n});\nexports.prometheusContentType = exports.Registry.PROMETHEUS_CONTENT_TYPE;\nexports.openMetricsContentType = exports.Registry.OPENMETRICS_CONTENT_TYPE;\nexports.validateMetricName = require('./lib/validation').validateMetricName;\n\nexports.Counter = require('./lib/counter');\nexports.Gauge = require('./lib/gauge');\nexports.Histogram = require('./lib/histogram');\nexports.Summary = require('./lib/summary');\nexports.Pushgateway = require('./lib/pushgateway');\n\nexports.linearBuckets = require('./lib/bucketGenerators').linearBuckets;\nexports.exponentialBuckets =\n\trequire('./lib/bucketGenerators').exponentialBuckets;\n\nexports.collectDefaultMetrics = require('./lib/defaultMetrics');\n\nexports.aggregators = require('./lib/metricAggregators').aggregators;\nexports.AggregatorRegistry = require('./lib/cluster');\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76]}