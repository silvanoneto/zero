module.exports=[338423,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(933323),e=a.i(887780),f=a.i(294632),g=a.i(493862);function h({proposalId:a,votingAddress:c,onVote:d}){let{data:h,isLoading:i}=(0,e.useReadContract)({address:c,abi:[{name:"getProposal",type:"function",stateMutability:"view",inputs:[{name:"proposalId",type:"uint256"}],outputs:[{name:"id",type:"uint256"},{name:"description",type:"string"},{name:"proposer",type:"address"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"executed",type:"bool"},{name:"canceled",type:"bool"}]}],functionName:"getProposal",args:[a]}),{data:j}=(0,e.useReadContract)({address:c,abi:[{name:"getProposalVotes",type:"function",stateMutability:"view",inputs:[{name:"proposalId",type:"uint256"}],outputs:[{name:"forVotes",type:"uint256"},{name:"againstVotes",type:"uint256"},{name:"abstainVotes",type:"uint256"},{name:"totalVotes",type:"uint256"}]}],functionName:"getProposalVotes",args:[a]});if(i)return(0,b.jsxs)("div",{className:"animate-pulse bg-gray-800 rounded-lg p-6",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-700 rounded w-3/4 mb-4"}),(0,b.jsx)("div",{className:"h-3 bg-gray-700 rounded w-1/2"})]});if(!h||!j)return null;let[k,l,m,n,o,p,q]=h,[r,s,t,u]=j,v=Math.floor(Date.now()/1e3),w=v>=Number(n)&&v<=Number(o)&&!p&&!q,x=v>Number(o),y=Number(u),z=y>0?100*Number(r)/y:0,A=y>0?100*Number(s)/y:0,B=y>0?100*Number(t)/y:0,C="",D="";q?(C="Cancelada",D="bg-gray-500"):p?(C="Executada",D="bg-green-500"):x?(C="Encerrada",D="bg-red-500"):w?(C="Ativa",D="bg-blue-500"):(C="Agendada",D="bg-yellow-500");let E=x?`Encerrada ${(0,f.formatDistanceToNow)(1e3*Number(o),{locale:g.ptBR,addSuffix:!0})}`:`Encerra ${(0,f.formatDistanceToNow)(1e3*Number(o),{locale:g.ptBR,addSuffix:!0})}`;return(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-blue-500 transition-colors",children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold text-white ${D}`,children:C}),(0,b.jsxs)("span",{className:"text-gray-400 text-sm",children:["#",k.toString()]})]}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:l})]})}),(0,b.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,b.jsx)("span",{children:"ðŸ‘¤"}),(0,b.jsx)("span",{children:"Proposto por:"}),(0,b.jsxs)("code",{className:"text-blue-400 font-mono text-xs",children:[m.slice(0,6),"...",m.slice(-4)]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,b.jsx)("span",{children:"â°"}),(0,b.jsx)("span",{children:E})]})]}),(0,b.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"text-green-400 font-semibold",children:"âœ… A Favor"}),(0,b.jsxs)("span",{className:"text-gray-400",children:[r.toString()," votos (",z.toFixed(1),"%)"]})]}),(0,b.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${z}%`}})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"text-red-400 font-semibold",children:"âŒ Contra"}),(0,b.jsxs)("span",{className:"text-gray-400",children:[s.toString()," votos (",A.toFixed(1),"%)"]})]}),(0,b.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-red-500 transition-all duration-500",style:{width:`${A}%`}})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"text-gray-400 font-semibold",children:"âšª AbstenÃ§Ã£o"}),(0,b.jsxs)("span",{className:"text-gray-400",children:[t.toString()," votos (",B.toFixed(1),"%)"]})]}),(0,b.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gray-500 transition-all duration-500",style:{width:`${B}%`}})})]})]}),(0,b.jsxs)("div",{className:"text-center py-2 bg-gray-900 rounded mb-4",children:[(0,b.jsx)("span",{className:"text-gray-400 text-sm",children:"Total de Votos: "}),(0,b.jsx)("span",{className:"text-white font-semibold",children:u.toString()})]}),w&&(0,b.jsx)("button",{onClick:()=>d(a),className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:"ðŸ—³ï¸ Votar nesta Proposta"}),x&&!p&&!q&&(0,b.jsx)("div",{className:"text-center py-3 bg-yellow-900 bg-opacity-30 rounded-lg border border-yellow-700",children:(0,b.jsx)("span",{className:"text-yellow-400 text-sm",children:"â° Aguardando execuÃ§Ã£o"})})]})}var i=a.i(164098),j=a.i(801141);function k({proposalId:a,votingAddress:d,isOpen:e,onClose:f,onSuccess:g}){let[h,k]=(0,c.useState)(null),{data:l,writeContract:m,isPending:n}=(0,i.useWriteContract)(),{isLoading:o,isSuccess:p}=(0,j.useWaitForTransactionReceipt)({hash:l});return(p&&l&&setTimeout(()=>{g(),f(),k(null)},2e3),e)?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 border border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"ðŸ—³ï¸ Registrar Voto"}),(0,b.jsx)("button",{onClick:f,className:"text-gray-400 hover:text-white transition-colors",disabled:n||o,children:"âœ•"})]}),(0,b.jsxs)("div",{className:"mb-6 p-4 bg-gray-800 rounded-lg border border-gray-700",children:[(0,b.jsx)("span",{className:"text-gray-400 text-sm",children:"Proposta"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:["#",a.toString()]})]}),(0,b.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:"Escolha seu voto:"}),[{value:1,label:"A Favor",icon:"âœ…",color:"green",description:"Concordo e aprovo esta proposta"},{value:0,label:"Contra",icon:"âŒ",color:"red",description:"Discordo e rejeito esta proposta"},{value:2,label:"AbstenÃ§Ã£o",icon:"âšª",color:"gray",description:"Neutro, nÃ£o tomo posiÃ§Ã£o"}].map(a=>(0,b.jsx)("button",{onClick:()=>k(a.value),disabled:n||o,className:`w-full p-4 rounded-lg border-2 transition-all ${h===a.value?`border-${a.color}-500 bg-${a.color}-500 bg-opacity-20`:"border-gray-700 hover:border-gray-600"} ${n||o?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:a.icon}),(0,b.jsxs)("div",{className:"flex-1 text-left",children:[(0,b.jsx)("div",{className:`font-semibold ${"green"===a.color?"text-green-400":"red"===a.color?"text-red-400":"text-gray-400"}`,children:a.label}),(0,b.jsx)("div",{className:"text-gray-500 text-sm",children:a.description})]}),h===a.value&&(0,b.jsx)("span",{className:"text-blue-500",children:"âœ“"})]})},a.value))]}),n&&(0,b.jsx)("div",{className:"mb-4 p-4 bg-blue-900 bg-opacity-30 rounded-lg border border-blue-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"}),(0,b.jsx)("span",{className:"text-blue-400",children:"Aguardando confirmaÃ§Ã£o da wallet..."})]})}),o&&(0,b.jsx)("div",{className:"mb-4 p-4 bg-yellow-900 bg-opacity-30 rounded-lg border border-yellow-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-yellow-500"}),(0,b.jsx)("span",{className:"text-yellow-400",children:"Processando transaÃ§Ã£o..."})]})}),p&&(0,b.jsx)("div",{className:"mb-4 p-4 bg-green-900 bg-opacity-30 rounded-lg border border-green-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-green-500 text-xl",children:"âœ“"}),(0,b.jsx)("span",{className:"text-green-400",children:"Voto registrado com sucesso!"})]})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:f,disabled:n||o,className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),(0,b.jsx)("button",{onClick:()=>{null!==h&&m({address:d,abi:[{name:"vote",type:"function",stateMutability:"nonpayable",inputs:[{name:"proposalId",type:"uint256"},{name:"support",type:"uint8"}],outputs:[]}],functionName:"vote",args:[a,h]})},disabled:null===h||n||o,className:"flex-1 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n||o?"Processando...":"Confirmar Voto"})]}),(0,b.jsx)("div",{className:"mt-4 p-3 bg-gray-800 rounded text-sm text-gray-400",children:(0,b.jsx)("p",{children:"ðŸ’¡ Dica: Seu voto serÃ¡ registrado publicamente na blockchain e nÃ£o poderÃ¡ ser alterado."})})]})}):null}function l({votingAddress:a}){let{data:c}=(0,e.useReadContract)({address:a,abi:[{name:"proposalCount",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]}],functionName:"proposalCount"}),{data:d}=(0,e.useReadContract)({address:a,abi:[{name:"quorum",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]}],functionName:"quorum"}),{data:f}=(0,e.useReadContract)({address:a,abi:[{name:"votingPeriod",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]}],functionName:"votingPeriod"}),g=[{label:"Total de Propostas",value:c?.toString()||"0",icon:"ðŸ“‹",color:"blue"},{label:"Quorum NecessÃ¡rio",value:d?`${d.toString()}%`:"0%",icon:"âœ“",color:"green"},{label:"PerÃ­odo de VotaÃ§Ã£o",value:f?`${Number(f)/86400} dias`:"0 dias",icon:"â°",color:"purple"}];return(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:g.map(a=>(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-2xl",children:a.icon}),(0,b.jsx)("span",{className:`text-3xl font-bold ${"blue"===a.color?"text-blue-400":"green"===a.color?"text-green-400":"text-purple-400"}`,children:a.value})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:a.label})]},a.label))})}function m(){let{address:a,isConnected:e}=(0,d.useAccount)(),[f,g]=(0,c.useState)(null),[i,j]=(0,c.useState)(0),m="0x...",n=a=>{e?g(a):alert("Por favor, conecte sua wallet primeiro!")};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-900 to-purple-900 border-b border-gray-700",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("a",{href:"/",className:"inline-flex items-center space-x-2 px-4 py-2 bg-gray-800 text-gray-300 rounded-lg border border-gray-700 hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,b.jsx)("span",{className:"font-medium",children:"Voltar ao Cybersyn 2.0"})]})}),(0,b.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"ðŸ—³ï¸ Sistema de VotaÃ§Ã£o Federal"}),(0,b.jsx)("p",{className:"text-gray-300 text-lg",children:"GovernanÃ§a descentralizada da RevoluÃ§Ã£o CibernÃ©tica"})]})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[!e&&(0,b.jsx)("div",{className:"mb-8 bg-yellow-900 bg-opacity-30 border border-yellow-700 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:"âš ï¸"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-yellow-400 font-semibold",children:"Wallet nÃ£o conectada"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Conecte sua wallet no canto superior direito para votar nas propostas."})]})]})}),(0,b.jsx)(l,{votingAddress:m}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4 text-blue-400",children:"ðŸ“– Como Funciona"}),(0,b.jsxs)("ul",{className:"space-y-3 text-gray-300",children:[(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-green-500 mt-1",children:"âœ“"}),(0,b.jsx)("span",{children:"Qualquer membro pode criar propostas"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-green-500 mt-1",children:"âœ“"}),(0,b.jsx)("span",{children:"PerÃ­odo de votaÃ§Ã£o de 7 dias"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-green-500 mt-1",children:"âœ“"}),(0,b.jsx)("span",{children:"Quorum de 10% para aprovaÃ§Ã£o"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-green-500 mt-1",children:"âœ“"}),(0,b.jsx)("span",{children:"Integrado com sistema de mitose"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4 text-green-400",children:"ðŸŽ¯ Tipos de Voto"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:"âœ…"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-green-400 font-semibold",children:"A Favor"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Aprovo esta proposta"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:"âŒ"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-red-400 font-semibold",children:"Contra"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Rejeito esta proposta"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:"âšª"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 font-semibold",children:"AbstenÃ§Ã£o"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"NÃ£o tomo posiÃ§Ã£o"})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4 text-purple-400",children:"ðŸ”„ IntegraÃ§Ã£o Mitose"}),(0,b.jsx)("p",{className:"text-gray-300 mb-4",children:"Ao votar, sua atividade Ã© registrada automaticamente no sistema de mitose."}),(0,b.jsxs)("ul",{className:"space-y-2 text-gray-400 text-sm",children:[(0,b.jsx)("li",{children:"â€¢ MantÃ©m membros ativos atualizados"}),(0,b.jsx)("li",{children:"â€¢ Contribui para estatÃ­sticas da DAO"}),(0,b.jsx)("li",{children:"â€¢ Influencia decisÃµes de divisÃ£o"})]}),(0,b.jsx)("a",{href:"/dao-mitosis",className:"mt-4 inline-block text-purple-400 hover:underline",children:"Ver Sistema de Mitose â†’"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"ðŸ“‹ Propostas Ativas"}),(0,b.jsx)("button",{onClick:()=>j(a=>a+1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:"ðŸ”„ Atualizar"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1n,2n,3n,4n,5n].map(a=>(0,b.jsx)(h,{proposalId:a,votingAddress:m,onVote:n},a.toString()))},i)]}),(0,b.jsxs)("div",{className:"mt-8 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-300",children:"ðŸ“‹ InformaÃ§Ãµes do Contrato"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"EndereÃ§o:"}),(0,b.jsx)("code",{className:"text-blue-400 font-mono break-all",children:m})]}),(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Network:"}),(0,b.jsx)("span",{className:"text-gray-300",children:"Localhost"})]})]})]})]}),f&&(0,b.jsx)(k,{proposalId:f,votingAddress:m,isOpen:!0,onClose:()=>g(null),onSuccess:()=>{j(a=>a+1)}})]})}a.s(["default",()=>m],338423)}];

//# sourceMappingURL=src_app_federation-voting_page_tsx_0a2970d4._.js.map