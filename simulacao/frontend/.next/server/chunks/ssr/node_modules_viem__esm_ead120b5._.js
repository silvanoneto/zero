module.exports=[421844,a=>{"use strict";a.s(["serializeAuthorizationList",()=>d]);var b=a.i(221570),c=a.i(372092);function d(a){if(!a||0===a.length)return[];let d=[];for(let e of a){let{chainId:a,nonce:f,...g}=e,h=e.address;d.push([a?(0,b.toHex)(a):"0x",h,f?(0,b.toHex)(f):"0x",...(0,c.toYParitySignatureArray)({},g)])}return d}},627044,a=>{"use strict";var b=a.i(442748),c=a.i(283678),d=a.i(476705),e=a.i(185228),f=a.i(660847),g=a.i(407907),h=a.i(762940),i=a.i(540302),j=a.i(466323),k=a.i(323360),l=a.i(74116);function m(a){let{authorizationList:b}=a;if(b)for(let a of b){let{chainId:b}=a,c=a.address;if(!(0,i.isAddress)(c))throw new d.InvalidAddressError({address:c});if(b<0)throw new g.InvalidChainIdError({chainId:b})}o(a)}function n(a){let{blobVersionedHashes:c}=a;if(c){if(0===c.length)throw new f.EmptyBlobError;for(let a of c){let c=(0,j.size)(a),d=(0,l.hexToNumber)((0,k.slice)(a,0,1));if(32!==c)throw new f.InvalidVersionedHashSizeError({hash:a,size:c});if(d!==b.versionedHashVersionKzg)throw new f.InvalidVersionedHashVersionError({hash:a,version:d})}}o(a)}function o(a){let{chainId:b,maxPriorityFeePerGas:e,maxFeePerGas:f,to:j}=a;if(b<=0)throw new g.InvalidChainIdError({chainId:b});if(j&&!(0,i.isAddress)(j))throw new d.InvalidAddressError({address:j});if(f&&f>c.maxUint256)throw new h.FeeCapTooHighError({maxFeePerGas:f});if(e&&f&&e>f)throw new h.TipAboveFeeCapError({maxFeePerGas:f,maxPriorityFeePerGas:e})}function p(a){let{chainId:b,maxPriorityFeePerGas:f,gasPrice:j,maxFeePerGas:k,to:l}=a;if(b<=0)throw new g.InvalidChainIdError({chainId:b});if(l&&!(0,i.isAddress)(l))throw new d.InvalidAddressError({address:l});if(f||k)throw new e.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(j&&j>c.maxUint256)throw new h.FeeCapTooHighError({maxFeePerGas:j})}function q(a){let{chainId:b,maxPriorityFeePerGas:f,gasPrice:j,maxFeePerGas:k,to:l}=a;if(l&&!(0,i.isAddress)(l))throw new d.InvalidAddressError({address:l});if(void 0!==b&&b<=0)throw new g.InvalidChainIdError({chainId:b});if(f||k)throw new e.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(j&&j>c.maxUint256)throw new h.FeeCapTooHighError({maxFeePerGas:j})}a.s(["assertTransactionEIP1559",()=>o,"assertTransactionEIP2930",()=>p,"assertTransactionEIP4844",()=>n,"assertTransactionEIP7702",()=>m,"assertTransactionLegacy",()=>q])},372092,177057,a=>{"use strict";a.s(["serializeTransaction",()=>q,"toYParitySignatureArray",()=>r],372092);var b=a.i(58433),c=a.i(421844),d=a.i(901024),e=a.i(259397),f=a.i(969109),g=a.i(260494),h=a.i(429664),i=a.i(946294),j=a.i(221570),k=a.i(521045),l=a.i(627044),m=a.i(340126),n=a.i(476705),o=a.i(540302);function p(a){if(!a||0===a.length)return[];let c=[];for(let d=0;d<a.length;d++){let{address:e,storageKeys:f}=a[d];for(let a=0;a<f.length;a++)if(f[a].length-2!=64)throw new b.InvalidStorageKeySizeError({storageKey:f[a]});if(!(0,o.isAddress)(e,{strict:!1}))throw new n.InvalidAddressError({address:e});c.push([e,f])}return c}function q(a,n){let o=(0,m.getTransactionType)(a);return"eip1559"===o?function(a,b){let{chainId:c,gas:d,nonce:e,to:f,value:g,maxFeePerGas:i,maxPriorityFeePerGas:m,accessList:n,data:o}=a;(0,l.assertTransactionEIP1559)(a);let q=p(n),s=[(0,j.numberToHex)(c),e?(0,j.numberToHex)(e):"0x",m?(0,j.numberToHex)(m):"0x",i?(0,j.numberToHex)(i):"0x",d?(0,j.numberToHex)(d):"0x",f??"0x",g?(0,j.numberToHex)(g):"0x",o??"0x",q,...r(a,b)];return(0,h.concatHex)(["0x02",(0,k.toRlp)(s)])}(a,n):"eip2930"===o?function(a,b){let{chainId:c,gas:d,data:e,nonce:f,to:g,value:i,accessList:m,gasPrice:n}=a;(0,l.assertTransactionEIP2930)(a);let o=p(m),q=[(0,j.numberToHex)(c),f?(0,j.numberToHex)(f):"0x",n?(0,j.numberToHex)(n):"0x",d?(0,j.numberToHex)(d):"0x",g??"0x",i?(0,j.numberToHex)(i):"0x",e??"0x",o,...r(a,b)];return(0,h.concatHex)(["0x01",(0,k.toRlp)(q)])}(a,n):"eip4844"===o?function(a,b){let{chainId:c,gas:i,nonce:m,to:n,value:o,maxFeePerBlobGas:q,maxFeePerGas:s,maxPriorityFeePerGas:t,accessList:u,data:v}=a;(0,l.assertTransactionEIP4844)(a);let w=a.blobVersionedHashes,x=a.sidecars;if(a.blobs&&(void 0===w||void 0===x)){let b="string"==typeof a.blobs[0]?a.blobs:a.blobs.map(a=>(0,j.bytesToHex)(a)),c=a.kzg,h=(0,d.blobsToCommitments)({blobs:b,kzg:c});if(void 0===w&&(w=(0,f.commitmentsToVersionedHashes)({commitments:h})),void 0===x){let a=(0,e.blobsToProofs)({blobs:b,commitments:h,kzg:c});x=(0,g.toBlobSidecars)({blobs:b,commitments:h,proofs:a})}}let y=p(u),z=[(0,j.numberToHex)(c),m?(0,j.numberToHex)(m):"0x",t?(0,j.numberToHex)(t):"0x",s?(0,j.numberToHex)(s):"0x",i?(0,j.numberToHex)(i):"0x",n??"0x",o?(0,j.numberToHex)(o):"0x",v??"0x",y,q?(0,j.numberToHex)(q):"0x",w??[],...r(a,b)],A=[],B=[],C=[];if(x)for(let a=0;a<x.length;a++){let{blob:b,commitment:c,proof:d}=x[a];A.push(b),B.push(c),C.push(d)}return(0,h.concatHex)(["0x03",x?(0,k.toRlp)([z,A,B,C]):(0,k.toRlp)(z)])}(a,n):"eip7702"===o?function(a,b){let{authorizationList:d,chainId:e,gas:f,nonce:g,to:i,value:m,maxFeePerGas:n,maxPriorityFeePerGas:o,accessList:q,data:s}=a;(0,l.assertTransactionEIP7702)(a);let t=p(q),u=(0,c.serializeAuthorizationList)(d);return(0,h.concatHex)(["0x04",(0,k.toRlp)([(0,j.numberToHex)(e),g?(0,j.numberToHex)(g):"0x",o?(0,j.numberToHex)(o):"0x",n?(0,j.numberToHex)(n):"0x",f?(0,j.numberToHex)(f):"0x",i??"0x",m?(0,j.numberToHex)(m):"0x",s??"0x",t,u,...r(a,b)])])}(a,n):function(a,c){let{chainId:d=0,gas:e,data:f,nonce:g,to:h,value:m,gasPrice:n}=a;(0,l.assertTransactionLegacy)(a);let o=[g?(0,j.numberToHex)(g):"0x",n?(0,j.numberToHex)(n):"0x",e?(0,j.numberToHex)(e):"0x",h??"0x",m?(0,j.numberToHex)(m):"0x",f??"0x"];if(c){let a=(()=>{if(c.v>=35n)return(c.v-35n)/2n>0?c.v:27n+(35n===c.v?0n:1n);if(d>0)return BigInt(2*d)+BigInt(35n+c.v-27n);let a=27n+(27n===c.v?0n:1n);if(c.v!==a)throw new b.InvalidLegacyVError({v:c.v});return a})(),e=(0,i.trim)(c.r),f=(0,i.trim)(c.s);o=[...o,(0,j.numberToHex)(a),"0x00"===e?"0x":e,"0x00"===f?"0x":f]}else d>0&&(o=[...o,(0,j.numberToHex)(d),"0x","0x"]);return(0,k.toRlp)(o)}(a,n)}function r(a,b){let c=b??a,{v:d,yParity:e}=c;if(void 0===c.r||void 0===c.s||void 0===d&&void 0===e)return[];let f=(0,i.trim)(c.r),g=(0,i.trim)(c.s);return["number"==typeof e?e?(0,j.numberToHex)(1):"0x":0n===d?"0x":1n===d?(0,j.numberToHex)(1):27n===d?"0x":(0,j.numberToHex)(1),"0x00"===f?"0x":f,"0x00"===g?"0x":g]}a.s(["serializeAccessList",()=>p],177057)},584617,778494,a=>{"use strict";var b=a.i(682827),c=a.i(600528),d=a.i(221570);async function e(a,{chain:b}){let{id:c,name:e,nativeCurrency:f,rpcUrls:g,blockExplorers:h}=b;await a.request({method:"wallet_addEthereumChain",params:[{chainId:(0,d.numberToHex)(c),chainName:e,nativeCurrency:f,rpcUrls:g.default.http,blockExplorerUrls:h?Object.values(h).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}var f=a.i(526540),g=a.i(567218),h=a.i(116330);async function i(a){return a.account?.type==="local"?[a.account.address]:(await a.request({method:"eth_accounts"},{dedupe:!0})).map(a=>(0,h.checksumAddress)(a))}var j=a.i(130573),k=a.i(134510);async function l(a,b={}){let{account:c=a.account,chainId:e}=b,f=c?(0,k.parseAccount)(c):void 0,g=e?[f?.address,[(0,d.numberToHex)(e)]]:[f?.address],h=await a.request({method:"wallet_getCapabilities",params:g}),i={};for(let[a,b]of Object.entries(h))for(let[c,d]of(i[Number(a)]={},Object.entries(b)))"addSubAccount"===c&&(c="unstable_addSubAccount"),i[Number(a)][c]=d;return"number"==typeof e?i[e]:i}async function m(a){return await a.request({method:"wallet_getPermissions"},{dedupe:!0})}var n=a.i(742031),o=a.i(366451);async function p(a){return(await a.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(a=>(0,h.getAddress)(a))}async function q(a,b){return a.request({method:"wallet_requestPermissions",params:[b]},{retryCount:0})}var r=a.i(486007),s=a.i(526629);async function t(a,b){let{chain:c=a.chain}=b,d=b.timeout??Math.max((c?.blockTime??0)*3,5e3),e=await (0,r.sendCalls)(a,b);return await (0,s.waitForCallsStatus)(a,{...b,id:e.id,timeout:d})}var u=a.i(158413),v=a.i(578396),w=a.i(770548),x=a.i(185228),y=a.i(58433),z=a.i(420419),A=a.i(88963),B=a.i(197693),C=a.i(216200),D=a.i(637998),E=a.i(709987),F=a.i(954170),G=a.i(745914),H=a.i(213890);let I=new F.LruMap(128);async function J(a,b){let{account:d=a.account,chain:e=a.chain,accessList:f,authorizationList:g,blobs:h,data:i,gas:j,gasPrice:l,maxFeePerBlobGas:m,maxFeePerGas:n,maxPriorityFeePerGas:p,nonce:q,pollingInterval:r,throwOnReceiptRevert:s,type:t,value:u,...F}=b,J=b.timeout??Math.max((e?.blockTime??0)*3,5e3);if(void 0===d)throw new w.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransactionSync"});let K=d?(0,k.parseAccount)(d):null;try{(0,G.assertRequest)(b);let d=await (async()=>b.to?b.to:null!==b.to&&g&&g.length>0?await (0,z.recoverAuthorizationAddress)({authorization:g[0]}).catch(()=>{throw new x.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(K?.type==="json-rpc"||null===K){let b;null!==e&&(b=await (0,E.getAction)(a,c.getChainId,"getChainId")({}),(0,A.assertCurrentChain)({currentChainId:b,chain:e}));let k=a.chain?.formatters?.transactionRequest?.format,o=(k||D.formatTransactionRequest)({...(0,C.extract)(F,{format:k}),accessList:f,account:K,authorizationList:g,blobs:h,chainId:b,data:i,gas:j,gasPrice:l,maxFeePerBlobGas:m,maxFeePerGas:n,maxPriorityFeePerGas:p,nonce:q,to:d,type:t,value:u},"sendTransaction"),v=I.get(a.uid),w=v?"wallet_sendTransaction":"eth_sendTransaction",x=await (async()=>{try{return await a.request({method:w,params:[o]},{retryCount:0})}catch(b){if(!1===v)throw b;if("InvalidInputRpcError"===b.name||"InvalidParamsRpcError"===b.name||"MethodNotFoundRpcError"===b.name||"MethodNotSupportedRpcError"===b.name)return await a.request({method:"wallet_sendTransaction",params:[o]},{retryCount:0}).then(b=>(I.set(a.uid,!0),b)).catch(c=>{if("MethodNotFoundRpcError"===c.name||"MethodNotSupportedRpcError"===c.name)throw I.set(a.uid,!1),b;throw c});throw b}})(),z=await (0,E.getAction)(a,H.waitForTransactionReceipt,"waitForTransactionReceipt")({checkReplacement:!1,hash:x,pollingInterval:r,timeout:J});if(s&&"reverted"===z.status)throw new y.TransactionReceiptRevertedError({receipt:z});return z}if(K?.type==="local"){let b=await (0,E.getAction)(a,o.prepareTransactionRequest,"prepareTransactionRequest")({account:K,accessList:f,authorizationList:g,blobs:h,chain:e,data:i,gas:j,gasPrice:l,maxFeePerBlobGas:m,maxFeePerGas:n,maxPriorityFeePerGas:p,nonce:q,nonceManager:K.nonceManager,parameters:[...o.defaultParameters,"sidecars"],type:t,value:u,...F,to:d}),c=e?.serializers?.transaction,k=await K.signTransaction(b,{serializer:c});return await (0,E.getAction)(a,v.sendRawTransactionSync,"sendRawTransactionSync")({serializedTransaction:k,throwOnReceiptRevert:s})}if(K?.type==="smart")throw new w.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new w.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransactionSync",type:K?.type})}catch(a){if(a instanceof w.AccountTypeNotSupportedError)throw a;throw(0,B.getTransactionError)(a,{...b,account:K,chain:b.chain||void 0})}}async function K(a,b){let{id:c}=b;await a.request({method:"wallet_showCallsStatus",params:[c]})}async function L(a,b){let{account:c=a.account}=b;if(!c)throw new w.AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});let d=(0,k.parseAccount)(c);if(!d.signAuthorization)throw new w.AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:d.type});let e=await (0,n.prepareAuthorization)(a,b);return d.signAuthorization(e)}var M=a.i(553033);async function N(a,b){let{account:e=a.account,chain:f=a.chain,...g}=b;if(!e)throw new w.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});let h=(0,k.parseAccount)(e);(0,G.assertRequest)({account:h,...b});let i=await (0,E.getAction)(a,c.getChainId,"getChainId")({});null!==f&&(0,A.assertCurrentChain)({currentChainId:i,chain:f});let j=f?.formatters||a.chain?.formatters,l=j?.transactionRequest?.format||D.formatTransactionRequest;return h.signTransaction?h.signTransaction({...g,chainId:i},{serializer:a.chain?.serializers?.transaction}):await a.request({method:"eth_signTransaction",params:[{...l({...g,account:h},"signTransaction"),chainId:(0,d.numberToHex)(i),from:h.address}]},{retryCount:0})}var O=a.i(126982);async function P(a,b){let{account:c=a.account,domain:d,message:e,primaryType:f}=b;if(!c)throw new w.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});let g=(0,k.parseAccount)(c),h={EIP712Domain:(0,O.getTypesForEIP712Domain)({domain:d}),...b.types};if((0,O.validateTypedData)({domain:d,message:e,primaryType:f,types:h}),g.signTypedData)return g.signTypedData({domain:d,message:e,primaryType:f,types:h});let i=(0,O.serializeTypedData)({domain:d,message:e,primaryType:f,types:h});return a.request({method:"eth_signTypedData_v4",params:[g.address,i]},{retryCount:0})}async function Q(a,{id:b}){await a.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,d.numberToHex)(b)}]},{retryCount:0})}async function R(a,b){return await a.request({method:"wallet_watchAsset",params:b},{retryCount:0})}var S=a.i(854723);async function T(a,b){return S.writeContract.internal(a,J,"sendTransactionSync",b)}function U(a){return{addChain:b=>e(a,b),deployContract:b=>(function(a,b){let{abi:c,args:d,bytecode:e,...h}=b,i=(0,f.encodeDeployData)({abi:c,args:d,bytecode:e});return(0,g.sendTransaction)(a,{...h,...h.authorizationList?{to:null}:{},data:i})})(a,b),getAddresses:()=>i(a),getCallsStatus:b=>(0,j.getCallsStatus)(a,b),getCapabilities:b=>l(a,b),getChainId:()=>(0,c.getChainId)(a),getPermissions:()=>m(a),prepareAuthorization:b=>(0,n.prepareAuthorization)(a,b),prepareTransactionRequest:b=>(0,o.prepareTransactionRequest)(a,b),requestAddresses:()=>p(a),requestPermissions:b=>q(a,b),sendCalls:b=>(0,r.sendCalls)(a,b),sendCallsSync:b=>t(a,b),sendRawTransaction:b=>(0,u.sendRawTransaction)(a,b),sendRawTransactionSync:b=>(0,v.sendRawTransactionSync)(a,b),sendTransaction:b=>(0,g.sendTransaction)(a,b),sendTransactionSync:b=>J(a,b),showCallsStatus:b=>K(a,b),signAuthorization:b=>L(a,b),signMessage:b=>(0,M.signMessage)(a,b),signTransaction:b=>N(a,b),signTypedData:b=>P(a,b),switchChain:b=>Q(a,b),waitForCallsStatus:b=>(0,s.waitForCallsStatus)(a,b),watchAsset:b=>R(a,b),writeContract:b=>(0,S.writeContract)(a,b),writeContractSync:b=>T(a,b)}}function V(a){let{key:c="wallet",name:d="Wallet Client",transport:e}=a;return(0,b.createClient)({...a,key:c,name:d,transport:e,type:"walletClient"}).extend(U)}a.s(["walletActions",()=>U],778494),a.s(["createWalletClient",()=>V],584617)}];

//# sourceMappingURL=node_modules_viem__esm_ead120b5._.js.map