module.exports=[121392,a=>{"use strict";var b=a.i(762940),c=a.i(282271),d=a.i(641885),e=a.i(259536);function f(a,b={}){let{key:c="fallback",name:h="Fallback",rank:i=!1,shouldThrow:j=g,retryCount:k,retryDelay:l}=b;return({chain:b,pollingInterval:f=4e3,timeout:g,...m})=>{let n=a,o=()=>{},p=(0,e.createTransport)({key:c,name:h,async request({method:a,params:c}){let d,e=async(f=0)=>{let h=n[f]({...m,chain:b,retryCount:0,timeout:g});try{let b=await h.request({method:a,params:c});return o({method:a,params:c,response:b,transport:h,status:"success"}),b}catch(g){if(o({error:g,method:a,params:c,transport:h,status:"error"}),j(g)||f===n.length-1||!(d??=n.slice(f+1).some(c=>{let{include:d,exclude:e}=c({chain:b}).config.methods||{};return d?d.includes(a):!e||!e.includes(a)})))throw g;return e(f+1)}};return e()},retryCount:k,retryDelay:l,type:"fallback"},{onResponse:a=>o=a,transports:n.map(a=>a({chain:b,retryCount:0}))});if(i){let a="object"==typeof i?i:{};!function({chain:a,interval:b=4e3,onTransports:c,ping:e,sampleCount:f=10,timeout:g=1e3,transports:h,weights:i={}}){let{stability:j=.7,latency:k=.3}=i,l=[],m=async()=>{let i=await Promise.all(h.map(async b=>{let c,d,f=b({chain:a,retryCount:0,timeout:g}),h=Date.now();try{await (e?e({transport:f}):f.request({method:"net_listening"})),d=1}catch{d=0}finally{c=Date.now()}return{latency:c-h,success:d}}));l.push(i),l.length>f&&l.shift();let n=Math.max(...l.map(a=>Math.max(...a.map(({latency:a})=>a))));c(h.map((a,b)=>{let c=l.map(a=>a[b].latency),d=c.reduce((a,b)=>a+b,0)/c.length,e=l.map(a=>a[b].success),f=e.reduce((a,b)=>a+b,0)/e.length;return 0===f?[0,b]:[k*(1-d/n)+j*f,b]}).sort((a,b)=>b[0]-a[0]).map(([,a])=>h[a])),await (0,d.wait)(b),m()};m()}({chain:b,interval:a.interval??f,onTransports:a=>n=a,ping:a.ping,sampleCount:a.sampleCount,timeout:a.timeout,transports:n,weights:a.weights})}return p}}function g(a){return!!("code"in a&&"number"==typeof a.code&&(a.code===c.TransactionRejectedRpcError.code||a.code===c.UserRejectedRequestError.code||b.ExecutionRevertedError.nodeMessage.test(a.message)||5e3===a.code))}a.s(["fallback",()=>f,"shouldThrow",()=>g])},37252,a=>{"use strict";var b=a.i(252271),c=a.i(129286),d=a.i(929581),e=a.i(94702);let f=(0,b.proxy)({message:"",variant:"info",open:!1}),g=(0,d.withErrorBoundary)({state:f,subscribeKey:(a,b)=>(0,c.subscribeKey)(f,a,b),open(a,b){let{debug:c}=e.OptionsController.state,{code:d,displayMessage:g,debugMessage:h}=a;g&&c&&(f.message=g,f.variant=b,f.open=!0),h&&console.error("function"==typeof h?h():h,d?{code:d}:void 0)},warn(a,b,c){f.open=!0,f.message=a,f.variant="warning",b&&console.warn(b,c)},close(){f.open=!1,f.message="",f.variant="info"}});a.s(["AlertController",0,g])},720214,a=>{"use strict";a.i(109260);var b=a.i(883148),c=a.i(922848),d=a.i(83965),e=a.i(602383),f=a.i(346280),g=a.i(109450),h=a.i(242528),i=a.i(786183),j=a.i(94702),k=a.i(667625),l=a.i(531657),m=a.i(435044),n=a.i(135323);let o=null,p={getSIWX:()=>j.OptionsController.state.siwx,async initializeIfEnabled(a=e.ChainController.getActiveCaipAddress()){let b=j.OptionsController.state.siwx;if(!(b&&a))return;let[c,d,g]=a.split(":");if(e.ChainController.checkIfSupportedNetwork(c,`${c}:${d}`))try{if(j.OptionsController.state.remoteFeatures?.emailCapture){let a=e.ChainController.getAccountData(c)?.user;await i.ModalController.open({view:"DataCapture",data:{email:a?.email??void 0}});return}if(o&&await o,(await b.getSessions(`${c}:${d}`,g)).length)return;await i.ModalController.open({view:"SIWXSignMessage"})}catch(a){console.error("SIWXUtil:initializeIfEnabled",a),h.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(a)}),await f.ConnectionController._getClient()?.disconnect().catch(console.error),k.RouterController.reset("Connect"),l.SnackController.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(a=e.ChainController.getActiveCaipAddress()){if(!j.OptionsController.state.siwx||!a)return!0;let{chainNamespace:b,chainId:d,address:f}=c.ParseUtil.parseCaipAddress(a),g=`${b}:${d}`;return(await p.getSessions({address:f,caipNetworkId:g})).length>0},async requestSignMessage(){let a=j.OptionsController.state.siwx,c=n.CoreHelperUtil.getPlainAddress(e.ChainController.getActiveCaipAddress()),d=(0,m.getActiveCaipNetwork)(),o=f.ConnectionController._getClient();if(!a)throw Error("SIWX is not enabled");if(!c)throw Error("No ActiveCaipAddress found");if(!d)throw Error("No ActiveCaipNetwork or client found");if(!o)throw Error("No ConnectionController client found");try{let f=await a.createMessage({chainId:d.caipNetworkId,accountAddress:c}),j=f.toString();g.ConnectorController.getConnectorId(d.chainNamespace)===b.ConstantsUtil.CONNECTOR_ID.AUTH&&k.RouterController.pushTransactionStack({});let l=await o.signMessage(j);await a.addSession({data:f,message:j,signature:l}),e.ChainController.setLastConnectedSIWECaipNetwork(d),i.ModalController.close(),h.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(a){i.ModalController.state.open&&"ApproveTransaction"!==k.RouterController.state.view||await i.ModalController.open({view:"SIWXSignMessage"}),l.SnackController.showError("Error signing message"),h.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(a)}),console.error("SWIXUtil:requestSignMessage",a)}},async cancelSignMessage(){try{let a=this.getSIWX();if(a?.getRequired?.()){let b=e.ChainController.getLastConnectedSIWECaipNetwork();if(b){let c=await a?.getSessions(b?.caipNetworkId,n.CoreHelperUtil.getPlainAddress(e.ChainController.getActiveCaipAddress())||"");c&&c.length>0?await e.ChainController.switchActiveNetwork(b):await f.ConnectionController.disconnect()}else await f.ConnectionController.disconnect()}else i.ModalController.close();i.ModalController.close(),h.EventsController.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(a){console.error("SIWXUtil:cancelSignMessage",a)}},async getAllSessions(){let a=this.getSIWX(),b=e.ChainController.getAllRequestedCaipNetworks(),c=[];return await Promise.all(b.map(async b=>{let d=await a?.getSessions(b.caipNetworkId,n.CoreHelperUtil.getPlainAddress(e.ChainController.getActiveCaipAddress())||"");d&&c.push(...d)})),c},async getSessions(a){let b=j.OptionsController.state.siwx,c=a?.address;if(!c){let a=e.ChainController.getActiveCaipAddress();c=n.CoreHelperUtil.getPlainAddress(a)}let d=a?.caipNetworkId;if(!d){let a=e.ChainController.getActiveCaipNetwork();d=a?.caipNetworkId}return b&&c&&d?b.getSessions(d,c):[]},async isSIWXCloseDisabled(){let a=this.getSIWX();if(a){let b="ApproveTransaction"===k.RouterController.state.view,c="SIWXSignMessage"===k.RouterController.state.view;if(b||c)return a.getRequired?.()&&0===(await this.getSessions()).length}return!1},async authConnectorAuthenticate({authConnector:a,chainId:c,socialUri:d,preferredAccountType:f,chainNamespace:g}){let h=p.getSIWX(),i=(0,m.getActiveCaipNetwork)();if(!h||!g.includes(b.ConstantsUtil.CHAIN.EVM)||j.OptionsController.state.remoteFeatures?.emailCapture){let b=await a.connect({chainId:c,socialUri:d,preferredAccountType:f});return{address:b.address,chainId:b.chainId,accounts:b.accounts}}let k=`${g}:${c}`,l=await h.createMessage({chainId:k,accountAddress:"<<AccountAddress>>"}),n={accountAddress:l.accountAddress,chainId:l.chainId,domain:l.domain,uri:l.uri,version:l.version,nonce:l.nonce,notBefore:l.notBefore,statement:l.statement,resources:l.resources,requestId:l.requestId,issuedAt:l.issuedAt,expirationTime:l.expirationTime,serializedMessage:l.toString()},o=await a.connect({chainId:c,socialUri:d,siwxMessage:n,preferredAccountType:f});if(n.accountAddress=o.address,n.serializedMessage=o.message||"",o.signature&&o.message){let a=p.addEmbeddedWalletSession(n,o.message,o.signature);await a}return e.ChainController.setLastConnectedSIWECaipNetwork(i),{address:o.address,chainId:o.chainId,accounts:o.accounts}},async addEmbeddedWalletSession(a,b,c){if(o)return o;let d=p.getSIWX();return d?o=d.addSession({data:a,message:b,signature:c}).finally(()=>{o=null}):Promise.resolve()},async universalProviderAuthenticate({universalProvider:a,chains:b,methods:c}){let d=p.getSIWX(),f=(0,m.getActiveCaipNetwork)(),g=new Set(b.map(a=>a.split(":")[0]));if(!d||1!==g.size||!g.has("eip155"))return!1;let i=await d.createMessage({chainId:(0,m.getActiveCaipNetwork)()?.caipNetworkId||"",accountAddress:""}),j=await a.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:c,chains:[i.chainId,...b.filter(a=>a!==i.chainId)]});l.SnackController.showLoading("Authenticating...",{autoClose:!1});let k={...j.session.peer.metadata,name:j.session.peer.metadata.name,icon:j.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"};if(e.ChainController.setAccountProp("connectedWalletInfo",k,Array.from(g)[0]),j?.auths?.length){let b=j.auths.map(b=>{let c=a.client.formatAuthMessage({request:b.p,iss:b.p.iss});return{data:{...b.p,accountAddress:b.p.iss.split(":").slice(-1).join(""),chainId:b.p.iss.split(":").slice(2,4).join(":"),uri:b.p.aud,version:b.p.version||i.version,expirationTime:b.p.exp,issuedAt:b.p.iat,notBefore:b.p.nbf},message:c,signature:b.s.s,cacao:b}});try{await d.setSessions(b),f&&e.ChainController.setLastConnectedSIWECaipNetwork(f),h.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:p.getSIWXEventProperties()})}catch(b){throw console.error("SIWX:universalProviderAuth - failed to set sessions",b),h.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:p.getSIWXEventProperties(b)}),await a.disconnect().catch(console.error),b}finally{l.SnackController.hide()}}return!0},getSIWXEventProperties(a){let b=e.ChainController.state.activeChain;if(!b)throw Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:e.ChainController.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:(0,m.getPreferredAccountType)(b)===d.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,message:a?n.CoreHelperUtil.parseError(a):void 0}},async clearSessions(){let a=this.getSIWX();a&&await a.setSessions([])}};a.s(["SIWXUtil",0,p])},74508,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_viem__esm_7b14c64c._.js","server/chunks/ssr/node_modules_viem__esm_index_0bd4f3a2.js","server/chunks/ssr/node_modules_faf9df30._.js"].map(b=>a.l(b))).then(()=>b(104263)))},202490,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_@reown_appkit-controllers_dist_esm_exports_features_38b280af.js"].map(b=>a.l(b))).then(()=>b(867119)))},754163,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_@phosphor-icons_webcomponents_dist_icons_9d25f06b._.js","server/chunks/ssr/node_modules_c284c8f6._.js","server/chunks/ssr/node_modules_cf715607._.js"].map(b=>a.l(b))).then(()=>b(920251)))},524103,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_@phosphor-icons_webcomponents_dist_icons_9d25f06b._.js","server/chunks/ssr/node_modules_@reown_appkit-scaffold-ui_dist_esm_exports_w3m-modal_1597838c.js","server/chunks/ssr/node_modules_c72ebff1._.js"].map(b=>a.l(b))).then(()=>b(625282)))}];

//# sourceMappingURL=node_modules_edf1c323._.js.map