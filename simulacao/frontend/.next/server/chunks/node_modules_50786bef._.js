module.exports=[607727,(e,t,r)=>{"use strict";function n(e,t){if(0===e.length)return"";let r="";for(let n=0;n<e.length;n++){let s=e[n],i=t[s];void 0!==i&&(r+=`${s}:${i},`)}return r}function s(e,t){if(t)return n(t,e);let r=Object.keys(e);return r.length>1&&r.sort(),n(r,e)}r.getValueAsString=function(e){return Number.isNaN(e)?"Nan":Number.isFinite(e)?`${e}`:e<0?"-Inf":"+Inf"},r.removeLabels=function(e,t,r){let n=s(t,r);delete e[n]},r.setValue=function(e,t,r){return e[s(r)]={value:"number"==typeof t?t:0,labels:r||{}},e},r.setValueDelta=function(e,t,r,n=""){let s="number"==typeof t?t:0;return e[n]?e[n].value+=s:e[n]={value:s,labels:r},e},r.getLabels=function(e,t){if("object"==typeof t[0])return t[0];if(e.length!==t.length)throw Error(`Invalid number of arguments (${t.length}): "${t.join(", ")}" for label names (${e.length}): "${e.join(", ")}".`);let r={};for(let n=0;n<e.length;n++)r[e[n]]=t[n];return r},r.hashObject=s,r.isObject=function(e){return null!==e&&"object"==typeof e},r.nowTimestamp=function(){return Date.now()/1e3};class i extends Map{add(e,t){this.has(e)?this.get(e).push(t):this.set(e,[t])}}r.Grouper=i},60479,(e,t,r)=>{"use strict";let{getValueAsString:n}=e.r(607727);class s{static get PROMETHEUS_CONTENT_TYPE(){return"text/plain; version=0.0.4; charset=utf-8"}static get OPENMETRICS_CONTENT_TYPE(){return"application/openmetrics-text; version=1.0.0; charset=utf-8"}constructor(e=s.PROMETHEUS_CONTENT_TYPE){if(this._metrics={},this._collectors=[],this._defaultLabels={},e!==s.PROMETHEUS_CONTENT_TYPE&&e!==s.OPENMETRICS_CONTENT_TYPE)throw TypeError(`Content type ${e} is unsupported`);this._contentType=e}getMetricsAsArray(){return Object.values(this._metrics)}async getMetricsAsString(e){let t="function"==typeof e.getForPromString?await e.getForPromString():await e.get(),r=a(t.name),l=[`# HELP ${r} ${a(t.help)}`,`# TYPE ${r} ${t.type}`],c=Object.keys(this._defaultLabels).length>0?this._defaultLabels:null,u=this.contentType===s.OPENMETRICS_CONTENT_TYPE;for(let e of t.values||[]){let{metricName:s=r,labels:a={}}=e,{sharedLabels:h={}}=e;u&&"counter"===t.type&&(s=`${s}_total`),c&&(a={...a,...c,...a});let p=[...i(a,h),function(e){let t=o.get(e);if(t)return t;let r=i(e).join(",");return o.set(e,r),r}(h)].filter(Boolean),f=p.length?`{${p.join(",")}}`:"",m=`${s}${f} ${n(e.value)}`,{exemplar:d}=e;if(d&&u){let e=i(d.labelSet);m+=` # {${e.join(",")}} ${n(d.value)} ${d.timestamp}`}l.push(m)}return l.join("\n")}async metrics(){let e=this.contentType===s.OPENMETRICS_CONTENT_TYPE,t=this.getMetricsAsArray().map(t=>(e&&"counter"===t.type&&(t.name=t.name.replace(/_total$/,"")),this.getMetricsAsString(t))),r=await Promise.all(t);return e?`${r.join("\n")}
# EOF
`:`${r.join("\n\n")}
`}registerMetric(e){if(this._metrics[e.name]&&this._metrics[e.name]!==e)throw Error(`A metric with the name ${e.name} has already been registered.`);this._metrics[e.name]=e}clear(){this._metrics={},this._defaultLabels={}}async getMetricsAsJSON(){let e=[],t=Object.keys(this._defaultLabels),r=[];for(let e of this.getMetricsAsArray())r.push(e.get());for(let n of(await Promise.all(r))){if(n.values&&t.length>0)for(let e of n.values)for(let r of(e.labels=Object.assign({},e.labels),t))e.labels[r]=e.labels[r]||this._defaultLabels[r];e.push(n)}return e}removeSingleMetric(e){delete this._metrics[e]}getSingleMetricAsString(e){return this.getMetricsAsString(this._metrics[e])}getSingleMetric(e){return this._metrics[e]}setDefaultLabels(e){this._defaultLabels=e}resetMetrics(){for(let e in this._metrics)this._metrics[e].reset()}get contentType(){return this._contentType}setContentType(e){if(e===s.OPENMETRICS_CONTENT_TYPE||e===s.PROMETHEUS_CONTENT_TYPE)this._contentType=e;else throw Error(`Content type ${e} is unsupported`)}static merge(e){let t=e[0].contentType;for(let r of e)if(r.contentType!==t)throw Error("Registers can only be merged if they have the same content type");let r=new s(t);return e.reduce((e,t)=>e.concat(t.getMetricsAsArray()),[]).forEach(r.registerMetric,r),r}}function i(e,t){let{hasOwnProperty:r}=Object.prototype,n=[];for(let[i,o]of Object.entries(e)){var s;t&&r.call(t,i)||n.push(`${i}="${"string"!=typeof(s=o)?s:a(s).replace(/"/g,'\\"')}"`)}return n}let o=new WeakMap;function a(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n")}t.exports=s,t.exports.globalRegistry=new s},169037,(e,t,r)=>{"use strict";let n=e.r(224361),s=/^[a-zA-Z_:][a-zA-Z0-9_:]*$/,i=/^[a-zA-Z_][a-zA-Z0-9_]*$/;r.validateMetricName=function(e){return s.test(e)},r.validateLabelName=function(e=[]){return e.every(e=>i.test(e))},r.validateLabel=function(e,t){for(let r in t)if(!e.includes(r))throw Error(`Added label "${r}" is not included in initial labelset: ${n.inspect(e)}`)}},963808,(e,t,r)=>{"use strict";let n=e.r(60479),{isObject:s}=e.r(607727),{validateMetricName:i,validateLabelName:o}=e.r(169037);t.exports={Metric:class{constructor(e,t={}){if(!s(e))throw TypeError("constructor expected a config object");if(Object.assign(this,{labelNames:[],registers:[n.globalRegistry],aggregator:"sum",enableExemplars:!1},t,e),this.registers||(this.registers=[n.globalRegistry]),!this.help)throw Error("Missing mandatory help parameter");if(!this.name)throw Error("Missing mandatory name parameter");if(!i(this.name))throw Error("Invalid metric name");if(!o(this.labelNames))throw Error("Invalid label name");if(this.collect&&"function"!=typeof this.collect)throw Error('Optional "collect" parameter must be a function');for(const e of(this.labelNames?this.sortedLabelNames=[...this.labelNames].sort():this.sortedLabelNames=[],this.reset(),this.registers)){if(this.enableExemplars&&e.contentType===n.PROMETHEUS_CONTENT_TYPE)throw TypeError("Exemplars are supported only on OpenMetrics registries");e.registerMetric(this)}}reset(){}}}},685087,(e,t,r)=>{"use strict";t.exports=class{constructor(e={},t=null){this.labelSet=e,this.value=t}validateExemplarLabelSet(e){let t="";for(let[r,n]of Object.entries(e))t+=`${r}${n}`;if(t.length>128)throw RangeError("Label set size must be smaller than 128 UTF-8 chars")}}},401537,(e,t,r)=>{"use strict";let n=e.r(224361),{hashObject:s,isObject:i,getLabels:o,removeLabels:a,nowTimestamp:l}=e.r(607727),{validateLabel:c}=e.r(169037),{Metric:u}=e.r(963808),h=e.r(685087);function p(e,t,r={},n=""){return e[n]?e[n].value+=t:e[n]={value:t,labels:r},e}t.exports=class extends u{constructor(e){super(e),this.type="counter",this.defaultLabels={},this.defaultValue=1,this.defaultExemplarLabelSet={},e.enableExemplars?(this.enableExemplars=!0,this.inc=this.incWithExemplar):this.inc=this.incWithoutExemplar}incWithoutExemplar(e,t){let r="";if(i(e)?(r=s(e,this.sortedLabelNames),c(this.labelNames,e)):(t=e,e={}),t&&!Number.isFinite(t))throw TypeError(`Value is not a valid number: ${n.format(t)}`);if(t<0)throw Error("It is not possible to decrease a counter");return null==t&&(t=1),p(this.hashMap,t,e,r),{labelHash:r}}incWithExemplar({labels:e=this.defaultLabels,value:t=this.defaultValue,exemplarLabels:r=this.defaultExemplarLabelSet}={}){let n=this.incWithoutExemplar(e,t);this.updateExemplar(r,t,n.labelHash)}updateExemplar(e,t,r){e!==this.defaultExemplarLabelSet&&(i(this.hashMap[r].exemplar)||(this.hashMap[r].exemplar=new h),this.hashMap[r].exemplar.validateExemplarLabelSet(e),this.hashMap[r].exemplar.labelSet=e,this.hashMap[r].exemplar.value=t||1,this.hashMap[r].exemplar.timestamp=l())}reset(){this.hashMap={},0===this.labelNames.length&&p(this.hashMap,0)}async get(){if(this.collect){let e=this.collect();e instanceof Promise&&await e}return{help:this.help,name:this.name,type:this.type,values:Object.values(this.hashMap),aggregator:this.aggregator}}labels(...e){let t=o(this.labelNames,e)||{};return{inc:this.inc.bind(this,t)}}remove(...e){let t=o(this.labelNames,e)||{};return c(this.labelNames,t),a.call(this,this.hashMap,t,this.sortedLabelNames)}}},983680,(e,t,r)=>{"use strict";let n=e.r(224361),{setValue:s,setValueDelta:i,getLabels:o,hashObject:a,isObject:l,removeLabels:c}=e.r(607727),{validateLabel:u}=e.r(169037),{Metric:h}=e.r(963808);function p(e,t,r){if("number"!=typeof r)throw TypeError(`Delta is not a valid number: ${n.format(r)}`);u(e.labelNames,t);let s=a(t,e.sortedLabelNames);i(e.hashMap,r,t,s)}function f(e){return l(e)?e:{}}t.exports=class extends h{constructor(e){super(e),this.type="gauge"}set(e,t){var r,i;r=e,i=t,t=l(r)?i:r,function(e,t,r){if("number"!=typeof r)throw TypeError(`Value is not a valid number: ${n.format(r)}`);u(e.labelNames,t),s(e.hashMap,r,t)}(this,e=f(e),t)}reset(){this.hashMap={},0===this.labelNames.length&&s(this.hashMap,0,{})}inc(e,t){var r,n;r=e,n=t,t=l(r)?n:r,e=f(e),void 0===t&&(t=1),p(this,e,t)}dec(e,t){var r,n;r=e,n=t,t=l(r)?n:r,e=f(e),void 0===t&&(t=1),p(this,e,-t)}setToCurrentTime(e){let t=Date.now()/1e3;void 0===e?this.set(t):this.set(e,t)}startTimer(e){let t=process.hrtime();return r=>{let n=process.hrtime(t),s=n[0]+n[1]/1e9;return this.set(Object.assign({},e,r),s),s}}async get(){if(this.collect){let e=this.collect();e instanceof Promise&&await e}return{help:this.help,name:this.name,type:this.type,values:Object.values(this.hashMap),aggregator:this.aggregator}}_getValue(e){let t=a(e||{},this.sortedLabelNames);return this.hashMap[t]?this.hashMap[t].value:0}labels(...e){let t=o(this.labelNames,e);return u(this.labelNames,t),{inc:this.inc.bind(this,t),dec:this.dec.bind(this,t),set:this.set.bind(this,t),setToCurrentTime:this.setToCurrentTime.bind(this,t),startTimer:this.startTimer.bind(this,t)}}remove(...e){let t=o(this.labelNames,e);u(this.labelNames,t),c.call(this,this.hashMap,t,this.sortedLabelNames)}}},660755,(e,t,r)=>{"use strict";let n=e.r(224361),{getLabels:s,hashObject:i,isObject:o,removeLabels:a,nowTimestamp:l}=e.r(607727),{validateLabel:c}=e.r(169037),{Metric:u}=e.r(963808),h=e.r(685087);function p(e){return()=>{let t=process.hrtime();return r=>{let n=process.hrtime(t),s=n[0]+n[1]/1e9;return this.observe(Object.assign({},e,r),s),s}}}function f(e,t){return()=>{let r=process.hrtime();return(n,s)=>{let i=process.hrtime(r),o=i[0]+i[1]/1e9;return this.observe({labels:Object.assign({},e,n),value:o,exemplarLabels:Object.assign({},t,s)}),o}}}function m(e,t,r,n,s={}){return{labels:e,sharedLabels:s,value:t,metricName:r,exemplar:n}}function d(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(t<=n)return n}return -1}function g(e){return t=>{var r,s;let a=(r=e,s=t,o(r)?{labels:r,value:s}:{value:r,labels:{}});if(c(this.labelNames,a.labels),!Number.isFinite(a.value))throw TypeError(`Value is not a valid number: ${n.format(a.value)}`);let l=i(a.labels,this.sortedLabelNames),u=this.hashMap[l];u||(u=_(a.labels,this.bucketValues,this.bucketExemplars));let h=d(this.upperBounds,a.value);u.sum+=a.value,u.count+=1,Object.prototype.hasOwnProperty.call(u.bucketValues,h)&&(u.bucketValues[h]+=1),this.hashMap[l]=u}}function _(e,t,r){let n={labels:e,bucketValues:{...t},sum:0,count:0};return r&&(n.bucketExemplars={...r}),n}function y(e){let{sharedLabels:t,labels:r,...n}=e;for(let e of Object.keys(t))r[e]=t[e];return n.labels=r,n}t.exports=class extends u{constructor(e){for(const t of(super(e,{buckets:[.005,.01,.025,.05,.1,.25,.5,1,2.5,5,10]}),this.type="histogram",this.defaultLabels={},this.defaultExemplarLabelSet={},this.enableExemplars=!1,this.labelNames))if("le"===t)throw Error("le is a reserved label keyword");this.upperBounds=this.buckets,this.bucketValues=this.upperBounds.reduce((e,t)=>(e[t]=0,e),{}),e.enableExemplars?(this.enableExemplars=!0,this.bucketExemplars=this.upperBounds.reduce((e,t)=>(e[t]=null,e),{}),Object.freeze(this.bucketExemplars),this.observe=this.observeWithExemplar):this.observe=this.observeWithoutExemplar,Object.freeze(this.bucketValues),Object.freeze(this.upperBounds),0===this.labelNames.length&&(this.hashMap={[i({})]:_({},this.bucketValues,this.bucketExemplars)})}observeWithoutExemplar(e,t){g.call(this,0===e?0:e||{})(t)}observeWithExemplar({labels:e=this.defaultLabels,value:t,exemplarLabels:r=this.defaultExemplarLabelSet}={}){g.call(this,0===e?0:e||{})(t),this.updateExemplar(e,t,r)}updateExemplar(e,t,r){if(0===Object.keys(r).length)return;let n=i(e,this.sortedLabelNames),s=d(this.upperBounds,t),{bucketExemplars:a}=this.hashMap[n],c=a[s];o(c)||(c=new h,a[s]=c),c.validateExemplarLabelSet(r),c.labelSet=r,c.value=t,c.timestamp=l()}async get(){let e=await this.getForPromString();return e.values=e.values.map(y),e}async getForPromString(){var e,t;let r;if(this.collect){let e=this.collect();e instanceof Promise&&await e}let n=Object.values(this.hashMap).map((e=this,r=`${e.name}_bucket`,t=>{let n=0;return{buckets:e.upperBounds.map(e=>(n+=t.bucketValues[e],m({le:e},n,r,t.bucketExemplars?t.bucketExemplars[e]:null,t.labels))),data:t}})).reduce((t=this,(e,r)=>(e.push(...r.buckets),e.push(m({le:"+Inf"},r.data.count,`${t.name}_bucket`,r.data.bucketExemplars?r.data.bucketExemplars["-1"]:null,r.data.labels),m({},r.data.sum,`${t.name}_sum`,void 0,r.data.labels),m({},r.data.count,`${t.name}_count`,void 0,r.data.labels)),e)),[]);return{name:this.name,help:this.help,type:this.type,values:n,aggregator:this.aggregator}}reset(){this.hashMap={}}zero(e){let t=i(e,this.sortedLabelNames);this.hashMap[t]=_(e,this.bucketValues,this.bucketExemplars)}startTimer(e,t){return this.enableExemplars?f.call(this,e,t)():p.call(this,e)()}labels(...e){let t=s(this.labelNames,e);return c(this.labelNames,t),{observe:g.call(this,t),startTimer:p.call(this,t)}}remove(...e){let t=s(this.labelNames,e);c(this.labelNames,t),a.call(this,this.hashMap,t,this.sortedLabelNames)}}},673427,(e,t,r)=>{function n(){}function s(e){this._tree=e,this._ancestors=[],this._cursor=null}n.prototype.clear=function(){this._root=null,this.size=0},n.prototype.find=function(e){for(var t=this._root;null!==t;){var r=this._comparator(e,t.data);if(0===r)return t.data;t=t.get_child(r>0)}return null},n.prototype.findIter=function(e){for(var t=this._root,r=this.iterator();null!==t;){var n=this._comparator(e,t.data);if(0===n)return r._cursor=t,r;r._ancestors.push(t),t=t.get_child(n>0)}return null},n.prototype.lowerBound=function(e){for(var t=this._root,r=this.iterator(),n=this._comparator;null!==t;){var s=n(e,t.data);if(0===s)return r._cursor=t,r;r._ancestors.push(t),t=t.get_child(s>0)}for(var i=r._ancestors.length-1;i>=0;--i)if(0>n(e,(t=r._ancestors[i]).data))return r._cursor=t,r._ancestors.length=i,r;return r._ancestors.length=0,r},n.prototype.upperBound=function(e){for(var t=this.lowerBound(e),r=this._comparator;null!==t.data()&&0===r(t.data(),e);)t.next();return t},n.prototype.min=function(){var e=this._root;if(null===e)return null;for(;null!==e.left;)e=e.left;return e.data},n.prototype.max=function(){var e=this._root;if(null===e)return null;for(;null!==e.right;)e=e.right;return e.data},n.prototype.iterator=function(){return new s(this)},n.prototype.each=function(e){for(var t,r=this.iterator();null!==(t=r.next());)if(!1===e(t))return},n.prototype.reach=function(e){for(var t,r=this.iterator();null!==(t=r.prev());)if(!1===e(t))return},s.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},s.prototype.next=function(){if(null===this._cursor){var e,t=this._tree._root;null!==t&&this._minNode(t)}else if(null===this._cursor.right)do if(e=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===e)else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},s.prototype.prev=function(){if(null===this._cursor){var e,t=this._tree._root;null!==t&&this._maxNode(t)}else if(null===this._cursor.left)do if(e=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===e)else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},s.prototype._minNode=function(e){for(;null!==e.left;)this._ancestors.push(e),e=e.left;this._cursor=e},s.prototype._maxNode=function(e){for(;null!==e.right;)this._ancestors.push(e),e=e.right;this._cursor=e},t.exports=n},775944,(e,t,r)=>{var n=e.r(673427);function s(e){this.data=e,this.left=null,this.right=null,this.red=!0}function i(e){this._root=null,this._comparator=e,this.size=0}function o(e){return null!==e&&e.red}function a(e,t){var r=e.get_child(!t);return e.set_child(!t,r.get_child(t)),r.set_child(t,e),e.red=!0,r.red=!1,r}function l(e,t){return e.set_child(!t,a(e.get_child(!t),!t)),a(e,t)}s.prototype.get_child=function(e){return e?this.right:this.left},s.prototype.set_child=function(e,t){e?this.right=t:this.left=t},i.prototype=new n,i.prototype.insert=function(e){var t=!1;if(null===this._root)this._root=new s(e),t=!0,this.size++;else{var r=new s(void 0),n=0,i=0,c=null,u=r,h=null,p=this._root;for(u.right=this._root;;){if(null===p?(p=new s(e),h.set_child(n,p),t=!0,this.size++):o(p.left)&&o(p.right)&&(p.red=!0,p.left.red=!1,p.right.red=!1),o(p)&&o(h)){var f=u.right===c;p===h.get_child(i)?u.set_child(f,a(c,!i)):u.set_child(f,l(c,!i))}var m=this._comparator(p.data,e);if(0===m)break;i=n,n=m<0,null!==c&&(u=c),c=h,h=p,p=p.get_child(n)}this._root=r.right}return this._root.red=!1,t},i.prototype.remove=function(e){if(null===this._root)return!1;var t=new s(void 0),r=t;r.right=this._root;for(var n=null,i=null,c=null,u=1;null!==r.get_child(u);){var h=u;i=n,n=r,r=r.get_child(u);var p=this._comparator(e,r.data);if(u=p>0,0===p&&(c=r),!o(r)&&!o(r.get_child(u))){if(o(r.get_child(!u))){var f=a(r,u);n.set_child(h,f),n=f}else if(!o(r.get_child(!u))){var m=n.get_child(!h);if(null!==m)if(o(m.get_child(!h))||o(m.get_child(h))){var d=i.right===n;o(m.get_child(h))?i.set_child(d,l(n,h)):o(m.get_child(!h))&&i.set_child(d,a(n,h));var g=i.get_child(d);g.red=!0,r.red=!0,g.left.red=!1,g.right.red=!1}else n.red=!1,m.red=!0,r.red=!0}}}return null!==c&&(c.data=r.data,n.set_child(n.right===r,r.get_child(null===r.left)),this.size--),this._root=t.right,null!==this._root&&(this._root.red=!1),null!==c},t.exports=i},378002,(e,t,r)=>{var n=e.r(673427);function s(e){this.data=e,this.left=null,this.right=null}function i(e){this._root=null,this._comparator=e,this.size=0}s.prototype.get_child=function(e){return e?this.right:this.left},s.prototype.set_child=function(e,t){e?this.right=t:this.left=t},i.prototype=new n,i.prototype.insert=function(e){if(null===this._root)return this._root=new s(e),this.size++,!0;for(var t=0,r=null,n=this._root;;){if(null===n)return n=new s(e),r.set_child(t,n),ret=!0,this.size++,!0;if(0===this._comparator(n.data,e))return!1;t=0>this._comparator(n.data,e),r=n,n=n.get_child(t)}},i.prototype.remove=function(e){if(null===this._root)return!1;var t=new s(void 0),r=t;r.right=this._root;for(var n=null,i=null,o=1;null!==r.get_child(o);){n=r,r=r.get_child(o);var a=this._comparator(e,r.data);o=a>0,0===a&&(i=r)}return null!==i&&(i.data=r.data,n.set_child(n.right===r,r.get_child(null===r.left)),this._root=t.right,this.size--,!0)},t.exports=i},258456,(e,t,r)=>{t.exports={RBTree:e.r(775944),BinTree:e.r(378002)}},874986,(e,t,r)=>{var n=e.r(258456).RBTree;function s(e,t,r){this.discrete=!1===e,this.delta=e||.01,this.K=void 0===t?25:t,this.CX=void 0===r?1.1:r,this.centroids=new n(i),this.nreset=0,this.reset()}function i(e,t){return e.mean>t.mean?1:e.mean<t.mean?-1:0}function o(e,t){return e.mean_cumn-t.mean_cumn}function a(e){this.config=e||{},this.mode=this.config.mode||"auto",s.call(this,"cont"===this.mode&&e.delta),this.digest_ratio=this.config.ratio||.9,this.digest_thresh=this.config.thresh||1e3,this.n_unique=0}s.prototype.reset=function(){this.centroids.clear(),this.n=0,this.nreset+=1,this.last_cumulate=0},s.prototype.size=function(){return this.centroids.size},s.prototype.toArray=function(e){var t=[];return e?(this._cumulate(!0),this.centroids.each(function(e){t.push(e)})):this.centroids.each(function(e){t.push({mean:e.mean,n:e.n})}),t},s.prototype.summary=function(){return[(this.discrete?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.percentile(0),"Q1  = "+this.percentile(.25),"Q2  = "+this.percentile(.5),"Q3  = "+this.percentile(.75),"max = "+this.percentile(1)].join("\n")},s.prototype.push=function(e,t){t=t||1,e=Array.isArray(e)?e:[e];for(var r=0;r<e.length;r++)this._digest(e[r],t)},s.prototype.push_centroid=function(e){e=Array.isArray(e)?e:[e];for(var t=0;t<e.length;t++)this._digest(e[t].mean,e[t].n)},s.prototype._cumulate=function(e){if(this.n!==this.last_cumulate&&(e||!this.CX||!(this.CX>this.n/this.last_cumulate))){var t=0;this.centroids.each(function(e){e.mean_cumn=t+e.n/2,t=e.cumn=t+e.n}),this.n=this.last_cumulate=t}},s.prototype.find_nearest=function(e){if(0===this.size())return null;var t=this.centroids.lowerBound({mean:e}),r=null===t.data()?t.prev():t.data();if(r.mean===e||this.discrete)return r;var n=t.prev();return n&&Math.abs(n.mean-e)<Math.abs(r.mean-e)?n:r},s.prototype._new_centroid=function(e,t,r){var n={mean:e,n:t,cumn:r};return this.centroids.insert(n),this.n+=t,n},s.prototype._addweight=function(e,t,r){t!==e.mean&&(e.mean+=r*(t-e.mean)/(e.n+r)),e.cumn+=r,e.mean_cumn+=r/2,e.n+=r,this.n+=r},s.prototype._digest=function(e,t){var r=this.centroids.min(),n=this.centroids.max(),s=this.find_nearest(e);if(s&&s.mean===e)this._addweight(s,e,t);else if(s===r)this._new_centroid(e,t,0);else if(s===n)this._new_centroid(e,t,this.n);else if(this.discrete)this._new_centroid(e,t,s.cumn);else{var i=s.mean_cumn/this.n;Math.floor(4*this.n*this.delta*i*(1-i))-s.n>=t?this._addweight(s,e,t):this._new_centroid(e,t,s.cumn)}this._cumulate(!1),!this.discrete&&this.K&&this.size()>this.K/this.delta&&this.compress()},s.prototype.bound_mean=function(e){var t=this.centroids.upperBound({mean:e}),r=t.prev(),n=r.mean===e?r:t.next();return[r,n]},s.prototype.p_rank=function(e){var t=(Array.isArray(e)?e:[e]).map(this._p_rank,this);return Array.isArray(e)?t:t[0]},s.prototype._p_rank=function(e){if(0!==this.size()){if(e<this.centroids.min().mean)return 0;if(e>this.centroids.max().mean)return 1;this._cumulate(!0);var t=this.bound_mean(e),r=t[0],n=t[1];if(this.discrete)return r.cumn/this.n;var s=r.mean_cumn;return r!==n&&(s+=(e-r.mean)*(n.mean_cumn-r.mean_cumn)/(n.mean-r.mean)),s/this.n}},s.prototype.bound_mean_cumn=function(e){this.centroids._comparator=o;var t=this.centroids.upperBound({mean_cumn:e});this.centroids._comparator=i;var r=t.prev(),n=r&&r.mean_cumn===e?r:t.next();return[r,n]},s.prototype.percentile=function(e){var t=(Array.isArray(e)?e:[e]).map(this._percentile,this);return Array.isArray(e)?t:t[0]},s.prototype._percentile=function(e){if(0!==this.size()){this._cumulate(!0);var t=this.n*e,r=this.bound_mean_cumn(t),n=r[0],s=r[1];return s===n||null===n||null===s?(n||s).mean:this.discrete?t<=n.cumn?n.mean:s.mean:n.mean+(t-n.mean_cumn)*(s.mean-n.mean)/(s.mean_cumn-n.mean_cumn)}},s.prototype.compress=function(){if(!this.compressing){var e=this.toArray();for(this.reset(),this.compressing=!0;e.length>0;)this.push_centroid(function(e){var t=Math.floor(Math.random()*e.length);return e.splice(t,1)[0]}(e));this._cumulate(!0),this.compressing=!1}},a.prototype=Object.create(s.prototype),a.prototype.constructor=a,a.prototype.push=function(e){s.prototype.push.call(this,e),this.check_continuous()},a.prototype._new_centroid=function(e,t,r){this.n_unique+=1,s.prototype._new_centroid.call(this,e,t,r)},a.prototype._addweight=function(e,t,r){1===e.n&&(this.n_unique-=1),s.prototype._addweight.call(this,e,t,r)},a.prototype.check_continuous=function(){return!("auto"!==this.mode||this.size()<this.digest_thresh)&&this.n_unique/this.size()>this.digest_ratio&&(this.mode="cont",this.discrete=!1,this.delta=this.config.delta||.01,this.compress(),!0)},t.exports={TDigest:s,Digest:a}},849259,(e,t,r)=>{"use strict";let{TDigest:n}=e.r(874986);function s(){let e=Date.now()-this.lastRotateTimestampMillis;for(;e>this.durationBetweenRotatesMillis&&this.shouldRotate;)this.ringBuffer[this.currentBuffer]=new n,++this.currentBuffer>=this.ringBuffer.length&&(this.currentBuffer=0),e-=this.durationBetweenRotatesMillis,this.lastRotateTimestampMillis+=this.durationBetweenRotatesMillis;return this.ringBuffer[this.currentBuffer]}t.exports=class{constructor(e,t){this.maxAgeSeconds=e||0,this.ageBuckets=t||0,this.shouldRotate=e&&t,this.ringBuffer=Array(t).fill(new n),this.currentBuffer=0,this.lastRotateTimestampMillis=Date.now(),this.durationBetweenRotatesMillis=1e3*e/t||1/0}size(){return s.call(this).size()}percentile(e){return s.call(this).percentile(e)}push(e){s.call(this),this.ringBuffer.forEach(t=>{t.push(e)})}reset(){this.ringBuffer.forEach(e=>{e.reset()})}compress(){this.ringBuffer.forEach(e=>{e.compress()})}}},683467,(e,t,r)=>{"use strict";let n=e.r(224361),{getLabels:s,hashObject:i,removeLabels:o}=e.r(607727),{validateLabel:a}=e.r(169037),{Metric:l}=e.r(963808),c=e.r(849259);function u(e){return()=>{let t=process.hrtime();return r=>{let n=process.hrtime(t),s=n[0]+n[1]/1e9;return this.observe(Object.assign({},e,r),s),s}}}function h(e){return t=>{var r,s;let o=(r=e,void 0===(s=t)?{value:r,labels:{}}:{labels:r,value:s});if(a(this.labelNames,e),!Number.isFinite(o.value))throw TypeError(`Value is not a valid number: ${n.format(o.value)}`);let l=i(o.labels,this.sortedLabelNames),u=this.hashMap[l];u||(u={labels:o.labels,td:new c(this.maxAgeSeconds,this.ageBuckets),count:0,sum:0}),u.td.push(o.value),u.count++,u.count%this.compressCount==0&&u.td.compress(),u.sum+=o.value,this.hashMap[l]=u}}t.exports=class extends l{constructor(e){for(const t of(super(e,{percentiles:[.01,.05,.5,.9,.95,.99,.999],compressCount:1e3,hashMap:{}}),this.type="summary",this.labelNames))if("quantile"===t)throw Error("quantile is a reserved label keyword");0===this.labelNames.length&&(this.hashMap={[i({})]:{labels:{},td:new c(this.maxAgeSeconds,this.ageBuckets),count:0,sum:0}})}observe(e,t){h.call(this,0===e?0:e||{})(t)}async get(){if(this.collect){let e=this.collect();e instanceof Promise&&await e}let e=Object.keys(this.hashMap),t=[];return e.forEach(e=>{var r,n,s,i,o,a;let l=this.hashMap[e];l&&(this.pruneAgedBuckets&&0===l.td.size()?delete this.hashMap[e]:((r=l,n=this.percentiles,r.td.compress(),n.map(e=>{let t=r.td.percentile(e);return{labels:Object.assign({quantile:e},r.labels),value:t||0}})).forEach(e=>{t.push(e)}),t.push((s=l,i=this,{metricName:`${i.name}_sum`,labels:s.labels,value:s.sum})),t.push((o=l,a=this,{metricName:`${a.name}_count`,labels:o.labels,value:o.count}))))}),{name:this.name,help:this.help,type:this.type,values:t,aggregator:this.aggregator}}reset(){Object.values(this.hashMap).forEach(e=>{e.td.reset(),e.count=0,e.sum=0})}startTimer(e){return u.call(this,e)()}labels(...e){let t=s(this.labelNames,e);return a(this.labelNames,t),{observe:h.call(this,t),startTimer:u.call(this,t)}}remove(...e){let t=s(this.labelNames,e);a(this.labelNames,t),o.call(this,this.hashMap,t,this.sortedLabelNames)}}},716463,(e,t,r)=>{"use strict";let n=e.r(792509),s=e.r(921517),i=e.r(524836),{gzipSync:o}=e.r(406461),{globalRegistry:a}=e.r(60479);async function l(e,t,r){var a;let l=n.parse(this.gatewayUrl),c=l.pathname&&"/"!==l.pathname?l.pathname:"",u=t?`/job/${encodeURIComponent(t)}${(a=r)?Object.keys(a).map(e=>`/${encodeURIComponent(e)}/${encodeURIComponent(a[e])}`).join(""):""}`:"",h=`${c}/metrics${u}`,p=n.resolve(this.gatewayUrl,h),f=n.parse(p),m=-1!==f.href.search(/^https/)?i:s,d=Object.assign(f,this.requestOptions,{method:e});return new Promise((t,r)=>{"DELETE"===e&&d.headers&&delete d.headers["Content-Encoding"];let n=m.request(d,e=>{let n="";e.setEncoding("utf8"),e.on("data",e=>{n+=e}),e.on("end",()=>{e.statusCode>=400?r(Error(`push failed with status ${e.statusCode}, ${n}`)):t({resp:e,body:n})})});n.on("error",e=>{r(e)}),n.on("timeout",()=>{n.destroy(Error("Pushgateway request timed out"))}),"DELETE"!==e?this.registry.metrics().then(e=>{d.headers&&"gzip"===d.headers["Content-Encoding"]&&(e=o(e)),n.write(e),n.end()}).catch(e=>{r(e)}):n.end()})}t.exports=class{constructor(e,t,r){r||(r=a),this.registry=r,this.gatewayUrl=e;const{requireJobName:n,...s}={requireJobName:!0,...t};this.requireJobName=n,this.requestOptions=s}pushAdd(e={}){if(this.requireJobName&&!e.jobName)throw Error("Missing jobName parameter");return l.call(this,"POST",e.jobName,e.groupings)}push(e={}){if(this.requireJobName&&!e.jobName)throw Error("Missing jobName parameter");return l.call(this,"PUT",e.jobName,e.groupings)}delete(e={}){if(this.requireJobName&&!e.jobName)throw Error("Missing jobName parameter");return l.call(this,"DELETE",e.jobName,e.groupings)}}},648890,(e,t,r)=>{"use strict";r.linearBuckets=(e,t,r)=>{if(r<1)throw Error("Linear buckets needs a positive count");let n=Array(r);for(let s=0;s<r;s++)n[s]=e+s*t;return n},r.exponentialBuckets=(e,t,r)=>{if(e<=0)throw Error("Exponential buckets needs a positive start");if(r<1)throw Error("Exponential buckets needs a positive count");if(t<=1)throw Error("Exponential buckets needs a factor greater than 1");let n=Array(r);for(let s=0;s<r;s++)n[s]=e,e*=t;return n}},92405,e=>{"use strict";function t(e){return Symbol.for(e)}var r,n,s,i,o,a,l,c,u,h,p,f,m,d=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var s=new e(r._currentContext);return s._currentContext.set(t,n),s},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}},g=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,s,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return o},_=function(e,t,r){if(r||2==arguments.length)for(var n,s=0,i=t.length;s<i;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))},y=function(){function e(){}return e.prototype.active=function(){return d},e.prototype.with=function(e,t,r){for(var n=[],s=3;s<arguments.length;s++)n[s-3]=arguments[s];return t.call.apply(t,_([r],g(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),b="object"==typeof globalThis?globalThis:e.g,v="1.9.0",E=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,x=function(e){var t=new Set([e]),r=new Set,n=e.match(E);if(!n)return function(){return!1};var s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease)return function(t){return t===e};function i(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(E);if(!n)return i(e);var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=o.prerelease||s.major!==o.major)return i(e);if(0===s.major)return s.minor===o.minor&&s.patch<=o.patch?(t.add(e),!0):i(e);return s.minor<=o.minor?(t.add(e),!0):i(e)}}(v),w=Symbol.for("opentelemetry.js.api."+v.split(".")[0]);function N(e,t,r,n){void 0===n&&(n=!1);var s,i=b[w]=null!=(s=b[w])?s:{version:v};if(!n&&i[e]){var o=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(o.stack||o.message),!1}if(i.version!==v){var o=Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+v);return r.error(o.stack||o.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+v+"."),!0}function T(e){var t,r,n=null==(t=b[w])?void 0:t.version;if(n&&x(n))return null==(r=b[w])?void 0:r[e]}function O(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+v+".");var r=b[w];r&&delete r[e]}var M=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,s,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return o},S=function(e,t,r){if(r||2==arguments.length)for(var n,s=0,i=t.length;s<i;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))},j=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return R("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return R("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return R("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return R("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return R("verbose",this._namespace,e)},e}();function R(e,t,r){var n=T("diag");if(n)return r.unshift(t),n[e].apply(n,S([],M(r),!1))}(l=r||(r={}))[l.NONE=0]="NONE",l[l.ERROR=30]="ERROR",l[l.WARN=50]="WARN",l[l.INFO=60]="INFO",l[l.DEBUG=70]="DEBUG",l[l.VERBOSE=80]="VERBOSE",l[l.ALL=9999]="ALL";var C=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,s,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return o},A=function(e,t,r){if(r||2==arguments.length)for(var n,s=0,i=t.length;s<i;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))},k=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=T("diag");if(n)return n[e].apply(n,A([],C(t),!1))}}var t=this;t.setLogger=function(e,n){if(void 0===n&&(n={logLevel:r.INFO}),e===t){var s,i,o,a=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(s=a.stack)?s:a.message),!1}"number"==typeof n&&(n={logLevel:n});var l=T("diag"),c=function(e,t){function n(r,n){var s=t[r];return"function"==typeof s&&e>=n?s.bind(t):function(){}}return e<r.NONE?e=r.NONE:e>r.ALL&&(e=r.ALL),t=t||{},{error:n("error",r.ERROR),warn:n("warn",r.WARN),info:n("info",r.INFO),debug:n("debug",r.DEBUG),verbose:n("verbose",r.VERBOSE)}}(null!=(i=n.logLevel)?i:r.INFO,e);if(l&&!n.suppressOverrideMessage){var u=null!=(o=Error().stack)?o:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+u),c.warn("Current logger will overwrite one already registered from "+u)}return N("diag",c,t,!0)},t.disable=function(){O("diag",t)},t.createComponentLogger=function(e){return new j(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),P=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,s,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return o},L=function(e,t,r){if(r||2==arguments.length)for(var n,s=0,i=t.length;s<i;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))},I="context",B=new y,D=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return N(I,e,k.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,s=[],i=3;i<arguments.length;i++)s[i-3]=arguments[i];return(n=this._getContextManager()).with.apply(n,L([e,t,r],P(s),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return T(I)||B},e.prototype.disable=function(){this._getContextManager().disable(),O(I,k.instance())},e}(),$=D.getInstance(),z=k.instance(),V=(c=function(e,t){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),U=function(){function e(){}return e.prototype.createGauge=function(e,t){return ee},e.prototype.createHistogram=function(e,t){return et},e.prototype.createCounter=function(e,t){return Q},e.prototype.createUpDownCounter=function(e,t){return er},e.prototype.createObservableGauge=function(e,t){return es},e.prototype.createObservableCounter=function(e,t){return en},e.prototype.createObservableUpDownCounter=function(e,t){return ei},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),q=function(){},F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),t.prototype.add=function(e,t){},t}(q),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),t.prototype.add=function(e,t){},t}(q),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),t.prototype.record=function(e,t){},t}(q),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),t.prototype.record=function(e,t){},t}(q),Y=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),t}(Y),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),t}(Y),X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),t}(Y),Z=new U,Q=new F,ee=new H,et=new W,er=new G,en=new K,es=new J,ei=new X;function eo(){return Z}var ea=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return Z},e}()),el="metrics",ec=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return N(el,e,k.instance())},e.prototype.getMeterProvider=function(){return T(el)||ea},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){O(el,k.instance())},e})().getInstance(),eu=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),eh={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},ep={set:function(e,t,r){null!=e&&(e[t]=r)}},ef=t("OpenTelemetry Baggage Key");function em(e){return e.getValue(ef)||void 0}function ed(){return em(D.getInstance().active())}function eg(e,t){return e.setValue(ef,t)}function e_(e){return e.deleteValue(ef)}var ey=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,s,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return o},eb=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ev=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=ey(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var i=new e(this._entries);try{for(var o=eb(n),a=o.next();!a.done;a=o.next()){var l=a.value;i._entries.delete(l)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e}(),eE=Symbol("BaggageEntryMetadata"),ex=k.instance();function ew(e){return void 0===e&&(e={}),new ev(new Map(Object.entries(e)))}function eN(e){return"string"!=typeof e&&(ex.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:eE,toString:function(){return e}}}var eT="propagation",eO=new eu,eM=(function(){function e(){this.createBaggage=ew,this.getBaggage=em,this.getActiveBaggage=ed,this.setBaggage=eg,this.deleteBaggage=e_}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return N(eT,e,k.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=ep),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=eh),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){O(eT,k.instance())},e.prototype._getGlobalPropagator=function(){return T(eT)||eO},e})().getInstance();(u=n||(n={}))[u.NONE=0]="NONE",u[u.SAMPLED=1]="SAMPLED";var eS="0000000000000000",ej="00000000000000000000000000000000",eR={traceId:ej,spanId:eS,traceFlags:n.NONE},eC=function(){function e(e){void 0===e&&(e=eR),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),eA=t("OpenTelemetry Context Key SPAN");function ek(e){return e.getValue(eA)||void 0}function eP(){return ek(D.getInstance().active())}function eL(e,t){return e.setValue(eA,t)}function eI(e){return e.deleteValue(eA)}function eB(e,t){return eL(e,new eC(t))}function eD(e){var t;return null==(t=ek(e))?void 0:t.spanContext()}var e$=/^([0-9a-f]{32})$/i,ez=/^[0-9a-f]{16}$/i;function eV(e){return e$.test(e)&&e!==ej}function eU(e){return ez.test(e)&&e!==eS}function eq(e){return eV(e.traceId)&&eU(e.spanId)}function eF(e){return new eC(e)}var eG=D.getInstance(),eH=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=eG.active()),null==t?void 0:t.root)return new eC;var n,s=r&&eD(r);return"object"==typeof(n=s)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&eq(s)?new eC(s):new eC},e.prototype.startActiveSpan=function(e,t,r,n){if(!(arguments.length<2)){2==arguments.length?o=t:3==arguments.length?(s=t,o=r):(s=t,i=r,o=n);var s,i,o,a=null!=i?i:eG.active(),l=this.startSpan(e,s,a),c=eL(a,l);return eG.with(c,o,void 0,l)}},e}(),eW=new eH,eY=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):eW},e}(),eK=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new eH},e}()),eJ=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var n;return null!=(n=this.getDelegateTracer(e,t,r))?n:new eY(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!=(e=this._delegate)?e:eK},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)},e}(),eX="trace",eZ=(function(){function e(){this._proxyTracerProvider=new eJ,this.wrapSpanContext=eF,this.isSpanContextValid=eq,this.deleteSpan=eI,this.getSpan=ek,this.getActiveSpan=eP,this.getSpanContext=eD,this.setSpan=eL,this.setSpanContext=eB}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=N(eX,this._proxyTracerProvider,k.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return T(eX)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){O(eX,k.instance()),this._proxyTracerProvider=new eJ},e})().getInstance();let eQ={context:$,diag:z,metrics:ec,propagation:eM,trace:eZ};e.s(["default",0,eQ],632699),e.i(632699);var e0=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],e1=function(){for(var e=0;e<e0.length;e++)this[e0[e].n]=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}(e0[e].c)};(h=s||(s={}))[h.INT=0]="INT",h[h.DOUBLE=1]="DOUBLE",(p=i||(i={}))[p.NOT_RECORD=0]="NOT_RECORD",p[p.RECORD=1]="RECORD",p[p.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",(f=o||(o={}))[f.INTERNAL=0]="INTERNAL",f[f.SERVER=1]="SERVER",f[f.CLIENT=2]="CLIENT",f[f.PRODUCER=3]="PRODUCER",f[f.CONSUMER=4]="CONSUMER",(m=a||(a={}))[m.UNSET=0]="UNSET",m[m.OK=1]="OK",m[m.ERROR=2]="ERROR";var e2="[_0-9a-z-*/]",e9=RegExp("^(?:[a-z]"+e2+"{0,255}|"+("[a-z0-9]"+e2+"{0,240}@[a-z]")+e2+"{0,13})$"),e6=/^[ -~]{0,255}[!-~]$/,e3=/,|=/,e7=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,r){return t.push(r+"="+e.get(r)),t},[]).join(",")},e.prototype._parse=function(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce(function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var s=r.slice(0,n),i=r.slice(n+1,t.length);e9.test(s)&&e6.test(i)&&!e3.test(i)&&e.set(s,i)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function e5(e){return new e7(e)}e.s(["DiagConsoleLogger",()=>e1,"DiagLogLevel",()=>r,"INVALID_SPANID",()=>eS,"INVALID_SPAN_CONTEXT",()=>eR,"INVALID_TRACEID",()=>ej,"ProxyTracer",()=>eY,"ProxyTracerProvider",()=>eJ,"ROOT_CONTEXT",()=>d,"SamplingDecision",()=>i,"SpanKind",()=>o,"SpanStatusCode",()=>a,"TraceFlags",()=>n,"ValueType",()=>s,"baggageEntryMetadataFromString",()=>eN,"context",()=>$,"createContextKey",()=>t,"createNoopMeter",()=>eo,"createTraceState",()=>e5,"default",0,eQ,"defaultTextMapGetter",()=>eh,"defaultTextMapSetter",()=>ep,"diag",()=>z,"isSpanContextValid",()=>eq,"isValidSpanId",()=>eU,"isValidTraceId",()=>eV,"metrics",()=>ec,"propagation",()=>eM,"trace",()=>eZ],92405)},402542,(e,t,r)=>{"use strict";let n=e.r(92405),s=e.r(401537),i="process_cpu_user_seconds_total",o="process_cpu_system_seconds_total",a="process_cpu_seconds_total";t.exports=(e,t={})=>{let r=e?[e]:void 0,l=t.prefix?t.prefix:"",c=t.labels?t.labels:{},u=!!t.enableExemplars&&t.enableExemplars,h=Object.keys(c),p=process.cpuUsage(),f=new s({name:l+i,help:"Total user CPU time spent in seconds.",enableExemplars:u,registers:r,labelNames:h,collect(){let e=process.cpuUsage(),t=e.user-p.user,r=e.system-p.system;if(p=e,this.enableExemplars){let e={},s=n.trace.getSpan(n.context.active());s&&(e={traceId:s.spanContext().traceId,spanId:s.spanContext().spanId}),f.inc({labels:c,value:t/1e6,exemplarLabels:e}),m.inc({labels:c,value:r/1e6,exemplarLabels:e}),d.inc({labels:c,value:(t+r)/1e6,exemplarLabels:e})}else f.inc(c,t/1e6),m.inc(c,r/1e6),d.inc(c,(t+r)/1e6)}}),m=new s({name:l+o,help:"Total system CPU time spent in seconds.",enableExemplars:u,registers:r,labelNames:h}),d=new s({name:l+a,help:"Total user and system CPU time spent in seconds.",enableExemplars:u,registers:r,labelNames:h})},t.exports.metricNames=[i,o,a]},835037,(e,t,r)=>{"use strict";let n=e.r(983680),s=Math.round(Date.now()/1e3-process.uptime()),i="process_start_time_seconds";t.exports=(e,t={})=>{let r=t.prefix?t.prefix:"",o=t.labels?t.labels:{};new n({name:r+i,help:"Start time of the process since unix epoch in seconds.",registers:e?[e]:void 0,labelNames:Object.keys(o),aggregator:"omit",collect(){this.set(o,s)}})},t.exports.metricNames=[i]},628783,(e,t,r)=>{"use strict";let n=e.r(983680),s=e.r(522734),i=["VmSize","VmRSS","VmData"],o="process_resident_memory_bytes",a="process_virtual_memory_bytes",l="process_heap_bytes";t.exports=(e,t={})=>{let r=e?[e]:void 0,c=t.prefix?t.prefix:"",u=t.labels?t.labels:{},h=Object.keys(u),p=new n({name:c+o,help:"Resident memory size in bytes.",registers:r,labelNames:h,collect(){try{let e=s.readFileSync("/proc/self/status","utf8").split("\n").reduce((e,t)=>{if(!i.some(e=>t.startsWith(e)))return e;let r=t.split(":"),n=r[1].trim();return n=1024*Number(n=n.substr(0,n.length-3)),e[r[0]]=n,e},{});p.set(u,e.VmRSS),f.set(u,e.VmSize),m.set(u,e.VmData)}catch{}}}),f=new n({name:c+a,help:"Virtual memory size in bytes.",registers:r,labelNames:h}),m=new n({name:c+l,help:"Process heap size in bytes.",registers:r,labelNames:h})},t.exports.metricNames=[o,a,l]},248705,(e,t,r)=>{"use strict";t.exports=function(){try{return process.memoryUsage()}catch{return}}},563183,(e,t,r)=>{"use strict";let n=e.r(983680);e.r(628783);let s=e.r(248705),i="process_resident_memory_bytes";t.exports=(e,t)=>(function(e,t={}){let r=t.prefix?t.prefix:"",o=t.labels?t.labels:{};new n({name:r+i,help:"Resident memory size in bytes.",registers:e?[e]:void 0,labelNames:Object.keys(o),collect(){let e=s();e&&this.set(o,e.rss)}})})(e,t),t.exports.metricNames=[i]},852489,(e,t,r)=>{"use strict";e.r(983680),e.r(522734),e.r(605365),t.exports=(e,t={})=>{},t.exports.metricNames=["process_open_fds"]},553193,(e,t,r)=>{"use strict";let n,s=e.r(983680),i=e.r(522734),o="process_max_fds";t.exports=(e,t={})=>{if(void 0===n)try{for(let e of i.readFileSync("/proc/self/limits","utf8").split("\n"))if(e.startsWith("Max open files")){let t=e.split(/  +/);n=Number(t[1]);break}}catch{return}if(void 0===n)return;let r=t.prefix?t.prefix:"",a=t.labels?t.labels:{};new s({name:r+o,help:"Maximum number of open file descriptors.",registers:e?[e]:void 0,labelNames:Object.keys(a),collect(){void 0!==n&&this.set(a,n)}})},t.exports.metricNames=[o]},295146,(e,t,r)=>{"use strict";let n,s=e.r(983680);try{n=e.r(60438)}catch{}let i="nodejs_eventloop_lag_seconds",o="nodejs_eventloop_lag_min_seconds",a="nodejs_eventloop_lag_max_seconds",l="nodejs_eventloop_lag_mean_seconds",c="nodejs_eventloop_lag_stddev_seconds",u="nodejs_eventloop_lag_p50_seconds",h="nodejs_eventloop_lag_p90_seconds",p="nodejs_eventloop_lag_p99_seconds";function f(e,t,r){let n=process.hrtime(e),s=1e9*n[0]+n[1];t.set(r,s/1e9)}t.exports=(e,t={})=>{let r=t.prefix?t.prefix:"",m=t.labels?t.labels:{},d=Object.keys(m),g=e?[e]:void 0,_=()=>{setImmediate(f,process.hrtime(),y,m)};if(n&&n.monitorEventLoopDelay)try{let e=n.monitorEventLoopDelay({resolution:t.eventLoopMonitoringPrecision});e.enable(),_=()=>{let t=process.hrtime();setImmediate(f,t,y,m),b.set(m,e.min/1e9),v.set(m,e.max/1e9),E.set(m,e.mean/1e9),x.set(m,e.stddev/1e9),w.set(m,e.percentile(50)/1e9),N.set(m,e.percentile(90)/1e9),T.set(m,e.percentile(99)/1e9),e.reset()}}catch(e){if("ERR_NOT_IMPLEMENTED"===e.code)return;throw e}let y=new s({name:r+i,help:"Lag of event loop in seconds.",registers:g,labelNames:d,aggregator:"average",collect:_}),b=new s({name:r+o,help:"The minimum recorded event loop delay.",registers:g,labelNames:d,aggregator:"min"}),v=new s({name:r+a,help:"The maximum recorded event loop delay.",registers:g,labelNames:d,aggregator:"max"}),E=new s({name:r+l,help:"The mean of the recorded event loop delays.",registers:g,labelNames:d,aggregator:"average"}),x=new s({name:r+c,help:"The standard deviation of the recorded event loop delays.",registers:g,labelNames:d,aggregator:"average"}),w=new s({name:r+u,help:"The 50th percentile of the recorded event loop delays.",registers:g,labelNames:d,aggregator:"average"}),N=new s({name:r+h,help:"The 90th percentile of the recorded event loop delays.",registers:g,labelNames:d,aggregator:"average"}),T=new s({name:r+p,help:"The 99th percentile of the recorded event loop delays.",registers:g,labelNames:d,aggregator:"average"})},t.exports.metricNames=[i,o,a,l,c,u,h,p]},542522,(e,t,r)=>{"use strict";t.exports={aggregateByObjectName:function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];n&&void 0!==n.constructor&&(Object.hasOwnProperty.call(t,n.constructor.name)?t[n.constructor.name]+=1:t[n.constructor.name]=1)}return t},updateMetrics:function(e,t,r){for(let n in e.reset(),t)e.set(Object.assign({type:n},r||{}),t[n])}}},207248,(e,t,r)=>{"use strict";let{aggregateByObjectName:n}=e.r(542522),{updateMetrics:s}=e.r(542522),i=e.r(983680),o="nodejs_active_handles",a="nodejs_active_handles_total";t.exports=(e,t={})=>{if("function"!=typeof process._getActiveHandles)return;let r=e?[e]:void 0,l=t.prefix?t.prefix:"",c=t.labels?t.labels:{},u=Object.keys(c);new i({name:l+o,help:"Number of active libuv handles grouped by handle type. Every handle type is C++ class name.",labelNames:["type",...u],registers:r,collect(){s(this,n(process._getActiveHandles()),c)}}),new i({name:l+a,help:"Total number of active handles.",registers:r,labelNames:u,collect(){let e=process._getActiveHandles();this.set(c,e.length)}})},t.exports.metricNames=[o,a]},257815,(e,t,r)=>{"use strict";let n=e.r(983680),{aggregateByObjectName:s}=e.r(542522),{updateMetrics:i}=e.r(542522),o="nodejs_active_requests",a="nodejs_active_requests_total";t.exports=(e,t={})=>{if("function"!=typeof process._getActiveRequests)return;let r=t.prefix?t.prefix:"",l=t.labels?t.labels:{},c=Object.keys(l);new n({name:r+o,help:"Number of active libuv requests grouped by request type. Every request type is C++ class name.",labelNames:["type",...c],registers:e?[e]:void 0,collect(){i(this,s(process._getActiveRequests()),l)}}),new n({name:r+a,help:"Total number of active requests.",registers:e?[e]:void 0,labelNames:c,collect(){let e=process._getActiveRequests();this.set(l,e.length)}})},t.exports.metricNames=[o,a]},640105,(e,t,r)=>{"use strict";let n=e.r(983680),{updateMetrics:s}=e.r(542522),i="nodejs_active_resources",o="nodejs_active_resources_total";t.exports=(e,t={})=>{if("function"!=typeof process.getActiveResourcesInfo)return;let r=t.prefix?t.prefix:"",a=t.labels?t.labels:{},l=Object.keys(a);new n({name:r+i,help:"Number of active resources that are currently keeping the event loop alive, grouped by async resource type.",labelNames:["type",...l],registers:e?[e]:void 0,collect(){let e=process.getActiveResourcesInfo(),t={};for(let r=0;r<e.length;r++){let n=e[r];Object.hasOwn(t,n)?t[n]+=1:t[n]=1}s(this,t,a)}}),new n({name:r+o,help:"Total number of active resources.",registers:e?[e]:void 0,labelNames:l,collect(){let e=process.getActiveResourcesInfo();this.set(a,e.length)}})},t.exports.metricNames=[i,o]},464923,(e,t,r)=>{"use strict";let n=e.r(983680),s=e.r(248705),i="nodejs_heap_size_total_bytes",o="nodejs_heap_size_used_bytes",a="nodejs_external_memory_bytes";t.exports=(e,t={})=>{if("function"!=typeof process.memoryUsage)return;let r=t.labels?t.labels:{},l=Object.keys(r),c=e?[e]:void 0,u=t.prefix?t.prefix:"",h=new n({name:u+i,help:"Process heap size from Node.js in bytes.",registers:c,labelNames:l,collect:()=>{let e=s();e&&(h.set(r,e.heapTotal),p.set(r,e.heapUsed),void 0!==e.external&&f.set(r,e.external))}}),p=new n({name:u+o,help:"Process heap size used from Node.js in bytes.",registers:c,labelNames:l}),f=new n({name:u+a,help:"Node.js external memory size in bytes.",registers:c,labelNames:l})},t.exports.metricNames=[i,o,a]},676339,(e,t,r)=>{"use strict";let n=e.r(983680),s=e.r(132150),i=["total","used","available"],o={};i.forEach(e=>{o[e]=`nodejs_heap_space_size_${e}_bytes`}),t.exports=(e,t={})=>{try{s.getHeapSpaceStatistics()}catch(e){if("ERR_NOT_IMPLEMENTED"===e.code)return;throw e}let r=e?[e]:void 0,a=t.prefix?t.prefix:"",l=t.labels?t.labels:{},c=["space",...Object.keys(l)],u={};i.forEach(e=>{u[e]=new n({name:a+o[e],help:`Process heap space size ${e} from Node.js in bytes.`,labelNames:c,registers:r})}),u.total.collect=()=>{for(let e of s.getHeapSpaceStatistics()){let t=e.space_name.substr(0,e.space_name.indexOf("_space"));u.total.set({space:t,...l},e.space_size),u.used.set({space:t,...l},e.space_used_size),u.available.set({space:t,...l},e.space_available_size)}}},t.exports.metricNames=Object.values(o)},256141,(e,t,r)=>{"use strict";let n=e.r(983680),s=process.version,i=s.slice(1).split(".").map(Number),o="nodejs_version_info";t.exports=(e,t={})=>{let r=t.prefix?t.prefix:"",a=t.labels?t.labels:{};new n({name:r+o,help:"Node.js version info.",labelNames:["version","major","minor","patch",...Object.keys(a)],registers:e?[e]:void 0,aggregator:"first",collect(){this.labels(s,i[0],i[1],i[2],...Object.values(a)).set(1)}})},t.exports.metricNames=[o]},472095,(e,t,r)=>{"use strict";let n,s=e.r(660755);try{n=e.r(60438)}catch{}let i="nodejs_gc_duration_seconds",o=[.001,.01,.1,1,2,5],a=[];n&&n.constants&&(a[n.constants.NODE_PERFORMANCE_GC_MAJOR]="major",a[n.constants.NODE_PERFORMANCE_GC_MINOR]="minor",a[n.constants.NODE_PERFORMANCE_GC_INCREMENTAL]="incremental",a[n.constants.NODE_PERFORMANCE_GC_WEAKCB]="weakcb"),t.exports=(e,t={})=>{if(!n)return;let r=t.prefix?t.prefix:"",l=t.labels?t.labels:{},c=new s({name:r+i,help:"Garbage collection duration by kind, one of major, minor, incremental or weakcb.",labelNames:["kind",...Object.keys(l)],enableExemplars:!1,buckets:t.gcDurationBuckets?t.gcDurationBuckets:o,registers:e?[e]:void 0});new n.PerformanceObserver(e=>{let t=e.getEntries()[0],r=t.detail?a[t.detail.kind]:a[t.kind];c.observe(Object.assign({kind:r},l),t.duration/1e3)}).observe({entryTypes:["gc"]})},t.exports.metricNames=[i]},683435,(e,t,r)=>{"use strict";let{isObject:n}=e.r(607727),s=e.r(402542),i=e.r(835037),o=e.r(563183),a=e.r(852489),l=e.r(553193),c=e.r(295146),u=e.r(207248),h=e.r(257815),p=e.r(640105),f=e.r(464923),m=e.r(676339),d=e.r(256141),g=e.r(472095),_={processCpuTotal:s,processStartTime:i,osMemoryHeap:o,processOpenFileDescriptors:a,processMaxFileDescriptors:l,eventLoopLag:c,..."function"==typeof process.getActiveResourcesInfo?{processResources:p}:{},processHandles:u,processRequests:h,heapSizeAndUsed:f,heapSpacesSizeAndUsed:m,version:d,gc:g},y=Object.keys(_);t.exports=function(e){if(null!=e&&!n(e))throw TypeError("config must be null, undefined, or an object");for(let t of(e={eventLoopMonitoringPrecision:10,...e},Object.values(_)))t(e.register,e)},t.exports.metricsList=y},492947,(e,t,r)=>{"use strict";let{Grouper:n,hashObject:s}=e.r(607727);function i(e){return t=>{if(0===t.length)return;let r={help:t[0].help,name:t[0].name,type:t[0].type,values:[],aggregator:t[0].aggregator},i=new n;return t.forEach(e=>{e.values.forEach(e=>{let t=s(e.labels);i.add(`${e.metricName}_${t}`,e)})}),i.forEach(t=>{if(0===t.length)return;let n={value:e(t),labels:t[0].labels};t[0].metricName&&(n.metricName=t[0].metricName),r.values.push(n)}),r}}r.AggregatorFactory=i,r.aggregators={sum:i(e=>e.reduce((e,t)=>e+t.value,0)),first:i(e=>e[0].value),omit:()=>{},average:i(e=>e.reduce((e,t)=>e+t.value,0)/e.length),min:i(e=>e.reduce((e,t)=>Math.min(e,t.value),1/0)),max:i(e=>e.reduce((e,t)=>Math.max(e,t.value),-1/0))}},722890,(e,t,r)=>{"use strict";let n=e.r(60479),{Grouper:s}=e.r(607727),{aggregators:i}=e.r(492947),o=()=>{let t=e.r(323671);return o=()=>t,t},a="prom-client:getMetricsReq",l="prom-client:getMetricsRes",c=[n.globalRegistry],u=0,h=!1,p=new Map;class f extends n{constructor(e=n.PROMETHEUS_CONTENT_TYPE){super(e),!h&&(h=!0,o().isMaster&&o().on("message",(e,t)=>{if(t.type===l){let e=p.get(t.requestId);if(t.error)return void e.done(Error(t.error));if(t.metrics.forEach(t=>e.responses.push(t)),e.pending--,0===e.pending){p.delete(t.requestId),clearTimeout(e.errorTimeout);let r=f.aggregate(e.responses).metrics();e.done(null,r)}}}),o().isWorker&&process.on("message",e=>{e.type===a&&Promise.all(c.map(e=>e.getMetricsAsJSON())).then(t=>{process.send({type:l,requestId:e.requestId,metrics:t})}).catch(t=>{process.send({type:l,requestId:e.requestId,error:t.message})})}))}clusterMetrics(){let e=u++;return new Promise((t,r)=>{let n=!1;function s(e,s){n||(n=!0,e?r(e):t(s))}let i={responses:[],pending:0,done:s,errorTimeout:setTimeout(()=>{let e=Error("Operation timed out.");i.done(e)},5e3)};p.set(e,i);let l={type:a,requestId:e};for(let e in o().workers)o().workers[e].isConnected()&&(o().workers[e].send(l),i.pending++);0===i.pending&&(clearTimeout(i.errorTimeout),process.nextTick(()=>s(null,"")))})}get contentType(){return super.contentType}static aggregate(e,t=n.PROMETHEUS_CONTENT_TYPE){let r=new n,o=new s;return r.setContentType(t),e.forEach(e=>{e.forEach(e=>{o.add(e.name,e)})}),o.forEach(e=>{let t=e[0].aggregator,n=i[t];if("function"!=typeof n)throw Error(`'${t}' is not a defined aggregator.`);let s=n(e);if(s){let e=Object.assign({get:()=>s},s);r.registerMetric(e)}}),r}static setRegistries(e){Array.isArray(e)||(e=[e]),e.forEach(e=>{if(!(e instanceof n))throw TypeError(`Expected Registry, got ${typeof e}`)}),c=e}}t.exports=f},703141,(e,t,r)=>{"use strict";r.register=e.r(60479).globalRegistry,r.Registry=e.r(60479),Object.defineProperty(r,"contentType",{configurable:!1,enumerable:!0,get:()=>r.register.contentType,set(e){r.register.setContentType(e)}}),r.prometheusContentType=r.Registry.PROMETHEUS_CONTENT_TYPE,r.openMetricsContentType=r.Registry.OPENMETRICS_CONTENT_TYPE,r.validateMetricName=e.r(169037).validateMetricName,r.Counter=e.r(401537),r.Gauge=e.r(983680),r.Histogram=e.r(660755),r.Summary=e.r(683467),r.Pushgateway=e.r(716463),r.linearBuckets=e.r(648890).linearBuckets,r.exponentialBuckets=e.r(648890).exponentialBuckets,r.collectDefaultMetrics=e.r(683435),r.aggregators=e.r(492947).aggregators,r.AggregatorRegistry=e.r(722890)}];

//# sourceMappingURL=node_modules_50786bef._.js.map