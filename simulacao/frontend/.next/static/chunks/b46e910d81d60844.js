(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,579473,408155,939426,594734,713764,547160,875740,e=>{"use strict";function t(e,t){let a;try{a=e()}catch(e){return}return{getItem:e=>{var r;let n=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(r=a.getItem(e))?r:null;return i instanceof Promise?i.then(n):n(i)},setItem:(e,r)=>a.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>a.removeItem(e)}}let a=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>a(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>a(t)(e)}}},r=(e,r)=>(n,i,s)=>{let o,u={storage:t(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...r},c=!1,p=new Set,m=new Set,d=u.storage;if(!d)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),n(...e)},i,s);let l=()=>{let e=u.partialize({...i()});return d.setItem(u.name,{state:e,version:u.version})},y=s.setState;s.setState=(e,t)=>{y(e,t),l()};let f=e((...e)=>{n(...e),l()},i,s);s.getInitialState=()=>f;let g=()=>{var e,t;if(!d)return;c=!1,p.forEach(e=>{var t;return e(null!=(t=i())?t:f)});let r=(null==(t=u.onRehydrateStorage)?void 0:t.call(u,null!=(e=i())?e:f))||void 0;return a(d.getItem.bind(d))(u.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===u.version)return[!1,e.state];else{if(u.migrate){let t=u.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[a,r]=e;if(n(o=u.merge(r,null!=(t=i())?t:f),!0),a)return l()}).then(()=>{null==r||r(o,void 0),o=i(),c=!0,m.forEach(e=>e(o))}).catch(e=>{null==r||r(void 0,e)})};return s.persist={setOptions:e=>{u={...u,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>g(),hasHydrated:()=>c,onHydrate:e=>(p.add(e),()=>{p.delete(e)}),onFinishHydration:e=>(m.add(e),()=>{m.delete(e)})},u.skipHydration||g(),o||f};e.s(["createJSONStorage",()=>t,"persist",()=>r],579473);let n=e=>{let t,a=new Set,r=(e,r)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=r?r:"object"!=typeof n||null===n)?n:Object.assign({},t,n),a.forEach(a=>a(t,e))}},n=()=>t,i={setState:r,getState:n,getInitialState:()=>s,subscribe:e=>(a.add(e),()=>a.delete(e))},s=t=e(r,n,i);return i},i=e=>e?n(e):n;e.s(["createStore",()=>i],408155);var s=e.i(363625),o=e.i(975948),u=e.i(189991),c=e.i(611573),p=e.i(467125),m=e.i(826051),d=e.i(569934),l=e.i(878023),y=e.i(959953),f=d;class g extends f.BaseError{constructor({cause:e}){super("Smart Account is not deployed.",{cause:e,metaMessages:["This could arise when:","- No `factory`/`factoryData` or `initCode` properties are provided for Smart Account deployment.","- An incorrect `sender` address is provided."],name:"AccountNotDeployedError"})}}Object.defineProperty(g,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa20/});class b extends f.BaseError{constructor({cause:e,data:t,message:a}={}){const r=a?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32521}),Object.defineProperty(b,"message",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class v extends f.BaseError{constructor({cause:e}){super("Failed to send funds to beneficiary.",{cause:e,name:"FailedToSendToBeneficiaryError"})}}Object.defineProperty(v,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa91/});class h extends f.BaseError{constructor({cause:e}){super("Gas value overflowed.",{cause:e,metaMessages:["This could arise when:","- one of the gas values exceeded 2**120 (uint120)"].filter(Boolean),name:"GasValuesOverflowError"})}}Object.defineProperty(h,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa94/});class w extends f.BaseError{constructor({cause:e}){super("The `handleOps` function was called by the Bundler with a gas limit too low.",{cause:e,name:"HandleOpsOutOfGasError"})}}Object.defineProperty(w,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa95/});class x extends f.BaseError{constructor({cause:e,factory:t,factoryData:a,initCode:r}){super("Failed to simulate deployment for Smart Account.",{cause:e,metaMessages:["This could arise when:","- Invalid `factory`/`factoryData` or `initCode` properties are present","- Smart Account deployment execution ran out of gas (low `verificationGasLimit` value)","- Smart Account deployment execution reverted with an error\n",t&&`factory: ${t}`,a&&`factoryData: ${a}`,r&&`initCode: ${r}`].filter(Boolean),name:"InitCodeFailedError"})}}Object.defineProperty(x,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa13/});class P extends f.BaseError{constructor({cause:e,factory:t,factoryData:a,initCode:r}){super("Smart Account initialization implementation did not create an account.",{cause:e,metaMessages:["This could arise when:","- `factory`/`factoryData` or `initCode` properties are invalid","- Smart Account initialization implementation is incorrect\n",t&&`factory: ${t}`,a&&`factoryData: ${a}`,r&&`initCode: ${r}`].filter(Boolean),name:"InitCodeMustCreateSenderError"})}}Object.defineProperty(P,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa15/});class G extends f.BaseError{constructor({cause:e,factory:t,factoryData:a,initCode:r,sender:n}){super("Smart Account initialization implementation does not return the expected sender.",{cause:e,metaMessages:["This could arise when:","Smart Account initialization implementation does not return a sender address\n",t&&`factory: ${t}`,a&&`factoryData: ${a}`,r&&`initCode: ${r}`,n&&`sender: ${n}`].filter(Boolean),name:"InitCodeMustReturnSenderError"})}}Object.defineProperty(G,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa14/});class O extends f.BaseError{constructor({cause:e}){super("Smart Account does not have sufficient funds to execute the User Operation.",{cause:e,metaMessages:["This could arise when:","- the Smart Account does not have sufficient funds to cover the required prefund, or","- a Paymaster was not provided"].filter(Boolean),name:"InsufficientPrefundError"})}}Object.defineProperty(O,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa21/});class E extends f.BaseError{constructor({cause:e}){super("Bundler attempted to call an invalid function on the EntryPoint.",{cause:e,name:"InternalCallOnlyError"})}}Object.defineProperty(E,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa92/});class D extends f.BaseError{constructor({cause:e}){super("Bundler used an invalid aggregator for handling aggregated User Operations.",{cause:e,name:"InvalidAggregatorError"})}}Object.defineProperty(D,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa96/});class A extends f.BaseError{constructor({cause:e,nonce:t}){super("Invalid Smart Account nonce used for User Operation.",{cause:e,metaMessages:[t&&`nonce: ${t}`].filter(Boolean),name:"InvalidAccountNonceError"})}}Object.defineProperty(A,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa25/});class B extends f.BaseError{constructor({cause:e}){super("Bundler has not set a beneficiary address.",{cause:e,name:"InvalidBeneficiaryError"})}}Object.defineProperty(B,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa90/});class L extends f.BaseError{constructor({cause:e}){super("Invalid fields set on User Operation.",{cause:e,name:"InvalidFieldsError"})}}Object.defineProperty(L,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class S extends f.BaseError{constructor({cause:e,paymasterAndData:t}){super("Paymaster properties provided are invalid.",{cause:e,metaMessages:["This could arise when:","- the `paymasterAndData` property is of an incorrect length\n",t&&`paymasterAndData: ${t}`].filter(Boolean),name:"InvalidPaymasterAndDataError"})}}Object.defineProperty(S,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa93/});class U extends f.BaseError{constructor({cause:e}){super("Paymaster deposit for the User Operation is too low.",{cause:e,metaMessages:["This could arise when:","- the Paymaster has deposited less than the expected amount via the `deposit` function"].filter(Boolean),name:"PaymasterDepositTooLowError"})}}Object.defineProperty(U,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32508}),Object.defineProperty(U,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa31/});class C extends f.BaseError{constructor({cause:e}){super("The `validatePaymasterUserOp` function on the Paymaster reverted.",{cause:e,name:"PaymasterFunctionRevertedError"})}}Object.defineProperty(C,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa33/});class F extends f.BaseError{constructor({cause:e}){super("The Paymaster contract has not been deployed.",{cause:e,name:"PaymasterNotDeployedError"})}}Object.defineProperty(F,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa30/});class I extends f.BaseError{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterRateLimitError"})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32504});class T extends f.BaseError{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterStakeTooLowError"})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32505});class k extends f.BaseError{constructor({cause:e}){super("Paymaster `postOp` function reverted.",{cause:e,name:"PaymasterPostOpFunctionRevertedError"})}}Object.defineProperty(k,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa50/});class j extends f.BaseError{constructor({cause:e,factory:t,factoryData:a,initCode:r}){super("Smart Account has already been deployed.",{cause:e,metaMessages:["Remove the following properties and try again:",t&&"`factory`",a&&"`factoryData`",r&&"`initCode`"].filter(Boolean),name:"SenderAlreadyConstructedError"})}}Object.defineProperty(j,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa10/});class V extends f.BaseError{constructor({cause:e}){super("UserOperation rejected because account signature check failed (or paymaster signature, if the paymaster uses its data as signature).",{cause:e,name:"SignatureCheckFailedError"})}}Object.defineProperty(V,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32507});class M extends f.BaseError{constructor({cause:e}){super("The `validateUserOp` function on the Smart Account reverted.",{cause:e,name:"SmartAccountFunctionRevertedError"})}}Object.defineProperty(M,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa23/});class z extends f.BaseError{constructor({cause:e}){super("UserOperation rejected because account specified unsupported signature aggregator.",{cause:e,name:"UnsupportedSignatureAggregatorError"})}}Object.defineProperty(z,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32506});class H extends f.BaseError{constructor({cause:e}){super("User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validateUserOp` on the Smart Account are not satisfied"].filter(Boolean),name:"UserOperationExpiredError"})}}Object.defineProperty(H,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa22/});class R extends f.BaseError{constructor({cause:e}){super("Paymaster for User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validatePaymasterUserOp` on the Paymaster are not satisfied"].filter(Boolean),name:"UserOperationPaymasterExpiredError"})}}Object.defineProperty(R,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa32/});class N extends f.BaseError{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Smart Account"].filter(Boolean),name:"UserOperationSignatureError"})}}Object.defineProperty(N,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa24/});class $ extends f.BaseError{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Paymaster"].filter(Boolean),name:"UserOperationPaymasterSignatureError"})}}Object.defineProperty($,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa34/});class q extends f.BaseError{constructor({cause:e}){super("User Operation rejected by EntryPoint's `simulateValidation` during account creation or validation.",{cause:e,name:"UserOperationRejectedByEntryPointError"})}}Object.defineProperty(q,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32500});class _ extends f.BaseError{constructor({cause:e}){super("User Operation rejected by Paymaster's `validatePaymasterUserOp`.",{cause:e,name:"UserOperationRejectedByPaymasterError"})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32501});class W extends f.BaseError{constructor({cause:e}){super("User Operation rejected with op code validation error.",{cause:e,name:"UserOperationRejectedByOpCodeError"})}}Object.defineProperty(W,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32502});class J extends f.BaseError{constructor({cause:e}){super("UserOperation out of time-range: either wallet or paymaster returned a time-range, and it is already expired (or will expire soon).",{cause:e,name:"UserOperationOutOfTimeRangeError"})}}Object.defineProperty(J,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32503});class K extends f.BaseError{constructor({cause:e}){super(`An error occurred while executing user operation: ${e?.shortMessage}`,{cause:e,name:"UnknownBundlerError"})}}class Z extends f.BaseError{constructor({cause:e}){super("User Operation verification gas limit exceeded.",{cause:e,metaMessages:["This could arise when:","- the gas used for verification exceeded the `verificationGasLimit`"].filter(Boolean),name:"VerificationGasLimitExceededError"})}}Object.defineProperty(Z,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa40/});class Q extends f.BaseError{constructor({cause:e}){super("User Operation verification gas limit is too low.",{cause:e,metaMessages:["This could arise when:","- the `verificationGasLimit` is too low to verify the User Operation"].filter(Boolean),name:"VerificationGasLimitTooLowError"})}}Object.defineProperty(Q,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa41/});var X=d,Y=e.i(393702),ee=e.i(976486);class et extends X.BaseError{constructor(e,{callData:t,callGasLimit:a,docsPath:r,factory:n,factoryData:i,initCode:s,maxFeePerGas:o,maxPriorityFeePerGas:u,nonce:c,paymaster:p,paymasterAndData:m,paymasterData:d,paymasterPostOpGasLimit:l,paymasterVerificationGasLimit:y,preVerificationGas:f,sender:g,signature:b,verificationGasLimit:v}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",(0,Y.prettyPrint)({callData:t,callGasLimit:a,factory:n,factoryData:i,initCode:s,maxFeePerGas:void 0!==o&&`${(0,ee.formatGwei)(o)} gwei`,maxPriorityFeePerGas:void 0!==u&&`${(0,ee.formatGwei)(u)} gwei`,nonce:c,paymaster:p,paymasterAndData:m,paymasterData:d,paymasterPostOpGasLimit:l,paymasterVerificationGasLimit:y,preVerificationGas:f,sender:g,signature:b,verificationGasLimit:v})].filter(Boolean),name:"UserOperationExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ea extends X.BaseError{constructor({hash:e}){super(`User Operation receipt with hash "${e}" could not be found. The User Operation may not have been processed yet.`,{name:"UserOperationReceiptNotFoundError"})}}class er extends X.BaseError{constructor({hash:e}){super(`User Operation with hash "${e}" could not be found.`,{name:"UserOperationNotFoundError"})}}class en extends X.BaseError{constructor({hash:e}){super(`Timed out while waiting for User Operation with hash "${e}" to be confirmed.`,{name:"WaitForUserOperationReceiptTimeoutError"})}}let ei=[b,L,U,I,T,V,z,J,q,_,W];function es(e,{calls:t,docsPath:a,...r}){return new et((()=>{let a=function(e,t){let a=(e.details||"").toLowerCase();if(g.message.test(a))return new g({cause:e});if(v.message.test(a))return new v({cause:e});if(h.message.test(a))return new h({cause:e});if(w.message.test(a))return new w({cause:e});if(x.message.test(a))return new x({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(P.message.test(a))return new P({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(G.message.test(a))return new G({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode,sender:t.sender});if(O.message.test(a))return new O({cause:e});if(E.message.test(a))return new E({cause:e});if(A.message.test(a))return new A({cause:e,nonce:t.nonce});if(D.message.test(a))return new D({cause:e});if(B.message.test(a))return new B({cause:e});if(S.message.test(a))return new S({cause:e});if(U.message.test(a))return new U({cause:e});if(C.message.test(a))return new C({cause:e});if(F.message.test(a))return new F({cause:e});if(k.message.test(a))return new k({cause:e});if(M.message.test(a))return new M({cause:e});if(j.message.test(a))return new j({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(H.message.test(a))return new H({cause:e});if(R.message.test(a))return new R({cause:e});if($.message.test(a))return new $({cause:e});if(N.message.test(a))return new N({cause:e});if(Z.message.test(a))return new Z({cause:e});if(Q.message.test(a))return new Q({cause:e});let r=e.walk(e=>ei.some(t=>t.code===e.code));if(r){if(r.code===b.code)return new b({cause:e,data:r.data,message:r.details});if(r.code===L.code)return new L({cause:e});if(r.code===U.code)return new U({cause:e});if(r.code===I.code)return new I({cause:e});if(r.code===T.code)return new T({cause:e});if(r.code===V.code)return new V({cause:e});if(r.code===z.code)return new z({cause:e});if(r.code===J.code)return new J({cause:e});if(r.code===q.code)return new q({cause:e});if(r.code===_.code)return new _({cause:e});if(r.code===W.code)return new W({cause:e})}return new K({cause:e})}(e,r);if(t&&a instanceof b){let e,r=(a.walk(t=>{if("string"==typeof t.data||"string"==typeof t.data?.revertData||!(t instanceof d.BaseError)&&"string"==typeof t.message){let a=(t.data?.revertData||t.data||t.message).match?.(/(0x[A-Za-z0-9]*)/);if(a)return e=a[1],!0}return!1}),e),n=t?.filter(e=>e.abi);if(r&&n.length>0)return function(e){let{calls:t,revertData:a}=e,{abi:r,functionName:n,args:i,to:s}=(()=>{let e=t?.filter(e=>!!e.abi);if(1===e.length)return e[0];let r=e.filter(e=>{try{return!!(0,y.decodeErrorResult)({abi:e.abi,data:a})}catch{return!1}});return 1===r.length?r[0]:{abi:[],functionName:e.reduce((e,t)=>`${e?`${e} | `:""}${t.functionName}`,""),args:void 0,to:void 0}})(),o="0x"===a?new l.ContractFunctionZeroDataError({functionName:n}):new l.ContractFunctionRevertedError({abi:r,data:a,functionName:n});return new l.ContractFunctionExecutionError(o,{abi:r,args:i,contractAddress:s,functionName:n})}({calls:n,revertData:r})}return a})(),{docsPath:a,...r})}var eo=e.i(675107),eu=e.i(22411);function ec(e){var t;let a={};return void 0!==e.callData&&(a.callData=e.callData),void 0!==e.callGasLimit&&(a.callGasLimit=(0,eo.numberToHex)(e.callGasLimit)),void 0!==e.factory&&(a.factory=e.factory),void 0!==e.factoryData&&(a.factoryData=e.factoryData),void 0!==e.initCode&&(a.initCode=e.initCode),void 0!==e.maxFeePerGas&&(a.maxFeePerGas=(0,eo.numberToHex)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(a.maxPriorityFeePerGas=(0,eo.numberToHex)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(a.nonce=(0,eo.numberToHex)(e.nonce)),void 0!==e.paymaster&&(a.paymaster=e.paymaster),void 0!==e.paymasterAndData&&(a.paymasterAndData=e.paymasterAndData||"0x"),void 0!==e.paymasterData&&(a.paymasterData=e.paymasterData),void 0!==e.paymasterPostOpGasLimit&&(a.paymasterPostOpGasLimit=(0,eo.numberToHex)(e.paymasterPostOpGasLimit)),void 0!==e.paymasterVerificationGasLimit&&(a.paymasterVerificationGasLimit=(0,eo.numberToHex)(e.paymasterVerificationGasLimit)),void 0!==e.preVerificationGas&&(a.preVerificationGas=(0,eo.numberToHex)(e.preVerificationGas)),void 0!==e.sender&&(a.sender=e.sender),void 0!==e.signature&&(a.signature=e.signature),void 0!==e.verificationGasLimit&&(a.verificationGasLimit=(0,eo.numberToHex)(e.verificationGasLimit)),void 0!==e.authorization&&(a.eip7702Auth={address:(t=e.authorization).address,chainId:(0,eo.numberToHex)(t.chainId),nonce:(0,eo.numberToHex)(t.nonce),r:t.r?(0,eo.numberToHex)(BigInt(t.r),{size:32}):(0,eu.pad)("0x",{size:32}),s:t.s?(0,eo.numberToHex)(BigInt(t.s),{size:32}):(0,eu.pad)("0x",{size:32}),yParity:t.yParity?(0,eo.numberToHex)(t.yParity,{size:1}):(0,eu.pad)("0x",{size:32})}),a}var ep=e.i(829897),em=e.i(972960),ed=e.i(656679),el=e.i(147526),ey=e.i(450323);async function ef(e,t){let{chainId:a,entryPointAddress:r,context:n,...i}=t,s=ec(i),{paymasterPostOpGasLimit:o,paymasterVerificationGasLimit:u,...c}=await e.request({method:"pm_getPaymasterData",params:[{...s,callGasLimit:s.callGasLimit??"0x0",verificationGasLimit:s.verificationGasLimit??"0x0",preVerificationGas:s.preVerificationGas??"0x0"},r,(0,eo.numberToHex)(a),n]});return{...c,...o&&{paymasterPostOpGasLimit:(0,ey.hexToBigInt)(o)},...u&&{paymasterVerificationGasLimit:(0,ey.hexToBigInt)(u)}}}async function eg(e,t){let{chainId:a,entryPointAddress:r,context:n,...i}=t,s=ec(i),{paymasterPostOpGasLimit:o,paymasterVerificationGasLimit:u,...c}=await e.request({method:"pm_getPaymasterStubData",params:[{...s,callGasLimit:s.callGasLimit??"0x0",verificationGasLimit:s.verificationGasLimit??"0x0",preVerificationGas:s.preVerificationGas??"0x0"},r,(0,eo.numberToHex)(a),n]});return{...c,...o&&{paymasterPostOpGasLimit:(0,ey.hexToBigInt)(o)},...u&&{paymasterVerificationGasLimit:(0,ey.hexToBigInt)(u)}}}let eb=["factory","fees","gas","paymaster","nonce","signature","authorization"];async function ev(e,t){let a,{account:r=e.account,parameters:n=eb,stateOverride:i}=t;if(!r)throw new c.AccountNotFoundError;let s=(0,u.parseAccount)(r),m=t.paymaster??e?.paymaster,d="string"==typeof m?m:void 0,{getPaymasterStubData:l,getPaymasterData:y}=(()=>{if(!0===m)return{getPaymasterStubData:t=>(0,p.getAction)(e,eg,"getPaymasterStubData")(t),getPaymasterData:t=>(0,p.getAction)(e,ef,"getPaymasterData")(t)};if("object"==typeof m){let{getPaymasterStubData:e,getPaymasterData:t}=m;return{getPaymasterStubData:t&&e?e:t,getPaymasterData:t&&e?t:void 0}}return{getPaymasterStubData:void 0,getPaymasterData:void 0}})(),f=t.paymasterContext?t.paymasterContext:e?.paymasterContext,g={...t,paymaster:d,sender:s.address},[b,v,h,w,x]=await Promise.all([(async()=>t.calls?s.encodeCalls(t.calls.map(e=>e.abi?{data:(0,ed.encodeFunctionData)(e),to:e.to,value:e.value}:e)):t.callData)(),(async()=>{if(!n.includes("factory"))return;if(t.initCode)return{initCode:t.initCode};if(t.factory&&t.factoryData)return{factory:t.factory,factoryData:t.factoryData};let{factory:e,factoryData:a}=await s.getFactoryArgs();return"0.6"===s.entryPoint.version?{initCode:e&&a?(0,el.concat)([e,a]):void 0}:{factory:e,factoryData:a}})(),(async()=>{if(n.includes("fees")){if("bigint"==typeof t.maxFeePerGas&&"bigint"==typeof t.maxPriorityFeePerGas)return g;if(e?.userOperation?.estimateFeesPerGas){let t=await e.userOperation.estimateFeesPerGas({account:s,bundlerClient:e,userOperation:g});return{...g,...t}}try{let a=e.client??e,r=await (0,p.getAction)(a,em.estimateFeesPerGas,"estimateFeesPerGas")({chain:a.chain,type:"eip1559"});return{maxFeePerGas:"bigint"==typeof t.maxFeePerGas?t.maxFeePerGas:BigInt(2n*r.maxFeePerGas),maxPriorityFeePerGas:"bigint"==typeof t.maxPriorityFeePerGas?t.maxPriorityFeePerGas:BigInt(2n*r.maxPriorityFeePerGas)}}catch{return}}})(),(async()=>{if(n.includes("nonce"))return"bigint"==typeof t.nonce?t.nonce:s.getNonce()})(),(async()=>{if(n.includes("authorization")){if("object"==typeof t.authorization)return t.authorization;if(s.authorization&&!await s.isDeployed())return{...await (0,ep.prepareAuthorization)(s.client,s.authorization),r:"0xfffffffffffffffffffffffffffffff000000000000000000000000000000000",s:"0x7aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",yParity:1}}})()]);async function P(){return a||(e.chain?e.chain.id:a=await (0,p.getAction)(e,o.getChainId,"getChainId")({}))}void 0!==b&&(g.callData=b),void 0!==v&&(g={...g,...v}),void 0!==h&&(g={...g,...h}),void 0!==w&&(g.nonce=w),void 0!==x&&(g.authorization=x),n.includes("signature")&&(void 0!==t.signature?g.signature=t.signature:g.signature=await s.getStubSignature(g)),"0.6"!==s.entryPoint.version||g.initCode||(g.initCode="0x");let G=!1;if(n.includes("paymaster")&&l&&!d&&!t.paymasterAndData){let{isFinal:e=!1,sponsor:t,...a}=await l({chainId:await P(),entryPointAddress:s.entryPoint.address,context:f,...g});G=e,g={...g,...a}}if("0.6"!==s.entryPoint.version||g.paymasterAndData||(g.paymasterAndData="0x"),n.includes("gas")){if(s.userOperation?.estimateGas){let e=await s.userOperation.estimateGas(g);g={...g,...e}}if(void 0===g.callGasLimit||void 0===g.preVerificationGas||void 0===g.verificationGasLimit||g.paymaster&&void 0===g.paymasterPostOpGasLimit||g.paymaster&&void 0===g.paymasterVerificationGasLimit){let t=await (0,p.getAction)(e,eh,"estimateUserOperationGas")({account:s,callGasLimit:0n,preVerificationGas:0n,verificationGasLimit:0n,stateOverride:i,...g.paymaster?{paymasterPostOpGasLimit:0n,paymasterVerificationGasLimit:0n}:{},...g});g={...g,callGasLimit:g.callGasLimit??t.callGasLimit,preVerificationGas:g.preVerificationGas??t.preVerificationGas,verificationGasLimit:g.verificationGasLimit??t.verificationGasLimit,paymasterPostOpGasLimit:g.paymasterPostOpGasLimit??t.paymasterPostOpGasLimit,paymasterVerificationGasLimit:g.paymasterVerificationGasLimit??t.paymasterVerificationGasLimit}}}if(n.includes("paymaster")&&y&&!d&&!t.paymasterAndData&&!G){let e=await y({chainId:await P(),entryPointAddress:s.entryPoint.address,context:f,...g});g={...g,...e}}return delete g.calls,delete g.parameters,delete g.paymasterContext,"string"!=typeof g.paymaster&&delete g.paymaster,g}async function eh(e,t){let{account:a=e.account,entryPointAddress:r,stateOverride:n}=t;if(!a&&!t.sender)throw new c.AccountNotFoundError;let i=a?(0,u.parseAccount)(a):void 0,s=(0,m.serializeStateOverride)(n),o=i?await (0,p.getAction)(e,ev,"prepareUserOperation")({...t,parameters:["authorization","factory","nonce","paymaster","signature"]}):t;try{var d;let t,a=[ec(o),r??i?.entryPoint?.address];return d=await e.request({method:"eth_estimateUserOperationGas",params:s?[...a,s]:[...a]}),t={},d.callGasLimit&&(t.callGasLimit=BigInt(d.callGasLimit)),d.preVerificationGas&&(t.preVerificationGas=BigInt(d.preVerificationGas)),d.verificationGasLimit&&(t.verificationGasLimit=BigInt(d.verificationGasLimit)),d.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=BigInt(d.paymasterPostOpGasLimit)),d.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=BigInt(d.paymasterVerificationGasLimit)),t}catch(a){let e=t.calls;throw es(a,{...o,...e?{calls:e}:{}})}}async function ew(e,{hash:t}){let a,r=await e.request({method:"eth_getUserOperationByHash",params:[t]},{dedupe:!0});if(!r)throw new er({hash:t});let{blockHash:n,blockNumber:i,entryPoint:s,transactionHash:o,userOperation:u}=r;return{blockHash:n,blockNumber:BigInt(i),entryPoint:s,transactionHash:o,userOperation:(a={...u},u.callGasLimit&&(a.callGasLimit=BigInt(u.callGasLimit)),u.maxFeePerGas&&(a.maxFeePerGas=BigInt(u.maxFeePerGas)),u.maxPriorityFeePerGas&&(a.maxPriorityFeePerGas=BigInt(u.maxPriorityFeePerGas)),u.nonce&&(a.nonce=BigInt(u.nonce)),u.paymasterPostOpGasLimit&&(a.paymasterPostOpGasLimit=BigInt(u.paymasterPostOpGasLimit)),u.paymasterVerificationGasLimit&&(a.paymasterVerificationGasLimit=BigInt(u.paymasterVerificationGasLimit)),u.preVerificationGas&&(a.preVerificationGas=BigInt(u.preVerificationGas)),u.verificationGasLimit&&(a.verificationGasLimit=BigInt(u.verificationGasLimit)),a)}}var ex=e.i(856324),eP=e.i(839080);async function eG(e,{hash:t}){let a,r=await e.request({method:"eth_getUserOperationReceipt",params:[t]},{dedupe:!0});if(!r)throw new ea({hash:t});return a={...r},r.actualGasCost&&(a.actualGasCost=BigInt(r.actualGasCost)),r.actualGasUsed&&(a.actualGasUsed=BigInt(r.actualGasUsed)),r.logs&&(a.logs=r.logs.map(e=>(0,ex.formatLog)(e))),r.receipt&&(a.receipt=(0,eP.formatTransactionReceipt)(a.receipt)),a}async function eO(e,t){let{account:a=e.account,entryPointAddress:r}=t;if(!a&&!t.sender)throw new c.AccountNotFoundError;let n=a?(0,u.parseAccount)(a):void 0,i=n?await (0,p.getAction)(e,ev,"prepareUserOperation")(t):t,s=t.signature||await n?.signUserOperation?.(i),o=ec({...i,signature:s});try{return await e.request({method:"eth_sendUserOperation",params:[o,r??n?.entryPoint?.address]},{retryCount:0})}catch(a){let e=t.calls;throw es(a,{...i,...e?{calls:e}:{},signature:s})}}var eE=e.i(20101),eD=e.i(976215),eA=e.i(34888);function eB(e){return{estimateUserOperationGas:t=>eh(e,t),getChainId:()=>(0,o.getChainId)(e),getSupportedEntryPoints:()=>e.request({method:"eth_supportedEntryPoints"}),getUserOperation:t=>ew(e,t),getUserOperationReceipt:t=>eG(e,t),prepareUserOperation:t=>ev(e,t),sendUserOperation:t=>eO(e,t),waitForUserOperationReceipt:t=>(function(e,t){let{hash:a,pollingInterval:r=e.pollingInterval,retryCount:n,timeout:i=12e4}=t,s=0,o=(0,eA.stringify)(["waitForUserOperationReceipt",e.uid,a]);return new Promise((t,u)=>{let c=(0,eE.observe)(o,{resolve:t,reject:u},t=>{let o=e=>{u(),e(),c()},u=(0,eD.poll)(async()=>{n&&s>=n&&o(()=>t.reject(new en({hash:a})));try{let r=await (0,p.getAction)(e,eG,"getUserOperationReceipt")({hash:a});o(()=>t.resolve(r))}catch(e){"UserOperationReceiptNotFoundError"!==e.name&&o(()=>t.reject(e))}s++},{emitOnBegin:!0,interval:r});return i&&setTimeout(()=>o(()=>t.reject(new en({hash:a}))),i),u})})})(e,t)}}function eL(e){let{client:t,key:a="bundler",name:r="Bundler Client",paymaster:n,paymasterContext:i,transport:o,userOperation:u}=e;return Object.assign((0,s.createClient)({...e,chain:e.chain??t?.chain,key:a,name:r,transport:o,type:"bundlerClient"}),{client:t,paymaster:n,paymasterContext:i,userOperation:u}).extend(eB)}e.s(["createBundlerClient",()=>eL],939426);let eS=[{inputs:[{name:"preOpGas",type:"uint256"},{name:"paid",type:"uint256"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"targetSuccess",type:"bool"},{name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"},{components:[{name:"aggregator",type:"address"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"stakeInfo",type:"tuple"}],name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"},{name:"sender",type:"address"},{name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"op",type:"tuple"},{name:"target",type:"address"},{name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];e.s(["entryPoint06Abi",0,eS],594734),e.s(["entryPoint06Address",0,"0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789"],713764);var eU=e.i(704434),eC=e.i(831095),eF=e.i(995062);function eI(e){let{authorization:t,factory:a,factoryData:r}=e;if("0x7702"===a||"0x7702000000000000000000000000000000000000"===a){if(!t)return"0x7702000000000000000000000000000000000000";let e=t.address;return(0,el.concat)([e,r??"0x"])}return a?(0,el.concat)([a,r??"0x"]):"0x"}function eT(e){let{callGasLimit:t,callData:a,maxPriorityFeePerGas:r,maxFeePerGas:n,paymaster:i,paymasterData:s,paymasterPostOpGasLimit:o,paymasterVerificationGasLimit:u,sender:c,signature:p="0x",verificationGasLimit:m}=e,d=(0,el.concat)([(0,eu.pad)((0,eo.numberToHex)(m||0n),{size:16}),(0,eu.pad)((0,eo.numberToHex)(t||0n),{size:16})]),l=eI(e),y=(0,el.concat)([(0,eu.pad)((0,eo.numberToHex)(r||0n),{size:16}),(0,eu.pad)((0,eo.numberToHex)(n||0n),{size:16})]),f=e.nonce??0n;return{accountGasLimits:d,callData:a,initCode:l,gasFees:y,nonce:f,paymasterAndData:i?(0,el.concat)([i,(0,eu.pad)((0,eo.numberToHex)(u||0n),{size:16}),(0,eu.pad)((0,eo.numberToHex)(o||0n),{size:16}),s||"0x"]):"0x",preVerificationGas:e.preVerificationGas??0n,sender:c,signature:p}}let ek={PackedUserOperation:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"}]};function ej(e){let{chainId:t,entryPointAddress:a,entryPointVersion:r}=e,n=e.userOperation,{authorization:i,callData:s="0x",callGasLimit:o,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:p,paymasterAndData:m="0x",preVerificationGas:d,sender:l,verificationGasLimit:y}=n;if("0.8"===r)return(0,eF.hashTypedData)(function(e){let{chainId:t,entryPointAddress:a,userOperation:r}=e;return{types:ek,primaryType:"PackedUserOperation",domain:{name:"ERC4337",version:"1",chainId:t,verifyingContract:a},message:eT(r)}}({chainId:t,entryPointAddress:a,userOperation:n}));let f=(()=>{if("0.6"===r){let e=eI({authorization:i,factory:n.initCode?.slice(0,42),factoryData:n.initCode?.slice(42)});return(0,eU.encodeAbiParameters)([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[l,p,(0,eC.keccak256)(e),(0,eC.keccak256)(s),o,y,d,u,c,(0,eC.keccak256)(m)])}if("0.7"===r){let e=eT(n);return(0,eU.encodeAbiParameters)([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"}],[e.sender,e.nonce,(0,eC.keccak256)(e.initCode),(0,eC.keccak256)(e.callData),e.accountGasLimits,e.preVerificationGas,e.gasFees,(0,eC.keccak256)(e.paymasterAndData)])}throw Error(`entryPointVersion "${r}" not supported.`)})();return(0,eC.keccak256)((0,eU.encodeAbiParameters)([{type:"bytes32"},{type:"address"},{type:"uint256"}],[(0,eC.keccak256)(f),a,BigInt(t)]))}e.s(["getUserOperationHash",()=>ej],547160);var eV=e.i(137195),eM=e.i(528804),ez=e.i(388750),eH=e.i(903472),eR=e.i(855100);async function eN(e){let{extend:t,nonceKeyManager:a=(0,eH.createNonceManager)({source:{get:()=>Date.now(),set(){}}}),...r}=e,n=!1,i=await e.getAddress();return{...t,...r,address:i,async getFactoryArgs(){return"isDeployed"in this&&await this.isDeployed()?{factory:void 0,factoryData:void 0}:e.getFactoryArgs()},async getNonce(t){let r=t?.key??BigInt(await a.consume({address:i,chainId:e.client.chain.id,client:e.client}));return e.getNonce?await e.getNonce({...t,key:r}):await (0,ez.readContract)(e.client,{abi:(0,eV.parseAbi)(["function getNonce(address, uint192) pure returns (uint256)"]),address:e.entryPoint.address,functionName:"getNonce",args:[i,r]})},isDeployed:async()=>!!n||(n=!!await (0,p.getAction)(e.client,eM.getCode,"getCode")({address:i})),...e.sign?{async sign(t){let[{factory:a,factoryData:r},n]=await Promise.all([this.getFactoryArgs(),e.sign(t)]);return a&&r?(0,eR.serializeErc6492Signature)({address:a,data:r,signature:n}):n}}:{},async signMessage(t){let[{factory:a,factoryData:r},n]=await Promise.all([this.getFactoryArgs(),e.signMessage(t)]);return a&&r&&"0x7702"!==a?(0,eR.serializeErc6492Signature)({address:a,data:r,signature:n}):n},async signTypedData(t){let[{factory:a,factoryData:r},n]=await Promise.all([this.getFactoryArgs(),e.signTypedData(t)]);return a&&r&&"0x7702"!==a?(0,eR.serializeErc6492Signature)({address:a,data:r,signature:n}):n},type:"smart"}}e.s(["toSmartAccount",()=>eN],875740)}]);